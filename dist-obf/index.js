const a0_0xc15861=a0_0x596b;(function(_0x58721e,_0x27cc20){const _0x52fd5b=a0_0x596b,_0x47f3e2=_0x58721e();while(!![]){try{const _0x10c070=-parseInt(_0x52fd5b(0x22a))/0x1*(-parseInt(_0x52fd5b(0x1d2))/0x2)+parseInt(_0x52fd5b(0x103))/0x3+-parseInt(_0x52fd5b(0x11a))/0x4*(-parseInt(_0x52fd5b(0x106))/0x5)+-parseInt(_0x52fd5b(0x180))/0x6+-parseInt(_0x52fd5b(0x1f4))/0x7+-parseInt(_0x52fd5b(0x102))/0x8+-parseInt(_0x52fd5b(0x235))/0x9;if(_0x10c070===_0x27cc20)break;else _0x47f3e2['push'](_0x47f3e2['shift']());}catch(_0x11a7ba){_0x47f3e2['push'](_0x47f3e2['shift']());}}}(a0_0x5f15,0x4ac1c));const a0_0x32dffa=(function(){let _0x31b318=!![];return function(_0x1eb4de,_0x377a17){const _0x3da631=_0x31b318?function(){const _0x2af9ef=a0_0x596b;if(_0x377a17){const _0x55611d=_0x377a17[_0x2af9ef(0x214)](_0x1eb4de,arguments);return _0x377a17=null,_0x55611d;}}:function(){};return _0x31b318=![],_0x3da631;};}()),a0_0xe5f221=a0_0x32dffa(this,function(){const _0x2481ed=a0_0x596b;return a0_0xe5f221['toString']()['search'](_0x2481ed(0x148))[_0x2481ed(0xf8)]()[_0x2481ed(0x1a9)](a0_0xe5f221)[_0x2481ed(0x204)](_0x2481ed(0x148));});a0_0xe5f221();var splitPath=_0x7ef60=>{const _0x5d9ab7=a0_0x596b,_0x1fe1c9=_0x7ef60[_0x5d9ab7(0x1ce)]('/');return _0x1fe1c9[0x0]===''&&_0x1fe1c9['shift'](),_0x1fe1c9;},splitRoutingPath=_0x13ca55=>{const {groups:_0x56d47e,path:_0x7d0cbc}=extractGroupsFromPath(_0x13ca55),_0x425523=splitPath(_0x7d0cbc);return replaceGroupMarks(_0x425523,_0x56d47e);},extractGroupsFromPath=_0x5850de=>{const _0x23acc5=a0_0x596b,_0x5e8b9a=[];return _0x5850de=_0x5850de[_0x23acc5(0x1da)](/\{[^}]+\}/g,(_0x3bfa1b,_0xc24e3c)=>{const _0x2402b7='@'+_0xc24e3c;return _0x5e8b9a['push']([_0x2402b7,_0x3bfa1b]),_0x2402b7;}),{'groups':_0x5e8b9a,'path':_0x5850de};},replaceGroupMarks=(_0x52d1c6,_0x22bf7e)=>{const _0x1b27a4=a0_0x596b;for(let _0xe57c9f=_0x22bf7e[_0x1b27a4(0x19d)]-0x1;_0xe57c9f>=0x0;_0xe57c9f--){const [_0x33b72b]=_0x22bf7e[_0xe57c9f];for(let _0x61a851=_0x52d1c6[_0x1b27a4(0x19d)]-0x1;_0x61a851>=0x0;_0x61a851--){if(_0x52d1c6[_0x61a851][_0x1b27a4(0x230)](_0x33b72b)){_0x52d1c6[_0x61a851]=_0x52d1c6[_0x61a851][_0x1b27a4(0x1da)](_0x33b72b,_0x22bf7e[_0xe57c9f][0x1]);break;}}}return _0x52d1c6;},patternCache={},getPattern=_0x557c09=>{const _0x1a5d06=a0_0x596b;if(_0x557c09==='*')return'*';const _0x200c3d=_0x557c09[_0x1a5d06(0x217)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x200c3d)return!patternCache[_0x557c09]&&(_0x200c3d[0x2]?patternCache[_0x557c09]=[_0x557c09,_0x200c3d[0x1],new RegExp('^'+_0x200c3d[0x2]+'$')]:patternCache[_0x557c09]=[_0x557c09,_0x200c3d[0x1],!![]]),patternCache[_0x557c09];return null;},getPath=_0x34a4bc=>{const _0x457ce4=a0_0x596b,_0x5e5e87=_0x34a4bc[_0x457ce4(0x182)]['match'](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x5e5e87?_0x5e5e87[0x1]:'';},getQueryStrings=_0x269408=>{const _0x240ce0=a0_0x596b,_0x5c3c09=_0x269408['indexOf']('?',0x8);return _0x5c3c09===-0x1?'':'?'+_0x269408[_0x240ce0(0x233)](_0x5c3c09+0x1);},getPathNoStrict=_0x43636e=>{const _0x523bbe=a0_0x596b,_0x30570d=getPath(_0x43636e);return _0x30570d['length']>0x1&&_0x30570d[_0x30570d[_0x523bbe(0x19d)]-0x1]==='/'?_0x30570d[_0x523bbe(0x233)](0x0,-0x1):_0x30570d;},mergePath=(..._0x3e6a79)=>{const _0x1b079a=a0_0x596b;let _0x4c05f4='',_0x1d6466=![];for(let _0x526e89 of _0x3e6a79){_0x4c05f4[_0x4c05f4[_0x1b079a(0x19d)]-0x1]==='/'&&(_0x4c05f4=_0x4c05f4['slice'](0x0,-0x1),_0x1d6466=!![]);_0x526e89[0x0]!=='/'&&(_0x526e89='/'+_0x526e89);if(_0x526e89==='/'&&_0x1d6466)_0x4c05f4=_0x4c05f4+'/';else _0x526e89!=='/'&&(_0x4c05f4=''+_0x4c05f4+_0x526e89);_0x526e89==='/'&&_0x4c05f4===''&&(_0x4c05f4='/');}return _0x4c05f4;},checkOptionalParameter=_0x5f0055=>{const _0x164f82=a0_0x596b;if(!_0x5f0055[_0x164f82(0x217)](/\:.+\?$/))return null;const _0x3e4bcc=_0x5f0055['split']('/'),_0x3ed350=[];let _0x23d88a='';return _0x3e4bcc[_0x164f82(0x24c)](_0x3ea6d6=>{const _0x3c68fd=_0x164f82;if(_0x3ea6d6!==''&&!/\:/['test'](_0x3ea6d6))_0x23d88a+='/'+_0x3ea6d6;else{if(/\:/['test'](_0x3ea6d6)){if(/\?/[_0x3c68fd(0x245)](_0x3ea6d6)){_0x3ed350[_0x3c68fd(0x19d)]===0x0&&_0x23d88a===''?_0x3ed350[_0x3c68fd(0x219)]('/'):_0x3ed350[_0x3c68fd(0x219)](_0x23d88a);const _0x7538dd=_0x3ea6d6[_0x3c68fd(0x1da)]('?','');_0x23d88a+='/'+_0x7538dd,_0x3ed350['push'](_0x23d88a);}else _0x23d88a+='/'+_0x3ea6d6;}}}),_0x3ed350[_0x164f82(0x23e)]((_0xf6af8d,_0x40448f,_0x35ffdc)=>_0x35ffdc[_0x164f82(0x11b)](_0xf6af8d)===_0x40448f);},_decodeURI=_0x3fd2b7=>{const _0x124106=a0_0x596b;if(!/[%+]/[_0x124106(0x245)](_0x3fd2b7))return _0x3fd2b7;return _0x3fd2b7[_0x124106(0x11b)]('+')!==-0x1&&(_0x3fd2b7=_0x3fd2b7['replace'](/\+/g,'\x20')),/%/[_0x124106(0x245)](_0x3fd2b7)?decodeURIComponent_(_0x3fd2b7):_0x3fd2b7;},_getQueryParam=(_0x3d8f6e,_0x3fad18,_0x13f32c)=>{const _0x479554=a0_0x596b;let _0x25706b;if(!_0x13f32c&&_0x3fad18&&!/[%+]/['test'](_0x3fad18)){let _0x479d6f=_0x3d8f6e[_0x479554(0x11b)]('?'+_0x3fad18,0x8);_0x479d6f===-0x1&&(_0x479d6f=_0x3d8f6e[_0x479554(0x11b)]('&'+_0x3fad18,0x8));while(_0x479d6f!==-0x1){const _0x581a56=_0x3d8f6e[_0x479554(0x14f)](_0x479d6f+_0x3fad18[_0x479554(0x19d)]+0x1);if(_0x581a56===0x3d){const _0x3b2611=_0x479d6f+_0x3fad18[_0x479554(0x19d)]+0x2,_0x5ad7e3=_0x3d8f6e[_0x479554(0x11b)]('&',_0x3b2611);return _decodeURI(_0x3d8f6e[_0x479554(0x233)](_0x3b2611,_0x5ad7e3===-0x1?void 0x0:_0x5ad7e3));}else{if(_0x581a56==0x26||isNaN(_0x581a56))return'';}_0x479d6f=_0x3d8f6e['indexOf']('&'+_0x3fad18,_0x479d6f+0x1);}_0x25706b=/[%+]/[_0x479554(0x245)](_0x3d8f6e);if(!_0x25706b)return void 0x0;}const _0x104848={};_0x25706b??(_0x25706b=/[%+]/[_0x479554(0x245)](_0x3d8f6e));let _0x329fb0=_0x3d8f6e[_0x479554(0x11b)]('?',0x8);while(_0x329fb0!==-0x1){const _0x3a03d4=_0x3d8f6e[_0x479554(0x11b)]('&',_0x329fb0+0x1);let _0x11bba4=_0x3d8f6e['indexOf']('=',_0x329fb0);_0x11bba4>_0x3a03d4&&_0x3a03d4!==-0x1&&(_0x11bba4=-0x1);let _0xc09c69=_0x3d8f6e[_0x479554(0x233)](_0x329fb0+0x1,_0x11bba4===-0x1?_0x3a03d4===-0x1?void 0x0:_0x3a03d4:_0x11bba4);_0x25706b&&(_0xc09c69=_decodeURI(_0xc09c69));_0x329fb0=_0x3a03d4;if(_0xc09c69==='')continue;let _0x582ccb;_0x11bba4===-0x1?_0x582ccb='':(_0x582ccb=_0x3d8f6e['slice'](_0x11bba4+0x1,_0x3a03d4===-0x1?void 0x0:_0x3a03d4),_0x25706b&&(_0x582ccb=_decodeURI(_0x582ccb)));if(_0x13f32c){!(_0x104848[_0xc09c69]&&Array['isArray'](_0x104848[_0xc09c69]))&&(_0x104848[_0xc09c69]=[]);;_0x104848[_0xc09c69][_0x479554(0x219)](_0x582ccb);}else _0x104848[_0xc09c69]??(_0x104848[_0xc09c69]=_0x582ccb);}return _0x3fad18?_0x104848[_0x3fad18]:_0x104848;},getQueryParam=_getQueryParam,getQueryParams=(_0x1c00d7,_0x4dc919)=>{return _getQueryParam(_0x1c00d7,_0x4dc919,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0xec1a61,_0x3e079a)=>{const _0x266187=a0_0x596b,_0x13970c=_0xec1a61[_0x266187(0x220)]()['split'](';');return _0x13970c['reduce']((_0x32f52d,_0x531439)=>{const _0x480a06=_0x266187;_0x531439=_0x531439['trim']();const _0x416ea7=_0x531439[_0x480a06(0x11b)]('=');if(_0x416ea7===-0x1)return _0x32f52d;const _0x2a7de0=_0x531439[_0x480a06(0x15e)](0x0,_0x416ea7)[_0x480a06(0x220)]();if(_0x3e079a&&_0x3e079a!==_0x2a7de0||!validCookieNameRegEx[_0x480a06(0x245)](_0x2a7de0))return _0x32f52d;let _0x56383d=_0x531439[_0x480a06(0x15e)](_0x416ea7+0x1)[_0x480a06(0x220)]();return _0x56383d[_0x480a06(0x16b)]('\x22')&&_0x56383d[_0x480a06(0x113)]('\x22')&&(_0x56383d=_0x56383d[_0x480a06(0x233)](0x1,-0x1)),validCookieValueRegEx[_0x480a06(0x245)](_0x56383d)&&(_0x32f52d[_0x2a7de0]=decodeURIComponent_(_0x56383d)),_0x32f52d;},{});},_serialize=(_0x482357,_0x44e234,_0x18f29d={})=>{const _0x3d4d2d=a0_0x596b;let _0x1b24ac=_0x482357+'='+_0x44e234;return _0x18f29d&&typeof _0x18f29d[_0x3d4d2d(0x1db)]==='number'&&_0x18f29d[_0x3d4d2d(0x1db)]>=0x0&&(_0x1b24ac+=_0x3d4d2d(0x17c)+Math[_0x3d4d2d(0x263)](_0x18f29d['maxAge'])),_0x18f29d[_0x3d4d2d(0xf7)]&&(_0x1b24ac+=';\x20Domain='+_0x18f29d[_0x3d4d2d(0xf7)]),_0x18f29d[_0x3d4d2d(0x1af)]&&(_0x1b24ac+=_0x3d4d2d(0x1a2)+_0x18f29d[_0x3d4d2d(0x1af)]),_0x18f29d['expires']&&(_0x1b24ac+=_0x3d4d2d(0x265)+_0x18f29d[_0x3d4d2d(0x18d)][_0x3d4d2d(0x226)]()),_0x18f29d[_0x3d4d2d(0x249)]&&(_0x1b24ac+=';\x20HttpOnly'),_0x18f29d[_0x3d4d2d(0x16f)]&&(_0x1b24ac+=_0x3d4d2d(0x143)),_0x18f29d['sameSite']&&(_0x1b24ac+=';\x20SameSite='+_0x18f29d[_0x3d4d2d(0x17b)]),_0x18f29d['partitioned']&&(_0x1b24ac+=_0x3d4d2d(0x1d5)),_0x1b24ac;},serialize=(_0x999a9,_0x26bd32,_0x1bcc57={})=>{return _0x26bd32=encodeURIComponent(_0x26bd32),_serialize(_0x999a9,_0x26bd32,_0x1bcc57);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0x136c33,_0x3e7e2b)=>{const _0x3d0809=a0_0x596b,_0x2895ce=new String(_0x136c33);return _0x2895ce[_0x3d0809(0x164)]=!![],_0x2895ce[_0x3d0809(0x1c6)]=_0x3e7e2b,_0x2895ce;},resolveCallback=async(_0x596909,_0x249764,_0xcaf7de,_0x2cbaa3,_0x265ce7)=>{const _0x508860=a0_0x596b,_0x428efc=_0x596909[_0x508860(0x1c6)];if(!_0x428efc?.['length'])return Promise[_0x508860(0x1b4)](_0x596909);_0x265ce7?_0x265ce7[0x0]+=_0x596909:_0x265ce7=[_0x596909];const _0x1d7d14=Promise['all'](_0x428efc[_0x508860(0x256)](_0x31b448=>_0x31b448({'phase':_0x249764,'buffer':_0x265ce7,'context':_0x2cbaa3})))['then'](_0x17d666=>Promise[_0x508860(0x1bc)](_0x17d666['filter'](Boolean)['map'](_0x545381=>resolveCallback(_0x545381,_0x249764,![],_0x2cbaa3,_0x265ce7)))[_0x508860(0x13f)](()=>_0x265ce7[0x0]));return _0xcaf7de?raw(await _0x1d7d14,_0x428efc):_0x1d7d14;},StreamingApi=class{constructor(_0x4e75e5,_0x47271f){const _0x242f22=a0_0x596b;this[_0x242f22(0x17e)]=[],this[_0x242f22(0x236)]=_0x4e75e5,this[_0x242f22(0x25b)]=_0x4e75e5[_0x242f22(0x259)](),this[_0x242f22(0x127)]=new TextEncoder();const _0x5c5a78=_0x47271f[_0x242f22(0x238)]();this[_0x242f22(0x11c)]=new ReadableStream({async 'pull'(_0x59d10f){const _0x5592db=_0x242f22,{done:_0x5a618f,value:_0x1ceb9a}=await _0x5c5a78[_0x5592db(0x193)]();_0x5a618f?_0x59d10f['close']():_0x59d10f[_0x5592db(0x162)](_0x1ceb9a);},'cancel':()=>{const _0x358233=_0x242f22;this[_0x358233(0x17e)][_0x358233(0x24c)](_0x36bc21=>_0x36bc21());}});}async[a0_0xc15861(0x111)](_0x3e0ef){const _0x1fc9f4=a0_0xc15861;try{typeof _0x3e0ef===_0x1fc9f4(0x22d)&&(_0x3e0ef=this[_0x1fc9f4(0x127)][_0x1fc9f4(0x157)](_0x3e0ef)),await this[_0x1fc9f4(0x25b)]['write'](_0x3e0ef);}catch(_0x13f76f){}return this;}async['writeln'](_0x4dddaf){const _0x1c4fe5=a0_0xc15861;return await this[_0x1c4fe5(0x111)](_0x4dddaf+'\x0a'),this;}[a0_0xc15861(0x250)](_0x539c6){return new Promise(_0x3b560e=>setTimeout(_0x3b560e,_0x539c6));}async[a0_0xc15861(0x1f3)](){const _0x10d63f=a0_0xc15861;try{await this[_0x10d63f(0x25b)][_0x10d63f(0x1f3)]();}catch(_0x4e4d02){}}async[a0_0xc15861(0x169)](_0x4c2bb5){const _0x1443a3=a0_0xc15861;this[_0x1443a3(0x25b)]['releaseLock'](),await _0x4c2bb5[_0x1443a3(0x264)](this[_0x1443a3(0x236)],{'preventClose':!![]}),this[_0x1443a3(0x25b)]=this[_0x1443a3(0x236)]['getWriter']();}async[a0_0xc15861(0x215)](_0x359ed3){const _0x13cf6c=a0_0xc15861;this['abortSubscribers'][_0x13cf6c(0x219)](_0x359ed3);}},__accessCheck=(_0x84d92e,_0xfb10db,_0x484505)=>{const _0x2dad2d=a0_0xc15861;if(!_0xfb10db[_0x2dad2d(0x1d8)](_0x84d92e))throw TypeError(_0x2dad2d(0x1d3)+_0x484505);},__privateGet=(_0x2ad398,_0x3fee80,_0x248b21)=>{const _0x1011ce=a0_0xc15861;return __accessCheck(_0x2ad398,_0x3fee80,_0x1011ce(0x260)),_0x248b21?_0x248b21[_0x1011ce(0x1e3)](_0x2ad398):_0x3fee80[_0x1011ce(0x17d)](_0x2ad398);},__privateAdd=(_0x5b0d57,_0x13c302,_0x2f5c6a)=>{const _0x394506=a0_0xc15861;if(_0x13c302[_0x394506(0x1d8)](_0x5b0d57))throw TypeError(_0x394506(0x203));_0x13c302 instanceof WeakSet?_0x13c302[_0x394506(0x15c)](_0x5b0d57):_0x13c302[_0x394506(0x179)](_0x5b0d57,_0x2f5c6a);},__privateSet=(_0x3c53e0,_0x2ed2ca,_0x33f881,_0x36a3ce)=>{const _0x2fadf0=a0_0xc15861;return __accessCheck(_0x3c53e0,_0x2ed2ca,_0x2fadf0(0x1e9)),_0x36a3ce?_0x36a3ce[_0x2fadf0(0x1e3)](_0x3c53e0,_0x33f881):_0x2ed2ca['set'](_0x3c53e0,_0x33f881),_0x33f881;},TEXT_PLAIN=a0_0xc15861(0x158),setHeaders=(_0xf387de,_0x2e0296={})=>{const _0x135142=a0_0xc15861;return Object[_0x135142(0x149)](_0x2e0296)[_0x135142(0x24c)](([_0x54c2d5,_0x122fc8])=>_0xf387de[_0x135142(0x179)](_0x54c2d5,_0x122fc8)),_0xf387de;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x2a49f2,_0x2f9d5a){const _0x307daf=a0_0xc15861;this[_0x307daf(0x20d)]={},this[_0x307daf(0x101)]={},this[_0x307daf(0x24d)]=![],this['error']=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this[_0x307daf(0x134)]=_0x3b6728=>this['html'](_0x3b6728),this[_0x307daf(0x1b7)]=()=>new Response(),this[_0x307daf(0x1a0)]=(..._0x25f63e)=>this[_0x307daf(0x134)](..._0x25f63e),this[_0x307daf(0x254)]=_0xa9a8b0=>{this['renderer']=_0xa9a8b0;},this[_0x307daf(0x1e0)]=(_0x5f0f0c,_0x38b2b7,_0x316f7a)=>{const _0xfb0fc5=_0x307daf;if(_0x38b2b7===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)[_0xfb0fc5(0x1b2)](_0x5f0f0c);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x5f0f0c['toLocaleLowerCase']()];this[_0xfb0fc5(0x24d)]&&this['res'][_0xfb0fc5(0x144)][_0xfb0fc5(0x1b2)](_0x5f0f0c);return;}_0x316f7a?.[_0xfb0fc5(0x196)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)['append'](_0x5f0f0c,_0x38b2b7)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0xfb0fc5(0x179)](_0x5f0f0c,_0x38b2b7):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x5f0f0c[_0xfb0fc5(0x202)]()]=_0x38b2b7),this[_0xfb0fc5(0x24d)]&&(_0x316f7a?.[_0xfb0fc5(0x196)]?this['res'][_0xfb0fc5(0x144)][_0xfb0fc5(0x196)](_0x5f0f0c,_0x38b2b7):this[_0xfb0fc5(0x200)][_0xfb0fc5(0x144)][_0xfb0fc5(0x179)](_0x5f0f0c,_0x38b2b7));},this[_0x307daf(0x1c3)]=_0x4a8caf=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x4a8caf);},this[_0x307daf(0x179)]=(_0x56ee0e,_0x47cf53)=>{const _0x210e81=_0x307daf;this[_0x210e81(0x101)]??(this[_0x210e81(0x101)]={}),this[_0x210e81(0x101)][_0x56ee0e]=_0x47cf53;},this['get']=_0x2eeab0=>{const _0x159b43=_0x307daf;return this['_var']?this[_0x159b43(0x101)][_0x2eeab0]:void 0x0;},this[_0x307daf(0xf6)]=(_0x20faa9,_0x55ac82,_0xe5cb04)=>{const _0x43f6eb=_0x307daf;if(__privateGet(this,_isFresh)&&!_0xe5cb04&&!_0x55ac82&&__privateGet(this,_status)===0xc8)return new Response(_0x20faa9,{'headers':__privateGet(this,_preparedHeaders)});if(_0x55ac82&&typeof _0x55ac82!=='number'){const _0x58581b=setHeaders(new Headers(_0x55ac82[_0x43f6eb(0x144)]),__privateGet(this,_preparedHeaders));return new Response(_0x20faa9,{'headers':_0x58581b,'status':_0x55ac82['status']});}const _0x1b104d=typeof _0x55ac82==='number'?_0x55ac82:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)[_0x43f6eb(0x144)][_0x43f6eb(0x24c)]((_0x4fa8c7,_0x316777)=>{const _0x550b64=_0x43f6eb;__privateGet(this,_headers)?.[_0x550b64(0x179)](_0x316777,_0x4fa8c7);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0xe5cb04??(_0xe5cb04={});for(const [_0x323714,_0x408174]of Object[_0x43f6eb(0x149)](_0xe5cb04)){if(typeof _0x408174===_0x43f6eb(0x22d))__privateGet(this,_headers)['set'](_0x323714,_0x408174);else{__privateGet(this,_headers)[_0x43f6eb(0x1b2)](_0x323714);for(const _0x5bace0 of _0x408174){__privateGet(this,_headers)[_0x43f6eb(0x196)](_0x323714,_0x5bace0);}}}return new Response(_0x20faa9,{'status':_0x1b104d,'headers':__privateGet(this,_headers)});},this[_0x307daf(0x17a)]=(_0x11fe11,_0x33d990,_0x54c8b1)=>{const _0x20879d=_0x307daf;return typeof _0x33d990==='number'?this['newResponse'](_0x11fe11,_0x33d990,_0x54c8b1):this[_0x20879d(0xf6)](_0x11fe11,_0x33d990);},this[_0x307daf(0x153)]=(_0x373573,_0x3d4173,_0x5c185c)=>{const _0x36a9cb=_0x307daf;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0x5c185c&&!_0x3d4173)return new Response(_0x373573);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)['content-type']=TEXT_PLAIN,typeof _0x3d4173==='number'?this['newResponse'](_0x373573,_0x3d4173,_0x5c185c):this[_0x36a9cb(0xf6)](_0x373573,_0x3d4173);},this[_0x307daf(0x198)]=(_0x57d556,_0x7b8df,_0x1d791e)=>{const _0x5ea6ff=_0x307daf,_0x3120d3=JSON[_0x5ea6ff(0x257)](_0x57d556);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x5ea6ff(0x175)]=_0x5ea6ff(0x109),typeof _0x7b8df==='number'?this[_0x5ea6ff(0xf6)](_0x3120d3,_0x7b8df,_0x1d791e):this[_0x5ea6ff(0xf6)](_0x3120d3,_0x7b8df);},this['jsonT']=(_0x391425,_0x121733,_0x1e8962)=>{const _0x11c891=_0x307daf;return this[_0x11c891(0x198)](_0x391425,_0x121733,_0x1e8962);},this['html']=(_0x2858f0,_0x124b26,_0x5c4c7c)=>{const _0x3a2888=_0x307daf;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x3a2888(0x175)]=_0x3a2888(0x1bf);if(typeof _0x2858f0===_0x3a2888(0x22b)){!(_0x2858f0 instanceof Promise)&&(_0x2858f0=_0x2858f0[_0x3a2888(0xf8)]());if(_0x2858f0 instanceof Promise)return _0x2858f0[_0x3a2888(0x13f)](_0x446417=>resolveCallback(_0x446417,HtmlEscapedCallbackPhase[_0x3a2888(0x150)],![],{}))[_0x3a2888(0x13f)](_0x12ed3d=>{const _0x1e02fe=_0x3a2888;return typeof _0x124b26===_0x1e02fe(0x173)?this[_0x1e02fe(0xf6)](_0x12ed3d,_0x124b26,_0x5c4c7c):this['newResponse'](_0x12ed3d,_0x124b26);});}return typeof _0x124b26===_0x3a2888(0x173)?this[_0x3a2888(0xf6)](_0x2858f0,_0x124b26,_0x5c4c7c):this[_0x3a2888(0xf6)](_0x2858f0,_0x124b26);},this[_0x307daf(0x206)]=(_0x13282d,_0x52733b=0x12e)=>{const _0x2b7f3c=_0x307daf;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0x2b7f3c(0x179)](_0x2b7f3c(0x100),_0x13282d),this[_0x2b7f3c(0xf6)](null,_0x52733b);},this[_0x307daf(0x117)]=(_0x4b3867,_0x294138,_0x230196)=>{const _0x562b62=_0x307daf;return _0x230196??(_0x230196={}),this['header'](_0x562b62(0x175),TEXT_PLAIN),this[_0x562b62(0x1e0)](_0x562b62(0x20a),_0x562b62(0x1f0)),this[_0x562b62(0x1e0)](_0x562b62(0x140),_0x562b62(0x130)),this[_0x562b62(0x10e)](_0x4b3867,_0x294138,_0x230196);},this[_0x307daf(0x10e)]=(_0x149ac2,_0x2bb0c7,_0xc224cc)=>{const _0x2dfc95=_0x307daf,{readable:_0x2dee71,writable:_0x245004}=new TransformStream(),_0x4543b3=new StreamingApi(_0x245004,_0x2dee71);return _0x149ac2(_0x4543b3)[_0x2dfc95(0x124)](()=>_0x4543b3[_0x2dfc95(0x1f3)]()),typeof _0x2bb0c7===_0x2dfc95(0x173)?this['newResponse'](_0x4543b3['responseReadable'],_0x2bb0c7,_0xc224cc):this[_0x2dfc95(0xf6)](_0x4543b3[_0x2dfc95(0x11c)],_0x2bb0c7);},this[_0x307daf(0x1ed)]=(_0x520138,_0x339457,_0x5e38b1)=>{const _0x28e6bb=_0x307daf,_0x392c71=serialize(_0x520138,_0x339457,_0x5e38b1);this[_0x28e6bb(0x1e0)](_0x28e6bb(0x244),_0x392c71,{'append':!![]});},this[_0x307daf(0x129)]=()=>{const _0x17e302=_0x307daf;return this[_0x17e302(0x1b7)](this);},this['req']=_0x2a49f2,_0x2f9d5a&&(__privateSet(this,_executionCtx,_0x2f9d5a[_0x307daf(0x115)]),this[_0x307daf(0x20d)]=_0x2f9d5a[_0x307daf(0x20d)],_0x2f9d5a[_0x307daf(0x1b7)]&&(this[_0x307daf(0x1b7)]=_0x2f9d5a[_0x307daf(0x1b7)]));}get[a0_0xc15861(0xf5)](){const _0x2b7d7a=a0_0xc15861;if(__privateGet(this,_executionCtx)&&'respondWith'in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x2b7d7a(0x189));}get[a0_0xc15861(0x115)](){const _0x2c77df=a0_0xc15861;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x2c77df(0x1ad));}get[a0_0xc15861(0x200)](){const _0x232415=a0_0xc15861;return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response(_0x232415(0x1bb),{'status':0x194}));}set[a0_0xc15861(0x200)](_0x9a9066){const _0x436d11=a0_0xc15861;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x9a9066){__privateGet(this,_res)[_0x436d11(0x144)][_0x436d11(0x1b2)](_0x436d11(0x175));for(const [_0x5a4275,_0x4fe0a5]of __privateGet(this,_res)[_0x436d11(0x144)][_0x436d11(0x149)]()){if(_0x5a4275===_0x436d11(0x244)){const _0x10a1f5=__privateGet(this,_res)[_0x436d11(0x144)]['getSetCookie']();_0x9a9066[_0x436d11(0x144)][_0x436d11(0x1b2)]('set-cookie');for(const _0x2cd128 of _0x10a1f5){_0x9a9066[_0x436d11(0x144)][_0x436d11(0x196)](_0x436d11(0x244),_0x2cd128);}}else _0x9a9066[_0x436d11(0x144)][_0x436d11(0x179)](_0x5a4275,_0x4fe0a5);}}__privateSet(this,_res,_0x9a9066),this[_0x436d11(0x24d)]=!![];}get['var'](){const _0xf0e1b3=a0_0xc15861;return{...this[_0xf0e1b3(0x101)]};}get[a0_0xc15861(0x1b3)](){const _0x490551=a0_0xc15861,_0x2a548c=globalThis;if(_0x2a548c?.[_0x490551(0x1a4)]!==void 0x0)return'deno';if(_0x2a548c?.['Bun']!==void 0x0)return _0x490551(0x234);if(typeof _0x2a548c?.[_0x490551(0x24e)]===_0x490551(0x167))return'workerd';if(typeof _0x2a548c?.[_0x490551(0x18b)]===_0x490551(0x22d))return _0x490551(0x23d);if(_0x2a548c?.[_0x490551(0x178)]!==void 0x0)return _0x490551(0x178);if(_0x2a548c?.[_0x490551(0x201)]!==void 0x0)return _0x490551(0x142);if(_0x2a548c?.[_0x490551(0x239)]?.[_0x490551(0x13e)]?.[_0x490551(0x155)]===_0x490551(0x1c5))return'node';return'other';}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x2631ec,_0x5914dd,_0x16110b)=>{return(_0x378bb4,_0x5db2a4)=>{let _0x334444=-0x1;return _0x72b30d(0x0);async function _0x72b30d(_0x168635){const _0xfe21bb=a0_0x596b;if(_0x168635<=_0x334444)throw new Error(_0xfe21bb(0xfa));_0x334444=_0x168635;let _0x285457,_0x142715=![],_0x1f9e09;_0x2631ec[_0x168635]?(_0x1f9e09=_0x2631ec[_0x168635][0x0][0x0],_0x378bb4 instanceof Context&&(_0x378bb4[_0xfe21bb(0x183)][_0xfe21bb(0x13d)]=_0x168635)):_0x1f9e09=_0x168635===_0x2631ec[_0xfe21bb(0x19d)]&&_0x5db2a4||void 0x0;if(!_0x1f9e09)_0x378bb4 instanceof Context&&_0x378bb4['finalized']===![]&&_0x16110b&&(_0x285457=await _0x16110b(_0x378bb4));else try{_0x285457=await _0x1f9e09(_0x378bb4,()=>{return _0x72b30d(_0x168635+0x1);});}catch(_0x6688cf){if(_0x6688cf instanceof Error&&_0x378bb4 instanceof Context&&_0x5914dd)_0x378bb4[_0xfe21bb(0x1bd)]=_0x6688cf,_0x285457=await _0x5914dd(_0x6688cf,_0x378bb4),_0x142715=!![];else throw _0x6688cf;}return _0x285457&&(_0x378bb4[_0xfe21bb(0x24d)]===![]||_0x142715)&&(_0x378bb4[_0xfe21bb(0x200)]=_0x285457),_0x378bb4;}};},HTTPException=class extends Error{constructor(_0x1ed2f7=0x1f4,_0x6c3077){const _0x46d1d4=a0_0xc15861;super(_0x6c3077?.[_0x46d1d4(0x1c9)]),this[_0x46d1d4(0x200)]=_0x6c3077?.[_0x46d1d4(0x200)],this[_0x46d1d4(0x1c3)]=_0x1ed2f7;}[a0_0xc15861(0xf9)](){const _0x417529=a0_0xc15861;if(this[_0x417529(0x200)])return this[_0x417529(0x200)];return new Response(this[_0x417529(0x1c9)],{'status':this[_0x417529(0x1c3)]});}},parseBody=async(_0x7818ae,_0x3d5c23={'all':![]})=>{const _0x51b09a=a0_0xc15861,_0x5d21bc=_0x7818ae[_0x51b09a(0x144)][_0x51b09a(0x17d)](_0x51b09a(0x12b));if(isFormDataContent(_0x5d21bc))return parseFormData(_0x7818ae,_0x3d5c23);return{};};function isFormDataContent(_0x50e11b){const _0x5312cd=a0_0xc15861;if(_0x50e11b===null)return![];return _0x50e11b[_0x5312cd(0x16b)](_0x5312cd(0x104))||_0x50e11b['startsWith'](_0x5312cd(0x126));}async function parseFormData(_0x17a594,_0xd42d5a){const _0x4d18f4=await _0x17a594['formData']();if(_0x4d18f4)return convertFormDataToBodyData(_0x4d18f4,_0xd42d5a);return{};}function convertFormDataToBodyData(_0x91bed,_0xec234a){const _0x162bef={};return _0x91bed['forEach']((_0x361845,_0x26042b)=>{const _0x20c0e7=a0_0x596b,_0x71ee79=_0xec234a['all']||_0x26042b[_0x20c0e7(0x113)]('[]');!_0x71ee79?_0x162bef[_0x26042b]=_0x361845:handleParsingAllValues(_0x162bef,_0x26042b,_0x361845);}),_0x162bef;}var handleParsingAllValues=(_0x2b67d0,_0x40a9aa,_0xa96766)=>{if(_0x2b67d0[_0x40a9aa]&&isArrayField(_0x2b67d0[_0x40a9aa]))appendToExistingArray(_0x2b67d0[_0x40a9aa],_0xa96766);else _0x2b67d0[_0x40a9aa]?convertToNewArray(_0x2b67d0,_0x40a9aa,_0xa96766):_0x2b67d0[_0x40a9aa]=_0xa96766;};function isArrayField(_0x3590df){const _0x4efaa4=a0_0xc15861;return Array[_0x4efaa4(0x1f1)](_0x3590df);}var appendToExistingArray=(_0x177597,_0x51eca6)=>{const _0x23fca4=a0_0xc15861;_0x177597[_0x23fca4(0x219)](_0x51eca6);},convertToNewArray=(_0x6d266e,_0x3571ee,_0x1962cc)=>{_0x6d266e[_0x3571ee]=[_0x6d266e[_0x3571ee],_0x1962cc];},__accessCheck2=(_0x52ec0e,_0x5d9215,_0x260b98)=>{const _0x1b4470=a0_0xc15861;if(!_0x5d9215[_0x1b4470(0x1d8)](_0x52ec0e))throw TypeError(_0x1b4470(0x1d3)+_0x260b98);},__privateGet2=(_0x611dde,_0x3dbb99,_0x2ec9eb)=>{const _0x22e13c=a0_0xc15861;return __accessCheck2(_0x611dde,_0x3dbb99,_0x22e13c(0x260)),_0x2ec9eb?_0x2ec9eb['call'](_0x611dde):_0x3dbb99[_0x22e13c(0x17d)](_0x611dde);},__privateAdd2=(_0x4361fb,_0x14d5d2,_0x447273)=>{const _0x4dfe55=a0_0xc15861;if(_0x14d5d2[_0x4dfe55(0x1d8)](_0x4361fb))throw TypeError(_0x4dfe55(0x203));_0x14d5d2 instanceof WeakSet?_0x14d5d2[_0x4dfe55(0x15c)](_0x4361fb):_0x14d5d2['set'](_0x4361fb,_0x447273);},__privateSet2=(_0x1b8db6,_0x522778,_0x2e1037,_0x4c78e9)=>{const _0x50855a=a0_0xc15861;return __accessCheck2(_0x1b8db6,_0x522778,_0x50855a(0x1e9)),_0x4c78e9?_0x4c78e9[_0x50855a(0x1e3)](_0x1b8db6,_0x2e1037):_0x522778['set'](_0x1b8db6,_0x2e1037),_0x2e1037;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x586649,_0x427359='/',_0x313eeb=[[]]){const _0x53e804=a0_0xc15861;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this['routeIndex']=0x0,this[_0x53e804(0x18e)]={},this[_0x53e804(0x266)]=_0x35c0c7=>{const _0x4e7bf1=_0x53e804,{bodyCache:_0x3ee91d,raw:_0x559e72}=this,_0x42cfe3=_0x3ee91d[_0x35c0c7];if(_0x42cfe3)return _0x42cfe3;if(_0x3ee91d[_0x4e7bf1(0x1de)])return((async()=>{const _0x4a7878=_0x4e7bf1;return await new Response(_0x3ee91d[_0x4a7878(0x1de)])[_0x35c0c7]();})());return _0x3ee91d[_0x35c0c7]=_0x559e72[_0x35c0c7]();},this['raw']=_0x586649,this[_0x53e804(0x1af)]=_0x427359,__privateSet2(this,_matchResult,_0x313eeb),__privateSet2(this,_validatedData,{});}[a0_0xc15861(0x261)](_0x870850){const _0x39c446=a0_0xc15861;return _0x870850?this['getDecodedParam'](_0x870850):this[_0x39c446(0x10c)]();}[a0_0xc15861(0x151)](_0x3dafa5){const _0x4603d8=a0_0xc15861,_0x104499=__privateGet2(this,_matchResult)[0x0][this[_0x4603d8(0x13d)]][0x1][_0x3dafa5],_0x4b7f01=this[_0x4603d8(0x1ef)](_0x104499);return _0x4b7f01?/\%/[_0x4603d8(0x245)](_0x4b7f01)?decodeURIComponent_(_0x4b7f01):_0x4b7f01:void 0x0;}['getAllDecodedParams'](){const _0x100c18=a0_0xc15861,_0x3fbf26={},_0x35e52c=Object['keys'](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1]);for(const _0x5c571 of _0x35e52c){const _0x1c722a=this[_0x100c18(0x1ef)](__privateGet2(this,_matchResult)[0x0][this[_0x100c18(0x13d)]][0x1][_0x5c571]);_0x1c722a&&typeof _0x1c722a==='string'&&(_0x3fbf26[_0x5c571]=/\%/['test'](_0x1c722a)?decodeURIComponent_(_0x1c722a):_0x1c722a);}return _0x3fbf26;}[a0_0xc15861(0x1ef)](_0x2aecba){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x2aecba]:_0x2aecba;}[a0_0xc15861(0x120)](_0x5136e6){return getQueryParam(this['url'],_0x5136e6);}[a0_0xc15861(0x1dd)](_0x35fcb5){const _0x3c0aab=a0_0xc15861;return getQueryParams(this[_0x3c0aab(0x182)],_0x35fcb5);}[a0_0xc15861(0x1e0)](_0x2177a0){const _0x323bab=a0_0xc15861;if(_0x2177a0)return this[_0x323bab(0x18f)][_0x323bab(0x144)][_0x323bab(0x17d)](_0x2177a0['toLowerCase']())??void 0x0;const _0x52ce6a={};return this[_0x323bab(0x18f)]['headers']['forEach']((_0xadcfca,_0x556817)=>{_0x52ce6a[_0x556817]=_0xadcfca;}),_0x52ce6a;}[a0_0xc15861(0x1ed)](_0x32cd54){const _0x317dfa=a0_0xc15861,_0x5d4ee2=this[_0x317dfa(0x18f)]['headers'][_0x317dfa(0x17d)]('Cookie');if(!_0x5d4ee2)return;const _0x21ad33=parse(_0x5d4ee2);if(_0x32cd54){const _0x3b7ebc=_0x21ad33[_0x32cd54];return _0x3b7ebc;}else return _0x21ad33;}async[a0_0xc15861(0x1f5)](_0x2ff81f){const _0x8e27da=a0_0xc15861;if(this['bodyCache'][_0x8e27da(0x170)])return this[_0x8e27da(0x18e)][_0x8e27da(0x170)];const _0x59eb1d=await parseBody(this,_0x2ff81f);return this[_0x8e27da(0x18e)][_0x8e27da(0x170)]=_0x59eb1d,_0x59eb1d;}[a0_0xc15861(0x198)](){const _0x510101=a0_0xc15861;return this[_0x510101(0x266)]('json');}[a0_0xc15861(0x153)](){const _0x5592a2=a0_0xc15861;return this[_0x5592a2(0x266)](_0x5592a2(0x153));}[a0_0xc15861(0x1de)](){const _0x4dab41=a0_0xc15861;return this['cachedBody'](_0x4dab41(0x1de));}[a0_0xc15861(0x20b)](){const _0x29f8b5=a0_0xc15861;return this['cachedBody'](_0x29f8b5(0x20b));}[a0_0xc15861(0x1eb)](){const _0x25c84c=a0_0xc15861;return this[_0x25c84c(0x266)](_0x25c84c(0x1eb));}[a0_0xc15861(0x1fe)](_0x35aa32,_0x3cd4cd){__privateGet2(this,_validatedData)[_0x35aa32]=_0x3cd4cd;}[a0_0xc15861(0x232)](_0x26690b){return __privateGet2(this,_validatedData)[_0x26690b];}get[a0_0xc15861(0x182)](){const _0x4deb56=a0_0xc15861;return this[_0x4deb56(0x18f)][_0x4deb56(0x182)];}get['method'](){const _0x10d3b3=a0_0xc15861;return this['raw'][_0x10d3b3(0x1d4)];}get[a0_0xc15861(0x1f6)](){const _0x31cd57=a0_0xc15861;return __privateGet2(this,_matchResult)[0x0][_0x31cd57(0x256)](([[,_0xa678b6]])=>_0xa678b6);}get[a0_0xc15861(0x1d7)](){const _0xf9d533=a0_0xc15861;return __privateGet2(this,_matchResult)[0x0][_0xf9d533(0x256)](([[,_0x438203]])=>_0x438203)[this[_0xf9d533(0x13d)]][_0xf9d533(0x1af)];}get[a0_0xc15861(0x144)](){const _0x550d93=a0_0xc15861;return this[_0x550d93(0x18f)][_0x550d93(0x144)];}get['body'](){const _0x57f44d=a0_0xc15861;return this[_0x57f44d(0x18f)][_0x57f44d(0x17a)];}get[a0_0xc15861(0x25a)](){const _0x543c94=a0_0xc15861;return this[_0x543c94(0x18f)]['bodyUsed'];}get[a0_0xc15861(0x1b9)](){const _0x20bf11=a0_0xc15861;return this[_0x20bf11(0x18f)][_0x20bf11(0x1b9)];}get['keepalive'](){const _0x2aefca=a0_0xc15861;return this['raw'][_0x2aefca(0x133)];}get['referrer'](){const _0x3c4b3a=a0_0xc15861;return this[_0x3c4b3a(0x18f)][_0x3c4b3a(0x19e)];}get['signal'](){const _0xb565ee=a0_0xc15861;return this['raw'][_0xb565ee(0x1b6)];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0xc15861(0x156),METHOD_NAME_ALL_LOWERCASE=a0_0xc15861(0x1bc),METHODS=['get','post',a0_0xc15861(0x161),'delete',a0_0xc15861(0x24b),'patch'],MESSAGE_MATCHER_IS_ALREADY_BUILT=a0_0xc15861(0x13c),UnsupportedPathError=class extends Error{},__accessCheck3=(_0x3091e8,_0x22f83e,_0x15fc1e)=>{const _0x2495df=a0_0xc15861;if(!_0x22f83e[_0x2495df(0x1d8)](_0x3091e8))throw TypeError('Cannot\x20'+_0x15fc1e);},__privateGet3=(_0x451f25,_0x3c41af,_0x16cc29)=>{const _0x50945b=a0_0xc15861;return __accessCheck3(_0x451f25,_0x3c41af,_0x50945b(0x260)),_0x16cc29?_0x16cc29[_0x50945b(0x1e3)](_0x451f25):_0x3c41af['get'](_0x451f25);},__privateAdd3=(_0x587666,_0x5952a2,_0x590ea0)=>{const _0x152917=a0_0xc15861;if(_0x5952a2['has'](_0x587666))throw TypeError(_0x152917(0x203));_0x5952a2 instanceof WeakSet?_0x5952a2[_0x152917(0x15c)](_0x587666):_0x5952a2[_0x152917(0x179)](_0x587666,_0x590ea0);},__privateSet3=(_0x5aecd9,_0x44487f,_0x4aae65,_0x5b51ef)=>{const _0x5cea2b=a0_0xc15861;return __accessCheck3(_0x5aecd9,_0x44487f,_0x5cea2b(0x1e9)),_0x5b51ef?_0x5b51ef['call'](_0x5aecd9,_0x4aae65):_0x44487f[_0x5cea2b(0x179)](_0x5aecd9,_0x4aae65),_0x4aae65;},COMPOSED_HANDLER=Symbol(a0_0xc15861(0x228));function defineDynamicClass(){return class{};}var notFoundHandler=_0x56f9a5=>{const _0x18abe7=a0_0xc15861;return _0x56f9a5[_0x18abe7(0x153)](_0x18abe7(0x1bb),0x194);},errorHandler=(_0x3ea67a,_0x52bcab)=>{const _0x14fddb=a0_0xc15861;if(_0x3ea67a instanceof HTTPException)return _0x3ea67a[_0x14fddb(0xf9)]();console[_0x14fddb(0x1bd)](_0x3ea67a);const _0x2e8ea1=_0x14fddb(0x146);return _0x52bcab['text'](_0x2e8ea1,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x5e76fe={}){const _0x2b9828=a0_0xc15861;super(),this[_0x2b9828(0x224)]='/',__privateAdd3(this,_path,'/'),this[_0x2b9828(0x221)]=[],this['notFoundHandler']=notFoundHandler,this[_0x2b9828(0x25c)]=errorHandler,this[_0x2b9828(0x132)]=_0x53ab20=>{return this['errorHandler']=_0x53ab20,this;},this[_0x2b9828(0x129)]=_0x4a416f=>{const _0x5987f6=_0x2b9828;return this[_0x5987f6(0x1b7)]=_0x4a416f,this;},this[_0x2b9828(0x123)]=()=>{const _0x656140=_0x2b9828;return console['warn'](_0x656140(0x1a5)),this;},this[_0x2b9828(0x185)]=_0x79c05e=>{const _0x5aeb9e=_0x2b9828;return this[_0x5aeb9e(0x1ac)](_0x79c05e[_0x5aeb9e(0x251)],_0x79c05e,void 0x0,_0x79c05e['request']['method']);},this[_0x2b9828(0x1e7)]=(_0x675203,_0x1eeff7,_0xadcb75)=>{const _0x12b991=_0x2b9828;return this[_0x12b991(0x1ac)](_0x675203,_0xadcb75,_0x1eeff7,_0x675203[_0x12b991(0x1d4)]);},this[_0x2b9828(0x251)]=(_0x256163,_0x4de275,_0x1a8474,_0x40940b)=>{const _0x4c0d63=_0x2b9828;if(_0x256163 instanceof Request)return _0x4de275!==void 0x0&&(_0x256163=new Request(_0x256163,_0x4de275)),this[_0x4c0d63(0x1e7)](_0x256163,_0x1a8474,_0x40940b);_0x256163=_0x256163[_0x4c0d63(0xf8)]();const _0x35b565=/^https?:\/\//[_0x4c0d63(0x245)](_0x256163)?_0x256163:_0x4c0d63(0x213)+mergePath('/',_0x256163),_0x56d6c8=new Request(_0x35b565,_0x4de275);return this['fetch'](_0x56d6c8,_0x1a8474,_0x40940b);},this['fire']=()=>{const _0x1f61a2=_0x2b9828;addEventListener(_0x1f61a2(0x1e7),_0x471757=>{const _0x43f144=_0x1f61a2;_0x471757[_0x43f144(0x1ec)](this[_0x43f144(0x1ac)](_0x471757[_0x43f144(0x251)],_0x471757,void 0x0,_0x471757[_0x43f144(0x251)][_0x43f144(0x1d4)]));});};const _0x340664=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x340664['map'](_0x163d34=>{this[_0x163d34]=(_0x51db5b,..._0x1fea3f)=>{const _0x34da4a=a0_0x596b;return typeof _0x51db5b==='string'?__privateSet3(this,_path,_0x51db5b):this[_0x34da4a(0x11e)](_0x163d34,__privateGet3(this,_path),_0x51db5b),_0x1fea3f[_0x34da4a(0x256)](_0x5e129a=>{const _0xe10030=_0x34da4a;typeof _0x5e129a!==_0xe10030(0x22d)&&this[_0xe10030(0x11e)](_0x163d34,__privateGet3(this,_path),_0x5e129a);}),this;};}),this['on']=(_0x3899d0,_0xe9b904,..._0x111f8d)=>{const _0x3b80ee=_0x2b9828;if(!_0x3899d0)return this;__privateSet3(this,_path,_0xe9b904);for(const _0x597ff1 of[_0x3899d0]['flat']()){_0x111f8d[_0x3b80ee(0x256)](_0x549811=>{const _0x506d4e=_0x3b80ee;this[_0x506d4e(0x11e)](_0x597ff1[_0x506d4e(0x1cf)](),__privateGet3(this,_path),_0x549811);});}return this;},this[_0x2b9828(0x17f)]=(_0x5c9052,..._0x3a19b6)=>{const _0x4fd02f=_0x2b9828;return typeof _0x5c9052==='string'?__privateSet3(this,_path,_0x5c9052):_0x3a19b6['unshift'](_0x5c9052),_0x3a19b6[_0x4fd02f(0x256)](_0x15a90e=>{this['addRoute'](METHOD_NAME_ALL,__privateGet3(this,_path),_0x15a90e);}),this;};const _0x344bb8=_0x5e76fe[_0x2b9828(0x18c)]??!![];delete _0x5e76fe[_0x2b9828(0x18c)],Object['assign'](this,_0x5e76fe),this[_0x2b9828(0x163)]=_0x344bb8?_0x5e76fe['getPath']??getPath:getPathNoStrict;}[a0_0xc15861(0x166)](){const _0x57b3f1=a0_0xc15861,_0x12bb22=new _Hono({'router':this[_0x57b3f1(0x253)],'getPath':this['getPath']});return _0x12bb22[_0x57b3f1(0x221)]=this[_0x57b3f1(0x221)],_0x12bb22;}[a0_0xc15861(0x1c2)](_0x1d80af,_0x2a7778){const _0x1d9244=a0_0xc15861,_0x1b51f2=this[_0x1d9244(0x1cb)](_0x1d80af);if(!_0x2a7778)return _0x1b51f2;return _0x2a7778['routes'][_0x1d9244(0x256)](_0x1d6068=>{const _0x3d58ce=_0x1d9244;let _0x506f5f;_0x2a7778['errorHandler']===errorHandler?_0x506f5f=_0x1d6068[_0x3d58ce(0x1b1)]:(_0x506f5f=async(_0x4256e4,_0x869f40)=>(await compose([],_0x2a7778['errorHandler'])(_0x4256e4,()=>_0x1d6068[_0x3d58ce(0x1b1)](_0x4256e4,_0x869f40)))[_0x3d58ce(0x200)],_0x506f5f[COMPOSED_HANDLER]=_0x1d6068[_0x3d58ce(0x1b1)]),_0x1b51f2[_0x3d58ce(0x11e)](_0x1d6068[_0x3d58ce(0x1d4)],_0x1d6068[_0x3d58ce(0x1af)],_0x506f5f);}),this;}[a0_0xc15861(0x1cb)](_0x209a4c){const _0xd11c0a=a0_0xc15861,_0x5bf96f=this[_0xd11c0a(0x166)]();return _0x5bf96f['_basePath']=mergePath(this[_0xd11c0a(0x224)],_0x209a4c),_0x5bf96f;}[a0_0xc15861(0x223)](){const _0x243da3=a0_0xc15861,_0x38ae34=0x8;this[_0x243da3(0x221)][_0x243da3(0x256)](_0x23ca1d=>{const _0x61ad12=_0x243da3;console[_0x61ad12(0x10f)]('\x1b[32m'+_0x23ca1d[_0x61ad12(0x1d4)]+_0x61ad12(0x21f)+'\x20'[_0x61ad12(0x152)](_0x38ae34-_0x23ca1d['method'][_0x61ad12(0x19d)])+'\x20'+_0x23ca1d[_0x61ad12(0x1af)]);});}[a0_0xc15861(0x197)](_0x50a1c5,_0x21a735,_0x18010e){const _0x25b561=a0_0xc15861,_0x1f24d9=mergePath(this[_0x25b561(0x224)],_0x50a1c5),_0x56dde3=_0x1f24d9==='/'?0x0:_0x1f24d9[_0x25b561(0x19d)],_0x49a4a0=async(_0x55debf,_0x53e647)=>{const _0x534b82=_0x25b561;let _0x25568c=void 0x0;try{_0x25568c=_0x55debf[_0x534b82(0x115)];}catch{}const _0x241bbd=_0x18010e?_0x18010e(_0x55debf):[_0x55debf[_0x534b82(0x20d)],_0x25568c],_0x2d823b=Array[_0x534b82(0x1f1)](_0x241bbd)?_0x241bbd:[_0x241bbd],_0x3c91c8=getQueryStrings(_0x55debf[_0x534b82(0x183)]['url']),_0x2f2989=await _0x21a735(new Request(new URL((_0x55debf['req'][_0x534b82(0x1af)][_0x534b82(0x233)](_0x56dde3)||'/')+_0x3c91c8,_0x55debf[_0x534b82(0x183)][_0x534b82(0x182)]),_0x55debf['req']['raw']),..._0x2d823b);if(_0x2f2989)return _0x2f2989;await _0x53e647();};return this[_0x25b561(0x11e)](METHOD_NAME_ALL,mergePath(_0x50a1c5,'*'),_0x49a4a0),this;}get['routerName'](){const _0x34db73=a0_0xc15861;return this[_0x34db73(0x208)](_0x34db73(0xf4),'/'),this[_0x34db73(0x253)][_0x34db73(0x155)];}[a0_0xc15861(0x11e)](_0xff0450,_0x4e5505,_0x2a9163){const _0x2dafa8=a0_0xc15861;_0xff0450=_0xff0450[_0x2dafa8(0x1cf)](),_0x4e5505=mergePath(this[_0x2dafa8(0x224)],_0x4e5505);const _0x1ec1e3={'path':_0x4e5505,'method':_0xff0450,'handler':_0x2a9163};this[_0x2dafa8(0x253)][_0x2dafa8(0x15c)](_0xff0450,_0x4e5505,[_0x2a9163,_0x1ec1e3]),this['routes'][_0x2dafa8(0x219)](_0x1ec1e3);}[a0_0xc15861(0x208)](_0x30e8d2,_0xb7b487){const _0x4caa8b=a0_0xc15861;return this[_0x4caa8b(0x253)][_0x4caa8b(0x217)](_0x30e8d2,_0xb7b487);}[a0_0xc15861(0x12c)](_0x2f5ee1,_0x123b8f){if(_0x2f5ee1 instanceof Error)return this['errorHandler'](_0x2f5ee1,_0x123b8f);throw _0x2f5ee1;}[a0_0xc15861(0x1ac)](_0x5c3b67,_0x3e0473,_0x5340db,_0x22075a){const _0xc447cc=a0_0xc15861;if(_0x22075a===_0xc447cc(0x195))return((async()=>new Response(null,await this[_0xc447cc(0x1ac)](_0x5c3b67,_0x3e0473,_0x5340db,'GET')))());const _0x4dcfbc=this[_0xc447cc(0x163)](_0x5c3b67,{'env':_0x5340db}),_0x4e4a41=this[_0xc447cc(0x208)](_0x22075a,_0x4dcfbc),_0x3e529b=new Context(new HonoRequest(_0x5c3b67,_0x4dcfbc,_0x4e4a41),{'env':_0x5340db,'executionCtx':_0x3e0473,'notFoundHandler':this['notFoundHandler']});if(_0x4e4a41[0x0][_0xc447cc(0x19d)]===0x1){let _0x2d8e1c;try{_0x2d8e1c=_0x4e4a41[0x0][0x0][0x0][0x0](_0x3e529b,async()=>{const _0x5715ab=_0xc447cc;_0x3e529b[_0x5715ab(0x200)]=await this['notFoundHandler'](_0x3e529b);});}catch(_0x21bfa4){return this[_0xc447cc(0x12c)](_0x21bfa4,_0x3e529b);}return _0x2d8e1c instanceof Promise?_0x2d8e1c[_0xc447cc(0x13f)](_0x4ae462=>_0x4ae462||(_0x3e529b[_0xc447cc(0x24d)]?_0x3e529b[_0xc447cc(0x200)]:this[_0xc447cc(0x1b7)](_0x3e529b)))[_0xc447cc(0x1b5)](_0x59f30=>this[_0xc447cc(0x12c)](_0x59f30,_0x3e529b)):_0x2d8e1c;}const _0x54cb51=compose(_0x4e4a41[0x0],this[_0xc447cc(0x25c)],this['notFoundHandler']);return((async()=>{const _0x2fc58b=_0xc447cc;try{const _0x426bc8=await _0x54cb51(_0x3e529b);if(!_0x426bc8['finalized'])throw new Error(_0x2fc58b(0x135));return _0x426bc8[_0x2fc58b(0x200)];}catch(_0x39ecff){return this[_0x2fc58b(0x12c)](_0x39ecff,_0x3e529b);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR='[^/]+',ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR=a0_0xc15861(0x181),PATH_ERROR=Symbol();function compareKey(_0x3b4980,_0x249a0b){const _0x319d51=a0_0xc15861;if(_0x3b4980[_0x319d51(0x19d)]===0x1)return _0x249a0b[_0x319d51(0x19d)]===0x1?_0x3b4980<_0x249a0b?-0x1:0x1:-0x1;if(_0x249a0b[_0x319d51(0x19d)]===0x1)return 0x1;if(_0x3b4980===ONLY_WILDCARD_REG_EXP_STR||_0x3b4980===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x249a0b===ONLY_WILDCARD_REG_EXP_STR||_0x249a0b===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x3b4980===LABEL_REG_EXP_STR)return 0x1;else{if(_0x249a0b===LABEL_REG_EXP_STR)return-0x1;}return _0x3b4980[_0x319d51(0x19d)]===_0x249a0b[_0x319d51(0x19d)]?_0x3b4980<_0x249a0b?-0x1:0x1:_0x249a0b[_0x319d51(0x19d)]-_0x3b4980[_0x319d51(0x19d)];}var Node=class{constructor(){const _0xb5f73c=a0_0xc15861;this[_0xb5f73c(0x1ff)]={};}[a0_0xc15861(0x1fd)](_0x2695e4,_0x299e50,_0x1a91d9,_0x3838cd,_0x1a9192){const _0x1688b3=a0_0xc15861;if(_0x2695e4[_0x1688b3(0x19d)]===0x0){if(this[_0x1688b3(0x110)]!==void 0x0)throw PATH_ERROR;if(_0x1a9192)return;this[_0x1688b3(0x110)]=_0x299e50;return;}const [_0x403dd3,..._0x13dcbf]=_0x2695e4,_0x1eaca9=_0x403dd3==='*'?_0x13dcbf['length']===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x403dd3==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x403dd3[_0x1688b3(0x217)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x48aee1;if(_0x1eaca9){const _0x7ebe1=_0x1eaca9[0x1];let _0x26bc80=_0x1eaca9[0x2]||LABEL_REG_EXP_STR;if(_0x7ebe1&&_0x1eaca9[0x2]){_0x26bc80=_0x26bc80[_0x1688b3(0x1da)](/^\((?!\?:)(?=[^)]+\)$)/,_0x1688b3(0x128));if(/\((?!\?:)/[_0x1688b3(0x245)](_0x26bc80))throw PATH_ERROR;}_0x48aee1=this[_0x1688b3(0x1ff)][_0x26bc80];if(!_0x48aee1){if(Object[_0x1688b3(0x1be)](this[_0x1688b3(0x1ff)])[_0x1688b3(0x16a)](_0x543c8f=>_0x543c8f!==ONLY_WILDCARD_REG_EXP_STR&&_0x543c8f!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x1a9192)return;_0x48aee1=this['children'][_0x26bc80]=new Node(),_0x7ebe1!==''&&(_0x48aee1['varIndex']=_0x3838cd[_0x1688b3(0x25f)]++);}!_0x1a9192&&_0x7ebe1!==''&&_0x1a91d9[_0x1688b3(0x219)]([_0x7ebe1,_0x48aee1[_0x1688b3(0x25f)]]);}else{_0x48aee1=this[_0x1688b3(0x1ff)][_0x403dd3];if(!_0x48aee1){if(Object[_0x1688b3(0x1be)](this['children'])[_0x1688b3(0x16a)](_0x97f580=>_0x97f580[_0x1688b3(0x19d)]>0x1&&_0x97f580!==ONLY_WILDCARD_REG_EXP_STR&&_0x97f580!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x1a9192)return;_0x48aee1=this[_0x1688b3(0x1ff)][_0x403dd3]=new Node();}}_0x48aee1[_0x1688b3(0x1fd)](_0x13dcbf,_0x299e50,_0x1a91d9,_0x3838cd,_0x1a9192);}['buildRegExpStr'](){const _0x43e07f=a0_0xc15861,_0x11a57a=Object['keys'](this['children'])[_0x43e07f(0x13a)](compareKey),_0x26ca5f=_0x11a57a[_0x43e07f(0x256)](_0x5212b3=>{const _0x382be6=_0x43e07f,_0x3672d9=this[_0x382be6(0x1ff)][_0x5212b3];return(typeof _0x3672d9[_0x382be6(0x25f)]===_0x382be6(0x173)?'('+_0x5212b3+')@'+_0x3672d9['varIndex']:_0x5212b3)+_0x3672d9['buildRegExpStr']();});typeof this[_0x43e07f(0x110)]===_0x43e07f(0x173)&&_0x26ca5f[_0x43e07f(0x25d)]('#'+this[_0x43e07f(0x110)]);if(_0x26ca5f[_0x43e07f(0x19d)]===0x0)return'';if(_0x26ca5f['length']===0x1)return _0x26ca5f[0x0];return'(?:'+_0x26ca5f['join']('|')+')';}},Trie=class{constructor(){this['context']={'varIndex':0x0},this['root']=new Node();}[a0_0xc15861(0x1fd)](_0x555a40,_0x42ec46,_0x3dc9f2){const _0x3093e6=a0_0xc15861,_0x4dda1a=[],_0x56a75d=[];for(let _0xd5043f=0x0;;){let _0x18dd46=![];_0x555a40=_0x555a40['replace'](/\{[^}]+\}/g,_0x4dbf10=>{const _0x2c53f6='@\x5c'+_0xd5043f;return _0x56a75d[_0xd5043f]=[_0x2c53f6,_0x4dbf10],_0xd5043f++,_0x18dd46=!![],_0x2c53f6;});if(!_0x18dd46)break;}const _0x1c5bba=_0x555a40[_0x3093e6(0x217)](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x643c3b=_0x56a75d['length']-0x1;_0x643c3b>=0x0;_0x643c3b--){const [_0x1bb78e]=_0x56a75d[_0x643c3b];for(let _0x1d0bd2=_0x1c5bba[_0x3093e6(0x19d)]-0x1;_0x1d0bd2>=0x0;_0x1d0bd2--){if(_0x1c5bba[_0x1d0bd2]['indexOf'](_0x1bb78e)!==-0x1){_0x1c5bba[_0x1d0bd2]=_0x1c5bba[_0x1d0bd2][_0x3093e6(0x1da)](_0x1bb78e,_0x56a75d[_0x643c3b][0x1]);break;}}}return this[_0x3093e6(0x1e1)][_0x3093e6(0x1fd)](_0x1c5bba,_0x42ec46,_0x4dda1a,this[_0x3093e6(0x15d)],_0x3dc9f2),_0x4dda1a;}['buildRegExp'](){const _0x5dd100=a0_0xc15861;let _0x2cd027=this[_0x5dd100(0x1e1)]['buildRegExpStr']();if(_0x2cd027==='')return[/^$/,[],[]];let _0x3d72b7=0x0;const _0x42079b=[],_0x4da512=[];return _0x2cd027=_0x2cd027[_0x5dd100(0x1da)](/#(\d+)|@(\d+)|\.\*\$/g,(_0x59b17a,_0x5a058d,_0x248737)=>{const _0x37e0a9=_0x5dd100;if(typeof _0x5a058d!==_0x37e0a9(0x1c1))return _0x42079b[++_0x3d72b7]=Number(_0x5a058d),_0x37e0a9(0x25e);if(typeof _0x248737!=='undefined')return _0x4da512[Number(_0x248737)]=++_0x3d72b7,'';return'';}),[new RegExp('^'+_0x2cd027),_0x42079b,_0x4da512];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0xc15861(0x256)](_0x136168=>_0x136168[a0_0xc15861(0x1cf)]()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0x558d42){const _0x2ca2ec=a0_0xc15861;return wildcardRegExpCache[_0x558d42]??(wildcardRegExpCache[_0x558d42]=new RegExp(_0x558d42==='*'?'':'^'+_0x558d42[_0x2ca2ec(0x1da)](/\/\*/,'(?:|/.*)')+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x3dfbe5){const _0x5b971f=a0_0xc15861,_0x264c31=new Trie(),_0x2b9fb8=[];if(_0x3dfbe5[_0x5b971f(0x19d)]===0x0)return nullMatcher;const _0x5dc5fd=_0x3dfbe5['map'](_0x23588a=>[!/\*|\/:/[_0x5b971f(0x245)](_0x23588a[0x0]),..._0x23588a])[_0x5b971f(0x13a)](([_0x9a8344,_0x2ee4db],[_0x200107,_0x3388c3])=>_0x9a8344?0x1:_0x200107?-0x1:_0x2ee4db['length']-_0x3388c3[_0x5b971f(0x19d)]),_0x27dbad={};for(let _0x5cebaa=0x0,_0x821b32=-0x1,_0x52c890=_0x5dc5fd[_0x5b971f(0x19d)];_0x5cebaa<_0x52c890;_0x5cebaa++){const [_0x200b07,_0x1da373,_0x1e9c7c]=_0x5dc5fd[_0x5cebaa];_0x200b07?_0x27dbad[_0x1da373]=[_0x1e9c7c[_0x5b971f(0x256)](([_0x1c95a9])=>[_0x1c95a9,{}]),emptyParam]:_0x821b32++;let _0x412f5f;try{_0x412f5f=_0x264c31[_0x5b971f(0x1fd)](_0x1da373,_0x821b32,_0x200b07);}catch(_0x4a9c86){throw _0x4a9c86===PATH_ERROR?new UnsupportedPathError(_0x1da373):_0x4a9c86;}if(_0x200b07)continue;_0x2b9fb8[_0x821b32]=_0x1e9c7c['map'](([_0x53f6ab,_0xe7ca93])=>{const _0x55be65={};_0xe7ca93-=0x1;for(;_0xe7ca93>=0x0;_0xe7ca93--){const [_0x568b31,_0x4b82be]=_0x412f5f[_0xe7ca93];_0x55be65[_0x568b31]=_0x4b82be;}return[_0x53f6ab,_0x55be65];});}const [_0x49e900,_0x342325,_0x487885]=_0x264c31[_0x5b971f(0x1e5)]();for(let _0x39475c=0x0,_0x16d158=_0x2b9fb8['length'];_0x39475c<_0x16d158;_0x39475c++){for(let _0x20ff27=0x0,_0x3afeee=_0x2b9fb8[_0x39475c]['length'];_0x20ff27<_0x3afeee;_0x20ff27++){const _0x5efc36=_0x2b9fb8[_0x39475c][_0x20ff27]?.[0x1];if(!_0x5efc36)continue;const _0x334c7c=Object[_0x5b971f(0x1be)](_0x5efc36);for(let _0x4ddcbb=0x0,_0x27e22d=_0x334c7c['length'];_0x4ddcbb<_0x27e22d;_0x4ddcbb++){_0x5efc36[_0x334c7c[_0x4ddcbb]]=_0x487885[_0x5efc36[_0x334c7c[_0x4ddcbb]]];}}}const _0x4a1e9c=[];for(const _0x151f67 in _0x342325){_0x4a1e9c[_0x151f67]=_0x2b9fb8[_0x342325[_0x151f67]];}return[_0x49e900,_0x4a1e9c,_0x27dbad];}function findMiddleware(_0x570f8d,_0xa2597f){const _0x6de9ff=a0_0xc15861;if(!_0x570f8d)return void 0x0;for(const _0x3425be of Object[_0x6de9ff(0x1be)](_0x570f8d)['sort']((_0x2683bc,_0x152b5f)=>_0x152b5f[_0x6de9ff(0x19d)]-_0x2683bc[_0x6de9ff(0x19d)])){if(buildWildcardRegExp(_0x3425be)[_0x6de9ff(0x245)](_0xa2597f))return[..._0x570f8d[_0x3425be]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x4f08b1=a0_0xc15861;this[_0x4f08b1(0x155)]='RegExpRouter',this[_0x4f08b1(0x14a)]={[METHOD_NAME_ALL]:{}},this[_0x4f08b1(0x221)]={[METHOD_NAME_ALL]:{}};}[a0_0xc15861(0x15c)](_0x18abd1,_0x27d7f8,_0x1d0761){const _0x5abd2f=a0_0xc15861;var _0x54909c;const {middleware:_0x9af9f4,routes:_0x2b7ed1}=this;if(!_0x9af9f4||!_0x2b7ed1)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0x5abd2f(0x11b)](_0x18abd1)===-0x1&&methodNames[_0x5abd2f(0x219)](_0x18abd1);if(!_0x9af9f4[_0x18abd1]){;[_0x9af9f4,_0x2b7ed1]['forEach'](_0xf4dac8=>{const _0x3bfe6c=_0x5abd2f;_0xf4dac8[_0x18abd1]={},Object[_0x3bfe6c(0x1be)](_0xf4dac8[METHOD_NAME_ALL])[_0x3bfe6c(0x24c)](_0x11b113=>{_0xf4dac8[_0x18abd1][_0x11b113]=[..._0xf4dac8[METHOD_NAME_ALL][_0x11b113]];});});}_0x27d7f8==='/*'&&(_0x27d7f8='*');const _0x58c80b=(_0x27d7f8[_0x5abd2f(0x217)](/\/:/g)||[])[_0x5abd2f(0x19d)];if(/\*$/['test'](_0x27d7f8)){const _0x21af01=buildWildcardRegExp(_0x27d7f8);_0x18abd1===METHOD_NAME_ALL?Object['keys'](_0x9af9f4)[_0x5abd2f(0x24c)](_0x37abb6=>{var _0x2074dd;(_0x2074dd=_0x9af9f4[_0x37abb6])[_0x27d7f8]||(_0x2074dd[_0x27d7f8]=findMiddleware(_0x9af9f4[_0x37abb6],_0x27d7f8)||findMiddleware(_0x9af9f4[METHOD_NAME_ALL],_0x27d7f8)||[]);}):(_0x54909c=_0x9af9f4[_0x18abd1])[_0x27d7f8]||(_0x54909c[_0x27d7f8]=findMiddleware(_0x9af9f4[_0x18abd1],_0x27d7f8)||findMiddleware(_0x9af9f4[METHOD_NAME_ALL],_0x27d7f8)||[]);Object[_0x5abd2f(0x1be)](_0x9af9f4)[_0x5abd2f(0x24c)](_0x1d8569=>{const _0x290aab=_0x5abd2f;(_0x18abd1===METHOD_NAME_ALL||_0x18abd1===_0x1d8569)&&Object[_0x290aab(0x1be)](_0x9af9f4[_0x1d8569])['forEach'](_0x58e040=>{const _0x7f83fc=_0x290aab;_0x21af01['test'](_0x58e040)&&_0x9af9f4[_0x1d8569][_0x58e040][_0x7f83fc(0x219)]([_0x1d0761,_0x58c80b]);});}),Object['keys'](_0x2b7ed1)[_0x5abd2f(0x24c)](_0x16033f=>{const _0x3dfa71=_0x5abd2f;(_0x18abd1===METHOD_NAME_ALL||_0x18abd1===_0x16033f)&&Object[_0x3dfa71(0x1be)](_0x2b7ed1[_0x16033f])[_0x3dfa71(0x24c)](_0x1026c5=>_0x21af01[_0x3dfa71(0x245)](_0x1026c5)&&_0x2b7ed1[_0x16033f][_0x1026c5][_0x3dfa71(0x219)]([_0x1d0761,_0x58c80b]));});return;}const _0x5cfae7=checkOptionalParameter(_0x27d7f8)||[_0x27d7f8];for(let _0x17aeb6=0x0,_0x4330fa=_0x5cfae7[_0x5abd2f(0x19d)];_0x17aeb6<_0x4330fa;_0x17aeb6++){const _0x4fd938=_0x5cfae7[_0x17aeb6];Object[_0x5abd2f(0x1be)](_0x2b7ed1)[_0x5abd2f(0x24c)](_0xea6ea4=>{const _0x2a30ea=_0x5abd2f;var _0x23b5c7;(_0x18abd1===METHOD_NAME_ALL||_0x18abd1===_0xea6ea4)&&((_0x23b5c7=_0x2b7ed1[_0xea6ea4])[_0x4fd938]||(_0x23b5c7[_0x4fd938]=[...findMiddleware(_0x9af9f4[_0xea6ea4],_0x4fd938)||findMiddleware(_0x9af9f4[METHOD_NAME_ALL],_0x4fd938)||[]]),_0x2b7ed1[_0xea6ea4][_0x4fd938][_0x2a30ea(0x219)]([_0x1d0761,_0x58c80b-_0x4330fa+_0x17aeb6+0x1]));});}}['match'](_0x1462b1,_0x2fab81){clearWildcardRegExpCache();const _0x3a6780=this['buildAllMatchers']();return this['match']=(_0xf57cca,_0x144388)=>{const _0x50b253=a0_0x596b,_0x1cbb59=_0x3a6780[_0xf57cca],_0x241bbc=_0x1cbb59[0x2][_0x144388];if(_0x241bbc)return _0x241bbc;const _0x48fd4d=_0x144388[_0x50b253(0x217)](_0x1cbb59[0x0]);if(!_0x48fd4d)return[[],emptyParam];const _0x177d2c=_0x48fd4d['indexOf']('',0x1);return[_0x1cbb59[0x1][_0x177d2c],_0x48fd4d];},this['match'](_0x1462b1,_0x2fab81);}['buildAllMatchers'](){const _0xba4bca=a0_0xc15861,_0xfc433c={};return methodNames['forEach'](_0x227905=>{const _0x461ecd=a0_0x596b;_0xfc433c[_0x227905]=this[_0x461ecd(0x24a)](_0x227905)||_0xfc433c[METHOD_NAME_ALL];}),this['middleware']=this[_0xba4bca(0x221)]=void 0x0,_0xfc433c;}[a0_0xc15861(0x24a)](_0x2de5eb){const _0x343398=a0_0xc15861,_0x5ae85c=[];let _0x378664=_0x2de5eb===METHOD_NAME_ALL;return[this[_0x343398(0x14a)],this[_0x343398(0x221)]]['forEach'](_0x122789=>{const _0x5a4690=_0x343398,_0x2f00f8=_0x122789[_0x2de5eb]?Object[_0x5a4690(0x1be)](_0x122789[_0x2de5eb])[_0x5a4690(0x256)](_0x552f50=>[_0x552f50,_0x122789[_0x2de5eb][_0x552f50]]):[];if(_0x2f00f8['length']!==0x0)_0x378664||(_0x378664=!![]),_0x5ae85c[_0x5a4690(0x219)](..._0x2f00f8);else _0x2de5eb!==METHOD_NAME_ALL&&_0x5ae85c[_0x5a4690(0x219)](...Object[_0x5a4690(0x1be)](_0x122789[METHOD_NAME_ALL])[_0x5a4690(0x256)](_0x2daad2=>[_0x2daad2,_0x122789[METHOD_NAME_ALL][_0x2daad2]]));}),!_0x378664?null:buildMatcherFromPreprocessedRoutes(_0x5ae85c);}},SmartRouter=class{constructor(_0x1858d8){const _0x448f62=a0_0xc15861;this[_0x448f62(0x155)]=_0x448f62(0x247),this[_0x448f62(0x1f8)]=[],this[_0x448f62(0x221)]=[],Object[_0x448f62(0x240)](this,_0x1858d8);}[a0_0xc15861(0x15c)](_0x395eb9,_0x26164e,_0x5b62da){const _0xf53722=a0_0xc15861;if(!this[_0xf53722(0x221)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this['routes'][_0xf53722(0x219)]([_0x395eb9,_0x26164e,_0x5b62da]);}['match'](_0x3ed2b4,_0x4d7310){const _0x589673=a0_0xc15861;if(!this[_0x589673(0x221)])throw new Error(_0x589673(0x14b));const {routers:_0x5a807c,routes:_0x1cbc91}=this,_0x594a99=_0x5a807c['length'];let _0x10b1b9=0x0,_0x38e5bc;for(;_0x10b1b9<_0x594a99;_0x10b1b9++){const _0x2cb89a=_0x5a807c[_0x10b1b9];try{_0x1cbc91[_0x589673(0x24c)](_0x4add0e=>{const _0x4e1cb3=_0x589673;_0x2cb89a[_0x4e1cb3(0x15c)](..._0x4add0e);}),_0x38e5bc=_0x2cb89a[_0x589673(0x217)](_0x3ed2b4,_0x4d7310);}catch(_0x148bbb){if(_0x148bbb instanceof UnsupportedPathError)continue;throw _0x148bbb;}this['match']=_0x2cb89a[_0x589673(0x217)][_0x589673(0x1d6)](_0x2cb89a),this[_0x589673(0x1f8)]=[_0x2cb89a],this[_0x589673(0x221)]=void 0x0;break;}if(_0x10b1b9===_0x594a99)throw new Error('Fatal\x20error');return this['name']='SmartRouter\x20+\x20'+this['activeRouter'][_0x589673(0x155)],_0x38e5bc;}get[a0_0xc15861(0x136)](){const _0x287e31=a0_0xc15861;if(this[_0x287e31(0x221)]||this[_0x287e31(0x1f8)][_0x287e31(0x19d)]!==0x1)throw new Error(_0x287e31(0x125));return this[_0x287e31(0x1f8)][0x0];}},Node2=class{constructor(_0x4b846e,_0x52e0dd,_0x4ee00d){const _0x1dc034=a0_0xc15861;this[_0x1dc034(0x1fb)]=0x0,this[_0x1dc034(0x1b0)]={},this[_0x1dc034(0x1ff)]=_0x4ee00d||{},this[_0x1dc034(0x222)]=[],this[_0x1dc034(0x155)]='';if(_0x4b846e&&_0x52e0dd){const _0x13b7d2={};_0x13b7d2[_0x4b846e]={'handler':_0x52e0dd,'possibleKeys':[],'score':0x0,'name':this['name']},this[_0x1dc034(0x222)]=[_0x13b7d2];}this['patterns']=[];}[a0_0xc15861(0x1fd)](_0x4d6525,_0x59ab15,_0x164d51){const _0x54317b=a0_0xc15861;this[_0x54317b(0x155)]=_0x4d6525+'\x20'+_0x59ab15,this[_0x54317b(0x1fb)]=++this[_0x54317b(0x1fb)];let _0x14e18b=this;const _0x24ad30=splitRoutingPath(_0x59ab15),_0x220a23=[],_0x424702=[];for(let _0x48a5f6=0x0,_0x4faf88=_0x24ad30['length'];_0x48a5f6<_0x4faf88;_0x48a5f6++){const _0x4e78ab=_0x24ad30[_0x48a5f6];if(Object[_0x54317b(0x1be)](_0x14e18b[_0x54317b(0x1ff)])['includes'](_0x4e78ab)){_0x424702[_0x54317b(0x219)](..._0x14e18b[_0x54317b(0x165)]),_0x14e18b=_0x14e18b[_0x54317b(0x1ff)][_0x4e78ab];const _0x33e99f=getPattern(_0x4e78ab);_0x33e99f&&_0x220a23[_0x54317b(0x219)](_0x33e99f[0x1]);continue;}_0x14e18b[_0x54317b(0x1ff)][_0x4e78ab]=new Node2();const _0x61b69a=getPattern(_0x4e78ab);_0x61b69a&&(_0x14e18b[_0x54317b(0x165)]['push'](_0x61b69a),_0x424702[_0x54317b(0x219)](..._0x14e18b[_0x54317b(0x165)]),_0x220a23[_0x54317b(0x219)](_0x61b69a[0x1])),_0x424702[_0x54317b(0x219)](..._0x14e18b[_0x54317b(0x165)]),_0x14e18b=_0x14e18b['children'][_0x4e78ab];}!_0x14e18b[_0x54317b(0x222)][_0x54317b(0x19d)]&&(_0x14e18b[_0x54317b(0x222)]=[]);const _0x875eb9={},_0x3fe700={'handler':_0x164d51,'possibleKeys':_0x220a23[_0x54317b(0x23e)]((_0x40b0bf,_0x5997db,_0x28e0aa)=>_0x28e0aa['indexOf'](_0x40b0bf)===_0x5997db),'name':this[_0x54317b(0x155)],'score':this['order']};return _0x875eb9[_0x4d6525]=_0x3fe700,_0x14e18b[_0x54317b(0x222)][_0x54317b(0x219)](_0x875eb9),_0x14e18b;}[a0_0xc15861(0x1ea)](_0x5c47a6,_0x3473a0,_0x45cb63,_0x9e98df){const _0x57b9c8=a0_0xc15861,_0x13126d=[];for(let _0x33d929=0x0,_0x39cb5d=_0x5c47a6[_0x57b9c8(0x222)][_0x57b9c8(0x19d)];_0x33d929<_0x39cb5d;_0x33d929++){const _0x3ad410=_0x5c47a6['methods'][_0x33d929],_0x24bf3f=_0x3ad410[_0x3473a0]||_0x3ad410[METHOD_NAME_ALL],_0x5203df={};_0x24bf3f!==void 0x0&&(_0x24bf3f[_0x57b9c8(0x1b0)]={},_0x24bf3f[_0x57b9c8(0x16e)][_0x57b9c8(0x24c)](_0x186cef=>{const _0x465989=_0x57b9c8,_0x19572b=_0x5203df[_0x24bf3f[_0x465989(0x155)]];_0x24bf3f[_0x465989(0x1b0)][_0x186cef]=_0x9e98df[_0x186cef]&&!_0x19572b?_0x9e98df[_0x186cef]:_0x45cb63[_0x186cef]??_0x9e98df[_0x186cef],_0x5203df[_0x24bf3f[_0x465989(0x155)]]=!![];}),_0x13126d['push'](_0x24bf3f));}return _0x13126d;}['search'](_0x501822,_0x35dd4f){const _0x3ea182=a0_0xc15861,_0x3231e6=[];this['params']={};const _0x25bb13=this;let _0x39e27d=[_0x25bb13];const _0x5ef7c9=splitPath(_0x35dd4f);for(let _0x2d3520=0x0,_0x125ae3=_0x5ef7c9[_0x3ea182(0x19d)];_0x2d3520<_0x125ae3;_0x2d3520++){const _0x29f02d=_0x5ef7c9[_0x2d3520],_0x52ce88=_0x2d3520===_0x125ae3-0x1,_0x116c13=[];for(let _0x5ce744=0x0,_0x35880b=_0x39e27d[_0x3ea182(0x19d)];_0x5ce744<_0x35880b;_0x5ce744++){const _0xeb77d8=_0x39e27d[_0x5ce744],_0x35fb05=_0xeb77d8[_0x3ea182(0x1ff)][_0x29f02d];_0x35fb05&&(_0x35fb05[_0x3ea182(0x1b0)]=_0xeb77d8[_0x3ea182(0x1b0)],_0x52ce88===!![]?(_0x35fb05[_0x3ea182(0x1ff)]['*']&&_0x3231e6[_0x3ea182(0x219)](...this['gHSets'](_0x35fb05[_0x3ea182(0x1ff)]['*'],_0x501822,_0xeb77d8[_0x3ea182(0x1b0)],{})),_0x3231e6[_0x3ea182(0x219)](...this[_0x3ea182(0x1ea)](_0x35fb05,_0x501822,_0xeb77d8[_0x3ea182(0x1b0)],{}))):_0x116c13[_0x3ea182(0x219)](_0x35fb05));for(let _0x5827f9=0x0,_0x44fc9b=_0xeb77d8[_0x3ea182(0x165)][_0x3ea182(0x19d)];_0x5827f9<_0x44fc9b;_0x5827f9++){const _0x5221c8=_0xeb77d8['patterns'][_0x5827f9],_0x3efb01={..._0xeb77d8[_0x3ea182(0x1b0)]};if(_0x5221c8==='*'){const _0x99408f=_0xeb77d8[_0x3ea182(0x1ff)]['*'];_0x99408f&&(_0x3231e6['push'](...this['gHSets'](_0x99408f,_0x501822,_0xeb77d8[_0x3ea182(0x1b0)],{})),_0x116c13[_0x3ea182(0x219)](_0x99408f));continue;}if(_0x29f02d==='')continue;const [_0x43c935,_0x40bcdf,_0x24d0c5]=_0x5221c8,_0x1dc81a=_0xeb77d8[_0x3ea182(0x1ff)][_0x43c935],_0x50db0d=_0x5ef7c9[_0x3ea182(0x233)](_0x2d3520)[_0x3ea182(0x21c)]('/');if(_0x24d0c5 instanceof RegExp&&_0x24d0c5[_0x3ea182(0x245)](_0x50db0d)){_0x3efb01[_0x40bcdf]=_0x50db0d,_0x3231e6['push'](...this['gHSets'](_0x1dc81a,_0x501822,_0xeb77d8[_0x3ea182(0x1b0)],_0x3efb01));continue;}(_0x24d0c5===!![]||_0x24d0c5 instanceof RegExp&&_0x24d0c5[_0x3ea182(0x245)](_0x29f02d))&&(typeof _0x43c935===_0x3ea182(0x22d)&&(_0x3efb01[_0x40bcdf]=_0x29f02d,_0x52ce88===!![]?(_0x3231e6[_0x3ea182(0x219)](...this['gHSets'](_0x1dc81a,_0x501822,_0x3efb01,_0xeb77d8[_0x3ea182(0x1b0)])),_0x1dc81a[_0x3ea182(0x1ff)]['*']&&_0x3231e6[_0x3ea182(0x219)](...this[_0x3ea182(0x1ea)](_0x1dc81a[_0x3ea182(0x1ff)]['*'],_0x501822,_0x3efb01,_0xeb77d8[_0x3ea182(0x1b0)]))):(_0x1dc81a[_0x3ea182(0x1b0)]=_0x3efb01,_0x116c13['push'](_0x1dc81a))));}}_0x39e27d=_0x116c13;}const _0x610e9b=_0x3231e6[_0x3ea182(0x13a)]((_0x53bd9e,_0x26f744)=>{const _0x125161=_0x3ea182;return _0x53bd9e['score']-_0x26f744[_0x125161(0x105)];});return[_0x610e9b[_0x3ea182(0x256)](({handler:_0x1f5e23,params:_0x171e48})=>[_0x1f5e23,_0x171e48])];}},TrieRouter=class{constructor(){const _0x29054b=a0_0xc15861;this[_0x29054b(0x155)]=_0x29054b(0x1e2),this['node']=new Node2();}[a0_0xc15861(0x15c)](_0x25281e,_0x9cefbc,_0x5009c7){const _0x4a942d=a0_0xc15861,_0x1b4bd1=checkOptionalParameter(_0x9cefbc);if(_0x1b4bd1){for(const _0xad5cf1 of _0x1b4bd1){this[_0x4a942d(0x1c5)][_0x4a942d(0x1fd)](_0x25281e,_0xad5cf1,_0x5009c7);}return;}this[_0x4a942d(0x1c5)][_0x4a942d(0x1fd)](_0x25281e,_0x9cefbc,_0x5009c7);}[a0_0xc15861(0x217)](_0x65db6,_0x25541c){const _0x5b0334=a0_0xc15861;return this[_0x5b0334(0x1c5)]['search'](_0x65db6,_0x25541c);}},Hono2=class extends Hono{constructor(_0x178c37={}){const _0x38432c=a0_0xc15861;super(_0x178c37),this[_0x38432c(0x253)]=_0x178c37[_0x38432c(0x253)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0x25a3d9){const _0x177c47=a0_0xc15861;if(wasmReady)return wasmModule;try{const _0x418d78=_0x25a3d9||'./rust/pkg/vless_parser.js',_0x289099=await import(_0x418d78);return typeof _0x289099[_0x177c47(0x199)]===_0x177c47(0x167)&&await _0x289099[_0x177c47(0x199)](),wasmModule=_0x289099,wasmReady=!![],wasmModule;}catch(_0x58e4ef){console[_0x177c47(0x138)]('WASM\x20module\x20not\x20available\x20at\x20runtime:',_0x58e4ef),wasmReady=![];throw _0x58e4ef;}}function a0_0x5f15(){const _0x290f5f=['node','callbacks','addEventListener','ensureTablesExist\x20failed','message','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','basePath','first','ip_port','split','toUpperCase','ACK','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','2WrkXAx','Cannot\x20','method',';\x20Partitioned','bind','routePath','has','strict-origin-when-cross-origin','replace','maxAge','/ws','queries','arrayBuffer','INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)','header','root','TrieRouter','call','padStart','buildRegExp','token_hash','fetch','/xray/:uuid','write\x20to\x20private\x20field','gHSets','formData','respondWith','cookie','SHA-256','getParamValue','nosniff','isArray','X-Content-Type-Options','close','949116aNmRsb','parseBody','matchedRoutes','readyState','routers','batch','flush\x20usage\x20error','order','digest','insert','addValidatedData','children','res','__lagon__','toLowerCase','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','search','Must\x20upgrade\x20to\x20WebSocket','redirect','speed.cloudflare.com:443','matchRoute','SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','x-content-type-options','blob','Unlimited','env','IP\x20limit\x20exceeded','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)','expiration_time','http://localhost','apply','onAbort','Invalid\x20UUID','match','<p\x20style=\x22color:red\x22>','push','sum','values','join','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','&amp;','\x1b[0m\x20','trim','routes','methods','showRoutes','_basePath','PROXYIPS','toUTCString','subtle','composedHandler','prepare','261517yOsdZy','object','ip_limit\x20check\x20err','string','waitUntil','send','includes','\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20','valid','slice','bun','223092cgekUA','writable','uuid','getReader','process','user_ip\x20upsert\x20failed','</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','edge-light','filter','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','assign','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','CF-Connecting-IP','\x0a</body></html>','set-cookie','test','parse_vless_header','SmartRouter','Expired','httpOnly','buildMatcher','options','forEach','finalized','WebSocketPair','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','sleep','request','&#39;','router','setRenderer','toISOString','map','stringify','/admin/api/health-check','getWriter','bodyUsed','writer','errorHandler','unshift','$()','varIndex','read\x20from\x20private\x20field','param','Invalid','floor','pipeTo',';\x20Expires=','cachedBody',':443?type=ws&host=','/admin/login','&path=/ws#xray','send\x20ack\x20failed','GET','event','newResponse','domain','toString','getResponse','next()\x20called\x20multiple\x20times','/admin/api/stats','Set-Cookie',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','/admin','accept','Location','_var','2339128TxCWYs','868101gmbXLd','multipart/form-data','score','2094765XCmZnm','byteLength','/sb/','application/json;\x20charset=UTF-8','unknown','camera=(),\x20microphone=()','getAllDecodedParams','round','stream','log','index','write','isAdminRequest\x20error','endsWith','SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','executionCtx','wasm\x20init\x20skipped','streamText','/login','Admin\x20not\x20configured','4IXqqvZ','indexOf','responseReadable','&path=/ws#singbox','addRoute','post','query','Traffic\x20limit\x20exceeded','run','head','finally','No\x20active\x20router\x20has\x20been\x20determined\x20yet.','application/x-www-form-urlencoded','encoder','(?:','notFound','Host','Content-Type','handleError','Referrer-Policy','example.com','/admin/api/users/:uuid','chunked','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22','onError','keepalive','renderer','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','activeRouter','DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','warn','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/','sort','/xray/','Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.','routeIndex','release','then','transfer-encoding','not\x20found','lagon',';\x20Secure','headers','\x20WHERE\x20uuid\x20=\x20?','Internal\x20Server\x20Error','ip_limit','(((.+)+)+)+$','entries','middleware','Fatal\x20error','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>','flushUsage\x20outer','text/plain;charset=utf-8','charCodeAt','Stringify','getDecodedParam','repeat','text','traffic_used','name','ALL','encode','text/plain;\x20charset=UTF-8','/admin/api/users','password','expiration_date','add','context','substring','</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20','Permissions-Policy','put','enqueue','getPath','isEscaped','patterns','clone','function','UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?','pipe','some','startsWith','Missing\x20fields','buffer','possibleKeys','secure','parsedBody','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','getUint8','number','Forbidden','content-type','count','abort','fastly','set','body','sameSite',';\x20Max-Age=','get','abortSubscribers','use','1265196hKnQsf','(?:|/.*)','url','req','traffic_limit','handleEvent','vless://','WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser','443','This\x20context\x20has\x20no\x20FetchEvent','message\x20handler\x20error','EdgeRuntime','strict','expires','bodyCache','raw','https://','WASM\x20init\x20failed','text/html;charset=utf-8','read','now','HEAD','append','mount','json','default','/sb/:uuid','auth_token=','getTime','length','referrer','Missing\x20date/time','render','WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.',';\x20Path=','results','Deno','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','Authentication\x20failed','upgrade',',\x20traffic_used\x20=\x200','constructor','Internal\x20error','from','dispatch','This\x20context\x20has\x20no\x20ExecutionContext','randomUUID','path','params','handler','delete','runtime','resolve','catch','signal','notFoundHandler','websocket','integrity','/admin/logout','404\x20Not\x20Found','all','error','keys','text/html;\x20charset=UTF-8','data','undefined','route','status','&quot;'];a0_0x5f15=function(){return _0x290f5f;};return a0_0x5f15();}async function parseVlessHeader(_0x310daa){const _0x38dcb9=a0_0xc15861;if(!wasmReady)throw new Error(_0x38dcb9(0x1a1));if(!wasmModule||typeof wasmModule[_0x38dcb9(0x246)]!==_0x38dcb9(0x167))throw new Error('parse_vless_header\x20not\x20available\x20on\x20wasm\x20module');return await wasmModule[_0x38dcb9(0x246)](_0x310daa);}function renderAdminLogin(_0x457d9a,_0x5cfffc){const _0x27d991=a0_0xc15861;return'<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22'+_0x457d9a+'\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20'+(_0x5cfffc?_0x27d991(0x218)+escapeHtml(_0x5cfffc)+'</p>':'')+_0x27d991(0x243);}function renderAdminPanel(){const _0xd49ec7=a0_0xc15861;return _0xd49ec7(0x24f);}function escapeHtml(_0x571ffa){const _0x5653cb=a0_0xc15861;return _0x571ffa[_0x5653cb(0x1da)](/[&<>'"]/g,_0x26196d=>({'&':_0x5653cb(0x21e),'<':'&lt;','>':'&gt;','\x27':_0x5653cb(0x252),'\x22':_0x5653cb(0x1c4)}[_0x26196d]));}function expiryToISO(_0x3b04b6,_0xe40fbe){const _0x3d8997=a0_0xc15861;if(!_0x3b04b6||!_0xe40fbe)return null;const _0xad7d3c=_0xe40fbe[_0x3d8997(0x1ce)](':')[_0x3d8997(0x19d)]===0x2?_0xe40fbe+':00':_0xe40fbe,_0x58e65b=_0x3b04b6+'T'+_0xad7d3c+'Z',_0x4d7bc6=new Date(_0x58e65b);if(isNaN(_0x4d7bc6[_0x3d8997(0x19c)]()))return null;return _0x4d7bc6[_0x3d8997(0x255)]();}var app=new Hono2();function addSecurityHeaders(_0x5d8712){const _0xff9f03=a0_0xc15861;_0x5d8712[_0xff9f03(0x179)](_0xff9f03(0x1f2),_0xff9f03(0x1f0)),_0x5d8712[_0xff9f03(0x179)](_0xff9f03(0x12d),_0xff9f03(0x1d9)),_0x5d8712[_0xff9f03(0x179)](_0xff9f03(0x160),_0xff9f03(0x10b));}app[a0_0xc15861(0x11f)](a0_0xc15861(0x268),async _0x272b25=>{const _0x5e49f2=a0_0xc15861,_0x59f369=_0x272b25[_0x5e49f2(0x20d)],_0x35f8a4=await _0x272b25[_0x5e49f2(0x183)][_0x5e49f2(0x1eb)](),_0x480708=_0x35f8a4[_0x5e49f2(0x17d)](_0x5e49f2(0x15a))?.[_0x5e49f2(0xf8)]()||'';if(!_0x59f369['ADMIN_KEY'])return _0x272b25[_0x5e49f2(0x153)](_0x5e49f2(0x119),0x1f7);if(_0x480708!==_0x59f369['ADMIN_KEY'])return _0x272b25['text'](_0x5e49f2(0x262),0x191);const _0x3dbd65=crypto[_0x5e49f2(0x1ae)](),_0x14c6b9=await crypto[_0x5e49f2(0x227)][_0x5e49f2(0x1fc)]('SHA-256',new TextEncoder()['encode'](_0x3dbd65)),_0x362010=Array['from'](new Uint8Array(_0x14c6b9))[_0x5e49f2(0x256)](_0x20e0c5=>_0x20e0c5[_0x5e49f2(0xf8)](0x10)['padStart'](0x2,'0'))[_0x5e49f2(0x21c)]('');try{await _0x59f369['DB'][_0x5e49f2(0x229)]('INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)')[_0x5e49f2(0x1d6)]('default',_0x362010,Math[_0x5e49f2(0x263)](Date[_0x5e49f2(0x194)]()/0x3e8)+0x15180)['run']();}catch(_0x346cac){console[_0x5e49f2(0x1bd)]('admin\x20session\x20store\x20failed',_0x346cac);}const _0x49a616=new Headers();return _0x49a616[_0x5e49f2(0x196)](_0x5e49f2(0xfc),_0x5e49f2(0x19b)+_0x3dbd65+_0x5e49f2(0xfd)),addSecurityHeaders(_0x49a616),_0x272b25[_0x5e49f2(0x153)]('OK',0xc8,{'headers':_0x49a616});});function a0_0x596b(_0x562809,_0x131e3d){const _0x49afff=a0_0x5f15();return a0_0x596b=function(_0xe5f221,_0x32dffa){_0xe5f221=_0xe5f221-0xf2;let _0x5f15f1=_0x49afff[_0xe5f221];return _0x5f15f1;},a0_0x596b(_0x562809,_0x131e3d);}async function hashSHA256Hex(_0x2cf5ad){const _0x505f6b=a0_0xc15861,_0x53e62b=new TextEncoder(),_0x40c45e=_0x53e62b[_0x505f6b(0x157)](_0x2cf5ad),_0x5b9035=await crypto[_0x505f6b(0x227)]['digest'](_0x505f6b(0x1ee),_0x40c45e);return Array[_0x505f6b(0x1ab)](new Uint8Array(_0x5b9035))[_0x505f6b(0x256)](_0x1827ee=>_0x1827ee['toString'](0x10)[_0x505f6b(0x1e4)](0x2,'0'))[_0x505f6b(0x21c)]('');}async function isAdminRequest(_0x445904){const _0x4ca8fa=a0_0xc15861,_0x36ae00=_0x445904[_0x4ca8fa(0x183)][_0x4ca8fa(0x144)][_0x4ca8fa(0x17d)]('cookie')||'',_0x1c79bb=_0x36ae00['match'](/auth_token=([^;]+)/)?.[0x1];if(!_0x1c79bb)return![];const _0x5952a7=await hashSHA256Hex(_0x1c79bb);try{const _0x4eefce=await _0x445904['env']['DB'][_0x4ca8fa(0x229)](_0x4ca8fa(0x209))[_0x4ca8fa(0x1d6)](_0x4ca8fa(0x199))[_0x4ca8fa(0x1cc)]();if(!_0x4eefce?.['token_hash'])return![];return _0x5952a7===_0x4eefce[_0x4ca8fa(0x1e6)];}catch(_0x131337){return console['warn'](_0x4ca8fa(0x112),_0x131337),![];}}async function ensureTablesExist(_0x2952a9){const _0xb4fdf2=a0_0xc15861;if(!_0x2952a9['DB'])return;const _0x5893b3=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)',_0xb4fdf2(0x21d),'CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)',_0xb4fdf2(0x23c)];try{const _0x3389d4=_0x5893b3[_0xb4fdf2(0x256)](_0x5e99c1=>_0x2952a9['DB'][_0xb4fdf2(0x229)](_0x5e99c1));await _0x2952a9['DB'][_0xb4fdf2(0x1f9)](_0x3389d4);}catch(_0x4f2dde){console['warn'](_0xb4fdf2(0x1c8),_0x4f2dde);}}app[a0_0xc15861(0x17d)]('/admin',async _0x4be602=>{const _0x457ca0=a0_0xc15861;await ensureTablesExist(_0x4be602['env']);const _0x1f1443=await isAdminRequest(_0x4be602),_0xfdd8ea=_0x457ca0(0xfe),_0x586dc8=new Headers({'Content-Type':_0x457ca0(0x192)});addSecurityHeaders(_0x586dc8);if(!_0x1f1443)return new Response(renderAdminLogin(_0xfdd8ea+_0x457ca0(0x118)),{'headers':_0x586dc8});return new Response(renderAdminPanel(),{'headers':_0x586dc8});}),app[a0_0xc15861(0x17d)](a0_0xc15861(0xfb),async _0x349bfe=>{const _0x39e4fb=a0_0xc15861;if(!await isAdminRequest(_0x349bfe))return _0x349bfe[_0x39e4fb(0x198)]({'error':_0x39e4fb(0x174)},0x193);const _0x5f124e=_0x349bfe[_0x39e4fb(0x20d)];await ensureTablesExist(_0x5f124e);try{const _0x57ca85=await _0x5f124e['DB'][_0x39e4fb(0x229)](_0x39e4fb(0x20f))[_0x39e4fb(0x1cc)](_0x39e4fb(0x176)),_0x23f4aa=await _0x5f124e['DB'][_0x39e4fb(0x229)](_0x39e4fb(0x211))[_0x39e4fb(0x1cc)](_0x39e4fb(0x176)),_0x1f15a7=await _0x5f124e['DB'][_0x39e4fb(0x229)]('SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users')[_0x39e4fb(0x1cc)](_0x39e4fb(0x21a)),_0x43a1ca=_0x23f4aa||0x0,_0x392d0b=(_0x57ca85||0x0)-_0x43a1ca;return _0x349bfe[_0x39e4fb(0x198)]({'total_users':_0x57ca85||0x0,'active_users':_0x392d0b,'expired_users':_0x43a1ca,'total_traffic':_0x1f15a7||0x0});}catch(_0x515e15){const _0x8c763a=_0x515e15 instanceof Error?_0x515e15['message']:String(_0x515e15);return _0x349bfe[_0x39e4fb(0x198)]({'error':_0x8c763a},0x1f4);}}),app[a0_0xc15861(0x17d)]('/admin/api/users',async _0x918d91=>{const _0x356e5a=a0_0xc15861;if(!await isAdminRequest(_0x918d91))return _0x918d91[_0x356e5a(0x198)]({'error':_0x356e5a(0x174)},0x193);const _0x5d9b90=await _0x918d91[_0x356e5a(0x20d)]['DB']['prepare']('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')[_0x356e5a(0x1bc)]();return _0x918d91[_0x356e5a(0x198)](_0x5d9b90[_0x356e5a(0x1a3)]||[]);}),app[a0_0xc15861(0x11f)](a0_0xc15861(0x159),async _0xbc92b0=>{const _0x5b39de=a0_0xc15861;if(!await isAdminRequest(_0xbc92b0))return _0xbc92b0[_0x5b39de(0x198)]({'error':_0x5b39de(0x174)},0x193);const _0x1da16f=await _0xbc92b0['req'][_0x5b39de(0x198)](),{uuid:_0x3fe205,exp_date:_0x1d8454,exp_time:_0x50ccb2,notes:_0x5ddb4e,traffic_limit:_0x56fb9b,ip_limit:_0x3e109f}=_0x1da16f;if(!_0x3fe205||!_0x1d8454||!_0x50ccb2)return _0xbc92b0[_0x5b39de(0x198)]({'error':_0x5b39de(0x16c)},0x190);try{return await _0xbc92b0[_0x5b39de(0x20d)]['DB'][_0x5b39de(0x229)]('INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)')['bind'](_0x3fe205,_0x1d8454,_0x50ccb2,_0x5ddb4e||null,_0x56fb9b||null,_0x3e109f||-0x1)[_0x5b39de(0x122)](),_0xbc92b0[_0x5b39de(0x198)]({'success':!![],'uuid':_0x3fe205},0xc9);}catch(_0x6aabae){const _0x140119=_0x6aabae instanceof Error?_0x6aabae[_0x5b39de(0x1c9)]:String(_0x6aabae);return _0xbc92b0[_0x5b39de(0x198)]({'error':_0x140119},0x190);}}),app[a0_0xc15861(0x161)](a0_0xc15861(0x12f),async _0x30a072=>{const _0x3b904b=a0_0xc15861;if(!await isAdminRequest(_0x30a072))return _0x30a072[_0x3b904b(0x198)]({'error':_0x3b904b(0x174)},0x193);const _0x3d8440=_0x30a072[_0x3b904b(0x183)]['param'](_0x3b904b(0x237)),_0x37b4c8=await _0x30a072['req'][_0x3b904b(0x198)](),{exp_date:_0x2dcbde,exp_time:_0x5e8503,notes:_0x34a894,traffic_limit:_0x4cb521,ip_limit:_0x1ba59b,reset_traffic:_0x1b9925}=_0x37b4c8;if(!_0x2dcbde||!_0x5e8503)return _0x30a072[_0x3b904b(0x198)]({'error':_0x3b904b(0x19f)},0x190);try{let _0x390976=_0x3b904b(0x168);if(_0x1b9925)_0x390976+=_0x3b904b(0x1a8);return _0x390976+=_0x3b904b(0x145),await _0x30a072[_0x3b904b(0x20d)]['DB']['prepare'](_0x390976)['bind'](_0x2dcbde,_0x5e8503,_0x34a894||null,_0x4cb521||null,_0x1ba59b||-0x1,_0x3d8440)[_0x3b904b(0x122)](),_0x30a072['json']({'success':!![],'uuid':_0x3d8440});}catch(_0x13abaa){const _0x31dc0a=_0x13abaa instanceof Error?_0x13abaa['message']:String(_0x13abaa);return _0x30a072[_0x3b904b(0x198)]({'error':_0x31dc0a},0x190);}}),app[a0_0xc15861(0x1b2)](a0_0xc15861(0x12f),async _0x1eb84f=>{const _0x676796=a0_0xc15861;if(!await isAdminRequest(_0x1eb84f))return _0x1eb84f[_0x676796(0x198)]({'error':_0x676796(0x174)},0x193);const _0x3db49c=_0x1eb84f[_0x676796(0x183)][_0x676796(0x261)]('uuid');try{return await _0x1eb84f[_0x676796(0x20d)]['DB'][_0x676796(0x229)]('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0x676796(0x1d6)](_0x3db49c)['run'](),_0x1eb84f['json']({'success':!![],'uuid':_0x3db49c});}catch(_0x29c735){const _0x3249c6=_0x29c735 instanceof Error?_0x29c735[_0x676796(0x1c9)]:String(_0x29c735);return _0x1eb84f[_0x676796(0x198)]({'error':_0x3249c6},0x1f4);}}),app[a0_0xc15861(0x11f)](a0_0xc15861(0x258),async _0xa2bd2e=>{const _0x4a1556=a0_0xc15861;if(!await isAdminRequest(_0xa2bd2e))return _0xa2bd2e[_0x4a1556(0x198)]({'error':_0x4a1556(0x174)},0x193);const _0x5e6416=_0xa2bd2e[_0x4a1556(0x20d)],_0x3f6b71=_0x5e6416['PROXYIPS']?_0x5e6416[_0x4a1556(0x225)][_0x4a1556(0x1ce)](',')[_0x4a1556(0x256)](_0x2c1238=>_0x2c1238[_0x4a1556(0x220)]()):[_0x4a1556(0x207)],_0x4ed9f7=[];for(const _0x56f3e9 of _0x3f6b71){const [_0x323b61,_0x5084c6=_0x4a1556(0x188)]=_0x56f3e9[_0x4a1556(0x1ce)](':');let _0x7d3515=null,_0x2b7fed=0x0;const _0x368a5f=Date['now']();try{const _0x153443=new AbortController(),_0x5aae9c=setTimeout(()=>_0x153443[_0x4a1556(0x177)](),0x1388),_0x626096=await fetch(_0x4a1556(0x190)+_0x323b61+':'+_0x5084c6,{'signal':_0x153443[_0x4a1556(0x1b6)]});clearTimeout(_0x5aae9c),_0x626096['ok']&&(_0x7d3515=Date['now']()-_0x368a5f,_0x2b7fed=0x1);}catch(_0x224802){}_0x4ed9f7['push'](_0x5e6416['DB'][_0x4a1556(0x229)](_0x4a1556(0x23f))[_0x4a1556(0x1d6)](_0x56f3e9,_0x2b7fed,_0x7d3515,Math[_0x4a1556(0x263)](Date['now']()/0x3e8)));}try{return await _0x5e6416['DB']['batch'](_0x4ed9f7),_0xa2bd2e[_0x4a1556(0x198)]({'success':!![]});}catch(_0xec467){return _0xa2bd2e['json']({'error':_0xec467?.[_0x4a1556(0x1c9)]||String(_0xec467)},0x1f4);}}),app[a0_0xc15861(0x11f)](a0_0xc15861(0x1ba),async _0x21e19e=>{const _0x53e869=a0_0xc15861;try{await _0x21e19e[_0x53e869(0x20d)]['DB'][_0x53e869(0x229)](_0x53e869(0x137))[_0x53e869(0x1d6)](_0x53e869(0x199))[_0x53e869(0x122)]();}catch(_0x360357){}const _0x38ef4c=new Headers();return _0x38ef4c[_0x53e869(0x196)](_0x53e869(0xfc),'auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict'),addSecurityHeaders(_0x38ef4c),new Response(JSON[_0x53e869(0x257)]({'success':!![]}),{'headers':_0x38ef4c});}),app[a0_0xc15861(0x17d)]('/api/user/:uuid/stats',async _0x435533=>{const _0xdbd6d8=a0_0xc15861,{uuid:_0x17a531}=_0x435533[_0xdbd6d8(0x183)][_0xdbd6d8(0x261)](),_0x39a0d2=_0x435533[_0xdbd6d8(0x20d)];if(!/^[0-9a-fA-F-]{36}$/[_0xdbd6d8(0x245)](_0x17a531))return _0x435533[_0xdbd6d8(0x198)]({'error':'invalid'},0x190);const _0x499435=await _0x39a0d2['DB'][_0xdbd6d8(0x229)](_0xdbd6d8(0x1ca))[_0xdbd6d8(0x1d6)](_0x17a531)[_0xdbd6d8(0x1cc)]();if(!_0x499435)return _0x435533[_0xdbd6d8(0x198)]({'error':_0xdbd6d8(0x141)},0x194);const _0x29fc54=expiryToISO(_0x499435[_0xdbd6d8(0x15b)],_0x499435[_0xdbd6d8(0x212)]);return _0x435533[_0xdbd6d8(0x198)]({'traffic_used':_0x499435['traffic_used']||0x0,'traffic_limit':_0x499435[_0xdbd6d8(0x184)]||null,'expiration_iso':_0x29fc54});}),app[a0_0xc15861(0x17d)]('/:uuid',async _0xdabf6c=>{const _0x38331a=a0_0xc15861,_0x3eeb41=_0xdabf6c[_0x38331a(0x183)][_0x38331a(0x261)](_0x38331a(0x237)),_0x1f0395=_0xdabf6c['env'];if(!/^[0-9a-fA-F-]{36}$/[_0x38331a(0x245)](_0x3eeb41))return _0xdabf6c['text'](_0x38331a(0x216),0x190);const _0x353014=await _0x1f0395['DB'][_0x38331a(0x229)](_0x38331a(0x114))[_0x38331a(0x1d6)](_0x3eeb41)[_0x38331a(0x1cc)]();if(!_0x353014)return _0xdabf6c[_0x38331a(0x153)](_0x38331a(0x1a6),0x193);let _0x263089=_0x1f0395[_0x38331a(0x225)]?_0x1f0395[_0x38331a(0x225)][_0x38331a(0x1ce)](',')[0x0]:'speed.cloudflare.com:443';try{const _0x3bd677=await _0x1f0395['DB'][_0x38331a(0x229)](_0x38331a(0x210))[_0x38331a(0x1cc)]();if(_0x3bd677?.[_0x38331a(0x1cd)])_0x263089=_0x3bd677['ip_port'];}catch(_0x36ed35){}const _0x275755=_0xdabf6c['req'][_0x38331a(0x144)][_0x38331a(0x17d)](_0x38331a(0x12a))||_0x38331a(0x12e),_0x5c78aa=_0x38331a(0x190)+_0x275755+_0x38331a(0x13b)+_0x3eeb41,_0x2aee12='https://'+_0x275755+_0x38331a(0x108)+_0x3eeb41,_0x16a7a3=expiryToISO(_0x353014[_0x38331a(0x15b)],_0x353014[_0x38331a(0x212)]),_0x1255f2=_0x38331a(0x14c)+_0x3eeb41+_0x38331a(0x15f)+_0x263089+_0x38331a(0x131)+_0x5c78aa+'\x22>'+_0x5c78aa+_0x38331a(0x23b)+_0x2aee12+'\x22>'+_0x2aee12+_0x38331a(0x139)+_0x3eeb41+_0x38331a(0x1d1)+(_0x353014[_0x38331a(0x154)]||0x0)+_0x38331a(0x231)+(_0x16a7a3||_0x38331a(0x20c))+_0x38331a(0x241),_0x154834=new Headers({'Content-Type':_0x38331a(0x192)});return addSecurityHeaders(_0x154834),new Response(_0x1255f2,{'headers':_0x154834});}),app[a0_0xc15861(0x17d)](a0_0xc15861(0x1e8),async _0xbe5a6c=>{const _0x1b5da0=a0_0xc15861,_0x39e68d=_0xbe5a6c['req'][_0x1b5da0(0x261)](_0x1b5da0(0x237));if(!/^[0-9a-fA-F-]{36}$/['test'](_0x39e68d))return _0xbe5a6c[_0x1b5da0(0x153)]('Invalid\x20UUID',0x190);const _0x4e0373=_0xbe5a6c[_0x1b5da0(0x183)]['headers'][_0x1b5da0(0x17d)]('Host')||'example.com',_0x4a4673=[_0x1b5da0(0x186)+_0x39e68d+'@'+_0x4e0373+_0x1b5da0(0x267)+_0x4e0373+_0x1b5da0(0xf2)],_0x5764be=new Headers({'Content-Type':'text/plain;charset=utf-8'});return addSecurityHeaders(_0x5764be),new Response(btoa(_0x4a4673[_0x1b5da0(0x21c)]('\x0a')),{'headers':_0x5764be});}),app['get'](a0_0xc15861(0x19a),async _0x3d7ac1=>{const _0x1778cb=a0_0xc15861,_0x107965=_0x3d7ac1['req'][_0x1778cb(0x261)](_0x1778cb(0x237));if(!/^[0-9a-fA-F-]{36}$/[_0x1778cb(0x245)](_0x107965))return _0x3d7ac1[_0x1778cb(0x153)](_0x1778cb(0x216),0x190);const _0x3e152b=_0x3d7ac1[_0x1778cb(0x183)][_0x1778cb(0x144)]['get'](_0x1778cb(0x12a))||'example.com',_0x359935=[_0x1778cb(0x186)+_0x107965+'@'+_0x3e152b+_0x1778cb(0x267)+_0x3e152b+_0x1778cb(0x11d)],_0x1798d8=new Headers({'Content-Type':_0x1778cb(0x14e)});return addSecurityHeaders(_0x1798d8),new Response(btoa(_0x359935['join']('\x0a')),{'headers':_0x1798d8});}),app[a0_0xc15861(0x1bc)](a0_0xc15861(0x1dc),async _0x28965d=>{const _0x199f9b=a0_0xc15861,_0x55a1c8=_0x28965d[_0x199f9b(0x183)],_0x4a4355=_0x28965d[_0x199f9b(0x20d)];if(_0x55a1c8[_0x199f9b(0x144)][_0x199f9b(0x17d)](_0x199f9b(0x1a7))?.[_0x199f9b(0x202)]()!==_0x199f9b(0x1b8))return _0x28965d[_0x199f9b(0x153)](_0x199f9b(0x205),0x190);try{if(_0x4a4355['VLESS_WASM'])try{await initWasm();}catch(_0x2c62e4){console[_0x199f9b(0x138)](_0x199f9b(0x191),_0x2c62e4);}}catch(_0x342246){console[_0x199f9b(0x138)](_0x199f9b(0x116),_0x342246);}const _0x1de126=new globalThis[(_0x199f9b(0x24e))](),[_0x345995,_0x486b93]=Object[_0x199f9b(0x21b)](_0x1de126);_0x486b93[_0x199f9b(0xff)]();let _0x89ee8c=0x0,_0x558282='';const _0x43c5fc=async()=>{const _0x24eb52=_0x199f9b;try{if(!_0x558282||_0x89ee8c<=0x0)return;_0x28965d['executionCtx']['waitUntil'](((async()=>{const _0x1c0df3=a0_0x596b;try{await _0x4a4355['DB']['prepare']('UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?')['bind'](Math[_0x1c0df3(0x10d)](_0x89ee8c),_0x558282)[_0x1c0df3(0x122)]();}catch(_0x35391a){console[_0x1c0df3(0x1bd)](_0x1c0df3(0x1fa),_0x35391a);}})())),_0x89ee8c=0x0;}catch(_0x269b4b){console['error'](_0x24eb52(0x14d),_0x269b4b);}},_0x1c7517=setInterval(()=>{_0x43c5fc();},0x2710);_0x486b93[_0x199f9b(0x1c7)](_0x199f9b(0x1c9),async _0xef73e5=>{const _0x58a19d=_0x199f9b;try{const _0x55cd72=_0xef73e5[_0x58a19d(0x1c0)];let _0x193994;if(typeof _0x55cd72===_0x58a19d(0x22d))_0x193994=new TextEncoder()[_0x58a19d(0x157)](_0x55cd72);else{if(_0x55cd72 instanceof ArrayBuffer)_0x193994=new Uint8Array(_0x55cd72);else{if(_0x55cd72 instanceof Blob)_0x193994=new Uint8Array(await _0x55cd72[_0x58a19d(0x1de)]());else return;}}_0x89ee8c+=_0x193994[_0x58a19d(0x107)];if(!_0x558282)try{if(_0x193994[_0x58a19d(0x107)]<0x18){}let _0x4d7472=null;try{_0x4d7472=await parseVlessHeader(_0x193994);}catch(_0xe53cf7){console['warn'](_0x58a19d(0x187),_0xe53cf7);}if(!_0x4d7472){const _0x5c28ad=new DataView(_0x193994[_0x58a19d(0x16d)]),_0x57b58c=new Uint8Array(_0x193994['buffer'][_0x58a19d(0x233)](0x1,0x11)),_0x3e2ef6=Array[_0x58a19d(0x1ab)](_0x57b58c)['map'](_0x20bd06=>_0x20bd06['toString'](0x10)[_0x58a19d(0x1e4)](0x2,'0'))[_0x58a19d(0x21c)](''),_0x3f418f=_0x3e2ef6[_0x58a19d(0x15e)](0x0,0x8)+'-'+_0x3e2ef6[_0x58a19d(0x15e)](0x8,0xc)+'-'+_0x3e2ef6['substring'](0xc,0x10)+'-'+_0x3e2ef6['substring'](0x10,0x14)+'-'+_0x3e2ef6[_0x58a19d(0x15e)](0x14,0x20);_0x4d7472={'uuid':_0x3f418f,'command':_0x5c28ad[_0x58a19d(0x172)](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x558282=_0x4d7472['uuid'];const _0x22966a=await _0x4a4355['DB']['prepare']('SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0x58a19d(0x1d6)](_0x558282)[_0x58a19d(0x1cc)]();if(!_0x22966a){_0x486b93[_0x58a19d(0x1f3)](0x3f3,_0x58a19d(0x1a6));return;}const _0x32f46c=expiryToISO(_0x22966a['expiration_date'],_0x22966a[_0x58a19d(0x212)]);if(_0x32f46c&&new Date(_0x32f46c)<=new Date()){_0x486b93['close'](0x3f0,_0x58a19d(0x248));return;}if(_0x22966a[_0x58a19d(0x184)]&&_0x22966a[_0x58a19d(0x184)]>0x0&&(_0x22966a['traffic_used']||0x0)>=_0x22966a[_0x58a19d(0x184)]){_0x486b93[_0x58a19d(0x1f3)](0x3f0,_0x58a19d(0x121));return;}try{const _0x331141=_0x55a1c8[_0x58a19d(0x144)][_0x58a19d(0x17d)](_0x58a19d(0x242))||_0x55a1c8['headers']['get']('x-forwarded-for')||'';if(_0x22966a['ip_limit']&&_0x22966a[_0x58a19d(0x147)]>-0x1){const _0x3e81d2=await _0x4a4355['DB'][_0x58a19d(0x229)](_0x58a19d(0x171))[_0x58a19d(0x1d6)](_0x558282)[_0x58a19d(0x1cc)](),_0x5abddc=_0x3e81d2?.['count']||0x0;if(_0x5abddc>=_0x22966a[_0x58a19d(0x147)]){_0x486b93['close'](0x3f0,_0x58a19d(0x20e));return;}}_0x28965d[_0x58a19d(0x115)][_0x58a19d(0x22e)](((async()=>{const _0x27c498=_0x58a19d;try{await _0x4a4355['DB'][_0x27c498(0x229)](_0x27c498(0x1df))[_0x27c498(0x1d6)](_0x558282,_0x55a1c8['headers'][_0x27c498(0x17d)](_0x27c498(0x242))||_0x27c498(0x10a))['run']();}catch(_0x39da3f){console[_0x27c498(0x138)](_0x27c498(0x23a),_0x39da3f);}})()));}catch(_0x32a398){console[_0x58a19d(0x138)](_0x58a19d(0x22c),_0x32a398);}}catch(_0x4b57c4){console[_0x58a19d(0x1bd)]('initial\x20header\x20parse\x20error',_0x4b57c4),_0x486b93[_0x58a19d(0x1f3)](0x3f3,'Parse\x20error');return;}try{_0x486b93[_0x58a19d(0x1f7)]===0x1&&_0x486b93[_0x58a19d(0x22f)](_0x58a19d(0x1d0));}catch(_0x374d2c){console[_0x58a19d(0x138)](_0x58a19d(0xf3),_0x374d2c);}}catch(_0x3abced){console['error'](_0x58a19d(0x18a),_0x3abced);try{_0x486b93[_0x58a19d(0x1f3)](0x3f3,_0x58a19d(0x1aa));}catch(_0x541d5d){}}}),_0x486b93['addEventListener']('close',async()=>{const _0x2dd08a=_0x199f9b;clearInterval(_0x1c7517);try{await _0x43c5fc();}catch(_0x5abd79){console[_0x2dd08a(0x138)]('flush\x20on\x20close\x20failed',_0x5abd79);}});const _0x4e6fe1=new Headers();addSecurityHeaders(_0x4e6fe1);const _0x311b04={'status':0x65,'webSocket':_0x345995,'headers':_0x4e6fe1};return new Response(null,_0x311b04);}),app[a0_0xc15861(0x17d)]('/static/*',async _0x52bd41=>{const _0x24f276=a0_0xc15861;return _0x52bd41[_0x24f276(0x153)]('Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.');});var src_default={'fetch':app[a0_0xc15861(0x1e7)]};export{src_default as default,expiryToISO};