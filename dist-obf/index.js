const a0_0x4a4b2e=a0_0x18d2;function a0_0x18d2(_0x3e48ed,_0x98848d){const _0x26a177=a0_0x41f8();return a0_0x18d2=function(_0x5ec363,_0x33bcfd){_0x5ec363=_0x5ec363-0x138;let _0x41f804=_0x26a177[_0x5ec363];return _0x41f804;},a0_0x18d2(_0x3e48ed,_0x98848d);}(function(_0x45b1ef,_0x20e3ae){const _0x3fb27c=a0_0x18d2,_0x5b10f3=_0x45b1ef();while(!![]){try{const _0x3efcc4=parseInt(_0x3fb27c(0x17b))/0x1+parseInt(_0x3fb27c(0x211))/0x2+-parseInt(_0x3fb27c(0x164))/0x3*(-parseInt(_0x3fb27c(0x240))/0x4)+-parseInt(_0x3fb27c(0x1ac))/0x5*(parseInt(_0x3fb27c(0x1f3))/0x6)+-parseInt(_0x3fb27c(0x18e))/0x7+-parseInt(_0x3fb27c(0x150))/0x8+-parseInt(_0x3fb27c(0x241))/0x9*(-parseInt(_0x3fb27c(0x223))/0xa);if(_0x3efcc4===_0x20e3ae)break;else _0x5b10f3['push'](_0x5b10f3['shift']());}catch(_0x471881){_0x5b10f3['push'](_0x5b10f3['shift']());}}}(a0_0x41f8,0x626ee));const a0_0x33bcfd=(function(){let _0x13da47=!![];return function(_0x3dc574,_0x408b79){const _0x38482d=_0x13da47?function(){const _0x2b2c92=a0_0x18d2;if(_0x408b79){const _0x3f8e50=_0x408b79[_0x2b2c92(0x1ce)](_0x3dc574,arguments);return _0x408b79=null,_0x3f8e50;}}:function(){};return _0x13da47=![],_0x38482d;};}()),a0_0x5ec363=a0_0x33bcfd(this,function(){const _0x453551=a0_0x18d2;return a0_0x5ec363['toString']()[_0x453551(0x21e)](_0x453551(0x281))[_0x453551(0x268)]()[_0x453551(0x171)](a0_0x5ec363)[_0x453551(0x21e)](_0x453551(0x281));});a0_0x5ec363();var splitPath=_0x4557e2=>{const _0x99e37a=_0x4557e2['split']('/');return _0x99e37a[0x0]===''&&_0x99e37a['shift'](),_0x99e37a;},splitRoutingPath=_0x5c3fc0=>{const {groups:_0x5521ad,path:_0x16df41}=extractGroupsFromPath(_0x5c3fc0),_0x1fe6ea=splitPath(_0x16df41);return replaceGroupMarks(_0x1fe6ea,_0x5521ad);},extractGroupsFromPath=_0x44b44a=>{const _0xc12141=a0_0x18d2,_0x10774e=[];return _0x44b44a=_0x44b44a[_0xc12141(0x13b)](/\{[^}]+\}/g,(_0x33ffa7,_0x2a15b9)=>{const _0x258759='@'+_0x2a15b9;return _0x10774e['push']([_0x258759,_0x33ffa7]),_0x258759;}),{'groups':_0x10774e,'path':_0x44b44a};},replaceGroupMarks=(_0x2f305f,_0x338a12)=>{const _0x4708ca=a0_0x18d2;for(let _0x5867b9=_0x338a12[_0x4708ca(0x25a)]-0x1;_0x5867b9>=0x0;_0x5867b9--){const [_0x229fcf]=_0x338a12[_0x5867b9];for(let _0x3b1ac9=_0x2f305f[_0x4708ca(0x25a)]-0x1;_0x3b1ac9>=0x0;_0x3b1ac9--){if(_0x2f305f[_0x3b1ac9][_0x4708ca(0x203)](_0x229fcf)){_0x2f305f[_0x3b1ac9]=_0x2f305f[_0x3b1ac9][_0x4708ca(0x13b)](_0x229fcf,_0x338a12[_0x5867b9][0x1]);break;}}}return _0x2f305f;},patternCache={},getPattern=_0x4d5fad=>{if(_0x4d5fad==='*')return'*';const _0x188c34=_0x4d5fad['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x188c34)return!patternCache[_0x4d5fad]&&(_0x188c34[0x2]?patternCache[_0x4d5fad]=[_0x4d5fad,_0x188c34[0x1],new RegExp('^'+_0x188c34[0x2]+'$')]:patternCache[_0x4d5fad]=[_0x4d5fad,_0x188c34[0x1],!![]]),patternCache[_0x4d5fad];return null;},getPath=_0x504057=>{const _0x11e74a=a0_0x18d2,_0x4186c9=_0x504057['url'][_0x11e74a(0x15d)](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x4186c9?_0x4186c9[0x1]:'';},getQueryStrings=_0x237f18=>{const _0x2b1090=a0_0x18d2,_0x394f4a=_0x237f18[_0x2b1090(0x27d)]('?',0x8);return _0x394f4a===-0x1?'':'?'+_0x237f18['slice'](_0x394f4a+0x1);},getPathNoStrict=_0x2c4378=>{const _0x4bad81=a0_0x18d2,_0x29e8c6=getPath(_0x2c4378);return _0x29e8c6['length']>0x1&&_0x29e8c6[_0x29e8c6['length']-0x1]==='/'?_0x29e8c6[_0x4bad81(0x209)](0x0,-0x1):_0x29e8c6;},mergePath=(..._0x1ae098)=>{const _0x5b3692=a0_0x18d2;let _0x33242c='',_0xbae180=![];for(let _0x50b14d of _0x1ae098){_0x33242c[_0x33242c[_0x5b3692(0x25a)]-0x1]==='/'&&(_0x33242c=_0x33242c[_0x5b3692(0x209)](0x0,-0x1),_0xbae180=!![]);_0x50b14d[0x0]!=='/'&&(_0x50b14d='/'+_0x50b14d);if(_0x50b14d==='/'&&_0xbae180)_0x33242c=_0x33242c+'/';else _0x50b14d!=='/'&&(_0x33242c=''+_0x33242c+_0x50b14d);_0x50b14d==='/'&&_0x33242c===''&&(_0x33242c='/');}return _0x33242c;},checkOptionalParameter=_0x51587f=>{const _0x42ee52=a0_0x18d2;if(!_0x51587f[_0x42ee52(0x15d)](/\:.+\?$/))return null;const _0x4aa1e3=_0x51587f[_0x42ee52(0x265)]('/'),_0x2e0b61=[];let _0x1fe848='';return _0x4aa1e3[_0x42ee52(0x28e)](_0x3560c5=>{const _0x546693=_0x42ee52;if(_0x3560c5!==''&&!/\:/[_0x546693(0x155)](_0x3560c5))_0x1fe848+='/'+_0x3560c5;else{if(/\:/[_0x546693(0x155)](_0x3560c5)){if(/\?/[_0x546693(0x155)](_0x3560c5)){_0x2e0b61['length']===0x0&&_0x1fe848===''?_0x2e0b61[_0x546693(0x142)]('/'):_0x2e0b61[_0x546693(0x142)](_0x1fe848);const _0x409a7b=_0x3560c5[_0x546693(0x13b)]('?','');_0x1fe848+='/'+_0x409a7b,_0x2e0b61[_0x546693(0x142)](_0x1fe848);}else _0x1fe848+='/'+_0x3560c5;}}}),_0x2e0b61[_0x42ee52(0x148)]((_0x1022bb,_0x4d2b26,_0x1e0ae2)=>_0x1e0ae2[_0x42ee52(0x27d)](_0x1022bb)===_0x4d2b26);},_decodeURI=_0x1d56a1=>{const _0x28dd4d=a0_0x18d2;if(!/[%+]/[_0x28dd4d(0x155)](_0x1d56a1))return _0x1d56a1;return _0x1d56a1['indexOf']('+')!==-0x1&&(_0x1d56a1=_0x1d56a1[_0x28dd4d(0x13b)](/\+/g,'\x20')),/%/[_0x28dd4d(0x155)](_0x1d56a1)?decodeURIComponent_(_0x1d56a1):_0x1d56a1;},_getQueryParam=(_0x13bc2b,_0x578bcf,_0x241e84)=>{const _0x5168ea=a0_0x18d2;let _0x5e5695;if(!_0x241e84&&_0x578bcf&&!/[%+]/[_0x5168ea(0x155)](_0x578bcf)){let _0x1f2e2e=_0x13bc2b[_0x5168ea(0x27d)]('?'+_0x578bcf,0x8);_0x1f2e2e===-0x1&&(_0x1f2e2e=_0x13bc2b[_0x5168ea(0x27d)]('&'+_0x578bcf,0x8));while(_0x1f2e2e!==-0x1){const _0xe0a6d8=_0x13bc2b[_0x5168ea(0x170)](_0x1f2e2e+_0x578bcf[_0x5168ea(0x25a)]+0x1);if(_0xe0a6d8===0x3d){const _0x430e97=_0x1f2e2e+_0x578bcf[_0x5168ea(0x25a)]+0x2,_0x44337b=_0x13bc2b[_0x5168ea(0x27d)]('&',_0x430e97);return _decodeURI(_0x13bc2b[_0x5168ea(0x209)](_0x430e97,_0x44337b===-0x1?void 0x0:_0x44337b));}else{if(_0xe0a6d8==0x26||isNaN(_0xe0a6d8))return'';}_0x1f2e2e=_0x13bc2b[_0x5168ea(0x27d)]('&'+_0x578bcf,_0x1f2e2e+0x1);}_0x5e5695=/[%+]/[_0x5168ea(0x155)](_0x13bc2b);if(!_0x5e5695)return void 0x0;}const _0x20fa03={};_0x5e5695??(_0x5e5695=/[%+]/[_0x5168ea(0x155)](_0x13bc2b));let _0x1b7f57=_0x13bc2b[_0x5168ea(0x27d)]('?',0x8);while(_0x1b7f57!==-0x1){const _0x3ccdf4=_0x13bc2b[_0x5168ea(0x27d)]('&',_0x1b7f57+0x1);let _0x4b515b=_0x13bc2b['indexOf']('=',_0x1b7f57);_0x4b515b>_0x3ccdf4&&_0x3ccdf4!==-0x1&&(_0x4b515b=-0x1);let _0x20c217=_0x13bc2b[_0x5168ea(0x209)](_0x1b7f57+0x1,_0x4b515b===-0x1?_0x3ccdf4===-0x1?void 0x0:_0x3ccdf4:_0x4b515b);_0x5e5695&&(_0x20c217=_decodeURI(_0x20c217));_0x1b7f57=_0x3ccdf4;if(_0x20c217==='')continue;let _0x7d736e;_0x4b515b===-0x1?_0x7d736e='':(_0x7d736e=_0x13bc2b[_0x5168ea(0x209)](_0x4b515b+0x1,_0x3ccdf4===-0x1?void 0x0:_0x3ccdf4),_0x5e5695&&(_0x7d736e=_decodeURI(_0x7d736e)));if(_0x241e84){!(_0x20fa03[_0x20c217]&&Array['isArray'](_0x20fa03[_0x20c217]))&&(_0x20fa03[_0x20c217]=[]);;_0x20fa03[_0x20c217][_0x5168ea(0x142)](_0x7d736e);}else _0x20fa03[_0x20c217]??(_0x20fa03[_0x20c217]=_0x7d736e);}return _0x578bcf?_0x20fa03[_0x578bcf]:_0x20fa03;},getQueryParam=_getQueryParam,getQueryParams=(_0x3980e7,_0x111c42)=>{return _getQueryParam(_0x3980e7,_0x111c42,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x54617a,_0x537348)=>{const _0x279328=a0_0x18d2,_0x2b2f6a=_0x54617a['trim']()[_0x279328(0x265)](';');return _0x2b2f6a[_0x279328(0x1ee)]((_0x14251c,_0x475a7a)=>{const _0x3bfee1=_0x279328;_0x475a7a=_0x475a7a[_0x3bfee1(0x224)]();const _0x32d613=_0x475a7a[_0x3bfee1(0x27d)]('=');if(_0x32d613===-0x1)return _0x14251c;const _0x3c7d6b=_0x475a7a[_0x3bfee1(0x1b1)](0x0,_0x32d613)[_0x3bfee1(0x224)]();if(_0x537348&&_0x537348!==_0x3c7d6b||!validCookieNameRegEx[_0x3bfee1(0x155)](_0x3c7d6b))return _0x14251c;let _0x493845=_0x475a7a[_0x3bfee1(0x1b1)](_0x32d613+0x1)[_0x3bfee1(0x224)]();return _0x493845['startsWith']('\x22')&&_0x493845[_0x3bfee1(0x17d)]('\x22')&&(_0x493845=_0x493845[_0x3bfee1(0x209)](0x1,-0x1)),validCookieValueRegEx[_0x3bfee1(0x155)](_0x493845)&&(_0x14251c[_0x3c7d6b]=decodeURIComponent_(_0x493845)),_0x14251c;},{});},_serialize=(_0x533d14,_0x31dd5f,_0x3b8406={})=>{const _0x32616b=a0_0x18d2;let _0x389ba4=_0x533d14+'='+_0x31dd5f;return _0x3b8406&&typeof _0x3b8406[_0x32616b(0x152)]===_0x32616b(0x1d8)&&_0x3b8406['maxAge']>=0x0&&(_0x389ba4+=';\x20Max-Age='+Math[_0x32616b(0x1ab)](_0x3b8406['maxAge'])),_0x3b8406[_0x32616b(0x1d0)]&&(_0x389ba4+=_0x32616b(0x260)+_0x3b8406[_0x32616b(0x1d0)]),_0x3b8406[_0x32616b(0x298)]&&(_0x389ba4+=_0x32616b(0x207)+_0x3b8406[_0x32616b(0x298)]),_0x3b8406[_0x32616b(0x1bf)]&&(_0x389ba4+=_0x32616b(0x179)+_0x3b8406[_0x32616b(0x1bf)][_0x32616b(0x193)]()),_0x3b8406['httpOnly']&&(_0x389ba4+=_0x32616b(0x19a)),_0x3b8406['secure']&&(_0x389ba4+=_0x32616b(0x149)),_0x3b8406[_0x32616b(0x210)]&&(_0x389ba4+=_0x32616b(0x27a)+_0x3b8406[_0x32616b(0x210)]),_0x3b8406[_0x32616b(0x1f5)]&&(_0x389ba4+=';\x20Partitioned'),_0x389ba4;},serialize=(_0x1deb74,_0x156f0b,_0x4edfbe={})=>{return _0x156f0b=encodeURIComponent(_0x156f0b),_serialize(_0x1deb74,_0x156f0b,_0x4edfbe);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0x429b2f,_0x43b628)=>{const _0x32cab3=a0_0x18d2,_0xdb46cc=new String(_0x429b2f);return _0xdb46cc[_0x32cab3(0x263)]=!![],_0xdb46cc[_0x32cab3(0x14b)]=_0x43b628,_0xdb46cc;},resolveCallback=async(_0x4cf10b,_0x244ba0,_0x22e9d5,_0xea4284,_0x339d4a)=>{const _0x6925b6=a0_0x18d2,_0x14b276=_0x4cf10b[_0x6925b6(0x14b)];if(!_0x14b276?.['length'])return Promise['resolve'](_0x4cf10b);_0x339d4a?_0x339d4a[0x0]+=_0x4cf10b:_0x339d4a=[_0x4cf10b];const _0x2548a7=Promise['all'](_0x14b276[_0x6925b6(0x29f)](_0x441110=>_0x441110({'phase':_0x244ba0,'buffer':_0x339d4a,'context':_0xea4284})))[_0x6925b6(0x1f8)](_0xb19b0e=>Promise[_0x6925b6(0x288)](_0xb19b0e[_0x6925b6(0x148)](Boolean)[_0x6925b6(0x29f)](_0x4c87cc=>resolveCallback(_0x4c87cc,_0x244ba0,![],_0xea4284,_0x339d4a)))[_0x6925b6(0x1f8)](()=>_0x339d4a[0x0]));return _0x22e9d5?raw(await _0x2548a7,_0x14b276):_0x2548a7;},StreamingApi=class{constructor(_0x2933c4,_0x349180){const _0x3dec1e=a0_0x18d2;this[_0x3dec1e(0x19f)]=[],this[_0x3dec1e(0x1b5)]=_0x2933c4,this[_0x3dec1e(0x290)]=_0x2933c4[_0x3dec1e(0x230)](),this[_0x3dec1e(0x1a6)]=new TextEncoder();const _0xc92fa=_0x349180['getReader']();this[_0x3dec1e(0x2a2)]=new ReadableStream({async 'pull'(_0x42a751){const _0x4d4949=_0x3dec1e,{done:_0x241d19,value:_0x51a9a5}=await _0xc92fa[_0x4d4949(0x15e)]();_0x241d19?_0x42a751['close']():_0x42a751[_0x4d4949(0x162)](_0x51a9a5);},'cancel':()=>{const _0x33b3e3=_0x3dec1e;this[_0x33b3e3(0x19f)][_0x33b3e3(0x28e)](_0xe12435=>_0xe12435());}});}async[a0_0x4a4b2e(0x1e3)](_0x1592a1){const _0x51b6f5=a0_0x4a4b2e;try{typeof _0x1592a1===_0x51b6f5(0x200)&&(_0x1592a1=this[_0x51b6f5(0x1a6)]['encode'](_0x1592a1)),await this[_0x51b6f5(0x290)]['write'](_0x1592a1);}catch(_0x562b00){}return this;}async['writeln'](_0x56e4f7){const _0x5c4ab1=a0_0x4a4b2e;return await this[_0x5c4ab1(0x1e3)](_0x56e4f7+'\x0a'),this;}[a0_0x4a4b2e(0x222)](_0x2ca412){return new Promise(_0x366121=>setTimeout(_0x366121,_0x2ca412));}async[a0_0x4a4b2e(0x254)](){const _0x5cd225=a0_0x4a4b2e;try{await this[_0x5cd225(0x290)][_0x5cd225(0x254)]();}catch(_0x5055a4){}}async[a0_0x4a4b2e(0x227)](_0x3fcd2a){const _0x564748=a0_0x4a4b2e;this[_0x564748(0x290)][_0x564748(0x13d)](),await _0x3fcd2a['pipeTo'](this[_0x564748(0x1b5)],{'preventClose':!![]}),this[_0x564748(0x290)]=this[_0x564748(0x1b5)][_0x564748(0x230)]();}async[a0_0x4a4b2e(0x138)](_0x5389e0){const _0x296474=a0_0x4a4b2e;this[_0x296474(0x19f)]['push'](_0x5389e0);}},__accessCheck=(_0x26c5f4,_0x29d746,_0x4baa4e)=>{const _0x4a54c9=a0_0x4a4b2e;if(!_0x29d746[_0x4a54c9(0x169)](_0x26c5f4))throw TypeError(_0x4a54c9(0x25d)+_0x4baa4e);},__privateGet=(_0x26aa1c,_0x7c36cc,_0x14985f)=>{const _0x23dbce=a0_0x4a4b2e;return __accessCheck(_0x26aa1c,_0x7c36cc,_0x23dbce(0x25f)),_0x14985f?_0x14985f[_0x23dbce(0x22b)](_0x26aa1c):_0x7c36cc[_0x23dbce(0x1cf)](_0x26aa1c);},__privateAdd=(_0x14f844,_0x32b977,_0x51fda3)=>{const _0x1b4283=a0_0x4a4b2e;if(_0x32b977[_0x1b4283(0x169)](_0x14f844))throw TypeError(_0x1b4283(0x1df));_0x32b977 instanceof WeakSet?_0x32b977['add'](_0x14f844):_0x32b977[_0x1b4283(0x1cb)](_0x14f844,_0x51fda3);},__privateSet=(_0x3f8692,_0x599641,_0x3dc84a,_0x1ff8db)=>{const _0x469125=a0_0x4a4b2e;return __accessCheck(_0x3f8692,_0x599641,_0x469125(0x225)),_0x1ff8db?_0x1ff8db['call'](_0x3f8692,_0x3dc84a):_0x599641[_0x469125(0x1cb)](_0x3f8692,_0x3dc84a),_0x3dc84a;},TEXT_PLAIN='text/plain;\x20charset=UTF-8',setHeaders=(_0x5f3911,_0x142a90={})=>{const _0x1859bf=a0_0x4a4b2e;return Object[_0x1859bf(0x1ba)](_0x142a90)[_0x1859bf(0x28e)](([_0x413e0d,_0x5020b4])=>_0x5f3911[_0x1859bf(0x1cb)](_0x413e0d,_0x5020b4)),_0x5f3911;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x15cc65,_0x452544){const _0x3660d7=a0_0x4a4b2e;this['env']={},this[_0x3660d7(0x16f)]={},this['finalized']=![],this['error']=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this[_0x3660d7(0x151)]=_0x51e49d=>this[_0x3660d7(0x248)](_0x51e49d),this['notFoundHandler']=()=>new Response(),this[_0x3660d7(0x191)]=(..._0x48aca4)=>this['renderer'](..._0x48aca4),this['setRenderer']=_0x13c95f=>{this['renderer']=_0x13c95f;},this[_0x3660d7(0x17a)]=(_0x4be5bd,_0xfb205,_0x40123e)=>{const _0x391aaf=_0x3660d7;if(_0xfb205===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)[_0x391aaf(0x24e)](_0x4be5bd);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x4be5bd[_0x391aaf(0x293)]()];this[_0x391aaf(0x257)]&&this[_0x391aaf(0x154)][_0x391aaf(0x23d)]['delete'](_0x4be5bd);return;}_0x40123e?.[_0x391aaf(0x233)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)['append'](_0x4be5bd,_0xfb205)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x391aaf(0x1cb)](_0x4be5bd,_0xfb205):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x4be5bd['toLowerCase']()]=_0xfb205),this[_0x391aaf(0x257)]&&(_0x40123e?.[_0x391aaf(0x233)]?this['res'][_0x391aaf(0x23d)][_0x391aaf(0x233)](_0x4be5bd,_0xfb205):this[_0x391aaf(0x154)][_0x391aaf(0x23d)][_0x391aaf(0x1cb)](_0x4be5bd,_0xfb205));},this[_0x3660d7(0x1cd)]=_0x5b402b=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x5b402b);},this[_0x3660d7(0x1cb)]=(_0x354c76,_0x2f4e78)=>{const _0x2e01bb=_0x3660d7;this[_0x2e01bb(0x16f)]??(this[_0x2e01bb(0x16f)]={}),this['_var'][_0x354c76]=_0x2f4e78;},this['get']=_0x1a10a8=>{const _0x16a586=_0x3660d7;return this['_var']?this[_0x16a586(0x16f)][_0x1a10a8]:void 0x0;},this[_0x3660d7(0x283)]=(_0x301ece,_0x2697fc,_0x5a7cec)=>{const _0x46dea9=_0x3660d7;if(__privateGet(this,_isFresh)&&!_0x5a7cec&&!_0x2697fc&&__privateGet(this,_status)===0xc8)return new Response(_0x301ece,{'headers':__privateGet(this,_preparedHeaders)});if(_0x2697fc&&typeof _0x2697fc!=='number'){const _0x524002=setHeaders(new Headers(_0x2697fc[_0x46dea9(0x23d)]),__privateGet(this,_preparedHeaders));return new Response(_0x301ece,{'headers':_0x524002,'status':_0x2697fc[_0x46dea9(0x1cd)]});}const _0x488b85=typeof _0x2697fc===_0x46dea9(0x1d8)?_0x2697fc:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)[_0x46dea9(0x23d)][_0x46dea9(0x28e)]((_0x26b3bb,_0x10a480)=>{const _0xc03725=_0x46dea9;__privateGet(this,_headers)?.[_0xc03725(0x1cb)](_0x10a480,_0x26b3bb);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x5a7cec??(_0x5a7cec={});for(const [_0xe04936,_0x1ed353]of Object[_0x46dea9(0x1ba)](_0x5a7cec)){if(typeof _0x1ed353===_0x46dea9(0x200))__privateGet(this,_headers)[_0x46dea9(0x1cb)](_0xe04936,_0x1ed353);else{__privateGet(this,_headers)[_0x46dea9(0x24e)](_0xe04936);for(const _0x2ac064 of _0x1ed353){__privateGet(this,_headers)[_0x46dea9(0x233)](_0xe04936,_0x2ac064);}}}return new Response(_0x301ece,{'status':_0x488b85,'headers':__privateGet(this,_headers)});},this['body']=(_0x1a19a3,_0x2c36a4,_0x4184d5)=>{const _0x1179b4=_0x3660d7;return typeof _0x2c36a4==='number'?this[_0x1179b4(0x283)](_0x1a19a3,_0x2c36a4,_0x4184d5):this[_0x1179b4(0x283)](_0x1a19a3,_0x2c36a4);},this[_0x3660d7(0x267)]=(_0x543fc6,_0x1cb3d9,_0x1f3a88)=>{const _0x4e7f98=_0x3660d7;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0x1f3a88&&!_0x1cb3d9)return new Response(_0x543fc6);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)[_0x4e7f98(0x1e5)]=TEXT_PLAIN,typeof _0x1cb3d9===_0x4e7f98(0x1d8)?this[_0x4e7f98(0x283)](_0x543fc6,_0x1cb3d9,_0x1f3a88):this['newResponse'](_0x543fc6,_0x1cb3d9);},this[_0x3660d7(0x29e)]=(_0x5a20d0,_0x191137,_0x309fff)=>{const _0x51bac2=_0x3660d7,_0x1c5d48=JSON[_0x51bac2(0x1bd)](_0x5a20d0);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)['content-type']=_0x51bac2(0x144),typeof _0x191137===_0x51bac2(0x1d8)?this[_0x51bac2(0x283)](_0x1c5d48,_0x191137,_0x309fff):this[_0x51bac2(0x283)](_0x1c5d48,_0x191137);},this[_0x3660d7(0x1b3)]=(_0x26bb03,_0x3f578c,_0x7c5f19)=>{const _0x1ae145=_0x3660d7;return this[_0x1ae145(0x29e)](_0x26bb03,_0x3f578c,_0x7c5f19);},this[_0x3660d7(0x248)]=(_0x32ae63,_0x45faac,_0x372bb6)=>{const _0x572424=_0x3660d7;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x572424(0x1e5)]=_0x572424(0x245);if(typeof _0x32ae63===_0x572424(0x1a4)){!(_0x32ae63 instanceof Promise)&&(_0x32ae63=_0x32ae63[_0x572424(0x268)]());if(_0x32ae63 instanceof Promise)return _0x32ae63['then'](_0x1f65d6=>resolveCallback(_0x1f65d6,HtmlEscapedCallbackPhase['Stringify'],![],{}))[_0x572424(0x1f8)](_0x6defc8=>{const _0x243d79=_0x572424;return typeof _0x45faac==='number'?this['newResponse'](_0x6defc8,_0x45faac,_0x372bb6):this[_0x243d79(0x283)](_0x6defc8,_0x45faac);});}return typeof _0x45faac===_0x572424(0x1d8)?this[_0x572424(0x283)](_0x32ae63,_0x45faac,_0x372bb6):this['newResponse'](_0x32ae63,_0x45faac);},this[_0x3660d7(0x195)]=(_0x1124d5,_0x3bc507=0x12e)=>{const _0x475640=_0x3660d7;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0x475640(0x1cb)]('Location',_0x1124d5),this[_0x475640(0x283)](null,_0x3bc507);},this['streamText']=(_0x3f6067,_0xcf5030,_0x8356bc)=>{const _0x36df67=_0x3660d7;return _0x8356bc??(_0x8356bc={}),this[_0x36df67(0x17a)](_0x36df67(0x1e5),TEXT_PLAIN),this[_0x36df67(0x17a)](_0x36df67(0x17e),'nosniff'),this['header']('transfer-encoding',_0x36df67(0x1e1)),this[_0x36df67(0x1de)](_0x3f6067,_0xcf5030,_0x8356bc);},this['stream']=(_0x425db6,_0x48ee56,_0x209025)=>{const _0x115600=_0x3660d7,{readable:_0xc4f561,writable:_0x280597}=new TransformStream(),_0x53384b=new StreamingApi(_0x280597,_0xc4f561);return _0x425db6(_0x53384b)[_0x115600(0x29a)](()=>_0x53384b[_0x115600(0x254)]()),typeof _0x48ee56==='number'?this[_0x115600(0x283)](_0x53384b[_0x115600(0x2a2)],_0x48ee56,_0x209025):this[_0x115600(0x283)](_0x53384b['responseReadable'],_0x48ee56);},this[_0x3660d7(0x15a)]=(_0x39a802,_0x41047c,_0x54191c)=>{const _0x408ee0=_0x3660d7,_0x5e5a90=serialize(_0x39a802,_0x41047c,_0x54191c);this[_0x408ee0(0x17a)]('set-cookie',_0x5e5a90,{'append':!![]});},this[_0x3660d7(0x1c6)]=()=>{const _0x102061=_0x3660d7;return this[_0x102061(0x261)](this);},this[_0x3660d7(0x21f)]=_0x15cc65,_0x452544&&(__privateSet(this,_executionCtx,_0x452544['executionCtx']),this[_0x3660d7(0x1d5)]=_0x452544[_0x3660d7(0x1d5)],_0x452544[_0x3660d7(0x261)]&&(this['notFoundHandler']=_0x452544['notFoundHandler']));}get[a0_0x4a4b2e(0x247)](){const _0x1d45e4=a0_0x4a4b2e;if(__privateGet(this,_executionCtx)&&_0x1d45e4(0x13f)in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x1d45e4(0x23e));}get[a0_0x4a4b2e(0x1c4)](){const _0xd65c89=a0_0x4a4b2e;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0xd65c89(0x1d4));}get['res'](){const _0x39e348=a0_0x4a4b2e;return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response(_0x39e348(0x175),{'status':0x194}));}set[a0_0x4a4b2e(0x154)](_0x10093d){const _0x3e5b0c=a0_0x4a4b2e;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x10093d){__privateGet(this,_res)[_0x3e5b0c(0x23d)][_0x3e5b0c(0x24e)]('content-type');for(const [_0x226cdf,_0x557352]of __privateGet(this,_res)['headers'][_0x3e5b0c(0x1ba)]()){if(_0x226cdf===_0x3e5b0c(0x1bc)){const _0xbb8168=__privateGet(this,_res)[_0x3e5b0c(0x23d)][_0x3e5b0c(0x1c0)]();_0x10093d[_0x3e5b0c(0x23d)][_0x3e5b0c(0x24e)](_0x3e5b0c(0x1bc));for(const _0xf7185e of _0xbb8168){_0x10093d[_0x3e5b0c(0x23d)][_0x3e5b0c(0x233)]('set-cookie',_0xf7185e);}}else _0x10093d['headers'][_0x3e5b0c(0x1cb)](_0x226cdf,_0x557352);}}__privateSet(this,_res,_0x10093d),this['finalized']=!![];}get[a0_0x4a4b2e(0x22e)](){const _0xb7bf60=a0_0x4a4b2e;return{...this[_0xb7bf60(0x16f)]};}get[a0_0x4a4b2e(0x27b)](){const _0x2e3681=a0_0x4a4b2e,_0x280262=globalThis;if(_0x280262?.[_0x2e3681(0x15c)]!==void 0x0)return _0x2e3681(0x255);if(_0x280262?.[_0x2e3681(0x168)]!==void 0x0)return'bun';if(typeof _0x280262?.[_0x2e3681(0x178)]==='function')return'workerd';if(typeof _0x280262?.[_0x2e3681(0x249)]===_0x2e3681(0x200))return _0x2e3681(0x1e4);if(_0x280262?.['fastly']!==void 0x0)return _0x2e3681(0x18b);if(_0x280262?.[_0x2e3681(0x1d2)]!==void 0x0)return _0x2e3681(0x1e0);if(_0x280262?.[_0x2e3681(0x19e)]?.[_0x2e3681(0x276)]?.[_0x2e3681(0x198)]==='node')return'node';return'other';}};function a0_0x41f8(){const _0x2991a7=['90tpqwuN','trim','write\x20to\x20private\x20field','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','pipe','/sb/:uuid','/sb/','routers','call','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','data','var','join','getWriter','_basePath',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','append','(?:|/.*)','buildRegExp','/xray/:uuid','flush\x20on\x20close\x20failed','routeIndex','http://localhost','getParamValue','node','expiration_date','headers','This\x20context\x20has\x20no\x20FetchEvent','batch','4YbMlZE','823437sHPfeh','buffer','addEventListener','randomUUID','text/html;\x20charset=UTF-8','raw','event','html','EdgeRuntime','routes','GET','getTime','children','delete','route','DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','Permissions-Policy','insert','sum','close','deno','traffic_used','finalized','speed.cloudflare.com:443','keepalive','length','integrity','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22','Cannot\x20','router','read\x20from\x20private\x20field',';\x20Domain=','notFoundHandler','</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22','isEscaped','/admin/login','split','basePath','text','toString','params','camera=(),\x20microphone=()','INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.','[^/]+','method','vless://','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/','/admin/api/health-check','dispatch','handler','&lt;','release','readyState','/admin/api/users/:uuid','startsWith',';\x20SameSite=','runtime','/admin','indexOf','patterns','getPath','SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','(((.+)+)+)+$','composedHandler','newResponse','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','put',':00','No\x20active\x20router\x20has\x20been\x20determined\x20yet.','all','matchRoute','message\x20handler\x20error','strict','body','IP\x20limit\x20exceeded','forEach','x-forwarded-for','writer','\x20WHERE\x20uuid\x20=\x20?','formData','toLocaleLowerCase','SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)','buildMatcher','Internal\x20Server\x20Error','path','keys','finally','SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users','/admin/api/users','varIndex','json','map','default','flush\x20usage\x20error','responseReadable','&path=/ws#singbox','onAbort','Content-Type','text/html;charset=utf-8','replace','addValidatedData','releaseLock','first','respondWith','order','signal','push','param','application/json;\x20charset=UTF-8','websocket','\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20','fire','filter',';\x20Secure','SmartRouter\x20+\x20','callbacks','middleware','SmartRouter','bodyUsed','toUpperCase','6387264nFYDjc','renderer','maxAge','activeRouter','res','test','\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20','run','Missing\x20fields','Invalid','cookie','addRoute','Deno','match','read','INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)','ensureTablesExist\x20failed','fetch','enqueue','getResponse','598233ZjMdDO','send\x20ack\x20failed','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>','Forbidden','Bun','has','SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201','assign','results','from','routePath','_var','charCodeAt','constructor','accept','uuid','use','404\x20Not\x20Found','bind','</p>','WebSocketPair',';\x20Expires=','header','177461gAmFLh','UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?','endsWith','x-content-type-options','some','&quot;','ADMIN_KEY','unknown','now','Invalid\x20UUID','initial\x20header\x20parse\x20error','unshift','request','routerName','Internal\x20error','SHA-256','fastly','warn','sort','3159135SoemxF','waitUntil','function','render','root','toUTCString','digest','redirect','context','getDecodedParam','name','RegExpRouter',';\x20HttpOnly','query','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.','process','abortSubscribers','upgrade','encode','Admin\x20not\x20configured','methods','object','errorHandler','encoder','handleError','PROXYIPS','blob','token_hash','floor','50AZMqna','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22','WASM\x20init\x20failed','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','subtle','substring','message','jsonT','443','writable','referrer','/static/*','&path=/ws#xray','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','entries','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','set-cookie','stringify','isAdminRequest\x20error','expires','getSetCookie','post','cachedBody','toLowerCase','executionCtx','parseBody','notFound','&gt;','error','possibleKeys','not\x20found','set','\x1b[0m\x20','status','apply','get','domain','https://','__lagon__','count','This\x20context\x20has\x20no\x20ExecutionContext','env','ip_limit','&amp;','number','buildAllMatchers','getAllDecodedParams','flushUsage\x20outer','Fatal\x20error','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','stream','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','lagon','chunked','example.com','write','edge-light','content-type','Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.','/admin/api/stats','clone','./rust/pkg/vless_parser.js','ip_limit\x20check\x20err','onError','byteLength','text/plain;charset=utf-8','reduce','ip_port','$()','&#39;','values','121098lDjpsU','buildRegExpStr','partitioned','round','TrieRouter','then','Host','undefined','bodyCache','arrayBuffer','prepare','options','CF-Connecting-IP','string','</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','includes','add','Cookie','invalid',';\x20Path=','parsedBody','slice','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','ALL','expiration_time','/api/user/:uuid/stats','url','Authentication\x20failed','sameSite','1308832dypBxG','catch','gHSets','/xray/','Unlimited','traffic_limit','X-Content-Type-Options','/ws','padStart','multipart/form-data','(?:','index','send','search','req','score','log','sleep'];a0_0x41f8=function(){return _0x2991a7;};return a0_0x41f8();}_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x476387,_0x38a10d,_0x343f9b)=>{return(_0x4ab225,_0x50f2fb)=>{let _0x471bb0=-0x1;return _0xf4a594(0x0);async function _0xf4a594(_0x44d249){const _0x4eb6d3=a0_0x18d2;if(_0x44d249<=_0x471bb0)throw new Error('next()\x20called\x20multiple\x20times');_0x471bb0=_0x44d249;let _0x57f66f,_0x4e55ba=![],_0x519bfc;_0x476387[_0x44d249]?(_0x519bfc=_0x476387[_0x44d249][0x0][0x0],_0x4ab225 instanceof Context&&(_0x4ab225[_0x4eb6d3(0x21f)]['routeIndex']=_0x44d249)):_0x519bfc=_0x44d249===_0x476387[_0x4eb6d3(0x25a)]&&_0x50f2fb||void 0x0;if(!_0x519bfc)_0x4ab225 instanceof Context&&_0x4ab225[_0x4eb6d3(0x257)]===![]&&_0x343f9b&&(_0x57f66f=await _0x343f9b(_0x4ab225));else try{_0x57f66f=await _0x519bfc(_0x4ab225,()=>{return _0xf4a594(_0x44d249+0x1);});}catch(_0x100216){if(_0x100216 instanceof Error&&_0x4ab225 instanceof Context&&_0x38a10d)_0x4ab225['error']=_0x100216,_0x57f66f=await _0x38a10d(_0x100216,_0x4ab225),_0x4e55ba=!![];else throw _0x100216;}return _0x57f66f&&(_0x4ab225[_0x4eb6d3(0x257)]===![]||_0x4e55ba)&&(_0x4ab225[_0x4eb6d3(0x154)]=_0x57f66f),_0x4ab225;}};},HTTPException=class extends Error{constructor(_0x460e2e=0x1f4,_0x113f40){const _0x47e183=a0_0x4a4b2e;super(_0x113f40?.[_0x47e183(0x1b2)]),this[_0x47e183(0x154)]=_0x113f40?.[_0x47e183(0x154)],this[_0x47e183(0x1cd)]=_0x460e2e;}[a0_0x4a4b2e(0x163)](){const _0x2bc41a=a0_0x4a4b2e;if(this[_0x2bc41a(0x154)])return this[_0x2bc41a(0x154)];return new Response(this['message'],{'status':this[_0x2bc41a(0x1cd)]});}},parseBody=async(_0x41eb01,_0x24d3bb={'all':![]})=>{const _0x186188=a0_0x4a4b2e,_0x21d37e=_0x41eb01[_0x186188(0x23d)]['get'](_0x186188(0x139));if(isFormDataContent(_0x21d37e))return parseFormData(_0x41eb01,_0x24d3bb);return{};};function isFormDataContent(_0x7cd04a){const _0x5d4a32=a0_0x4a4b2e;if(_0x7cd04a===null)return![];return _0x7cd04a[_0x5d4a32(0x279)](_0x5d4a32(0x21a))||_0x7cd04a[_0x5d4a32(0x279)]('application/x-www-form-urlencoded');}async function parseFormData(_0xe6c9f9,_0x6b1e5d){const _0x3d0547=a0_0x4a4b2e,_0x15697c=await _0xe6c9f9[_0x3d0547(0x292)]();if(_0x15697c)return convertFormDataToBodyData(_0x15697c,_0x6b1e5d);return{};}function convertFormDataToBodyData(_0x3d9f45,_0x5dd0c0){const _0x13997b={};return _0x3d9f45['forEach']((_0x2e06fd,_0x33c609)=>{const _0x56d409=a0_0x18d2,_0x39a3b3=_0x5dd0c0[_0x56d409(0x288)]||_0x33c609[_0x56d409(0x17d)]('[]');!_0x39a3b3?_0x13997b[_0x33c609]=_0x2e06fd:handleParsingAllValues(_0x13997b,_0x33c609,_0x2e06fd);}),_0x13997b;}var handleParsingAllValues=(_0x1a20fd,_0x4ec2b7,_0x5d4b4c)=>{if(_0x1a20fd[_0x4ec2b7]&&isArrayField(_0x1a20fd[_0x4ec2b7]))appendToExistingArray(_0x1a20fd[_0x4ec2b7],_0x5d4b4c);else _0x1a20fd[_0x4ec2b7]?convertToNewArray(_0x1a20fd,_0x4ec2b7,_0x5d4b4c):_0x1a20fd[_0x4ec2b7]=_0x5d4b4c;};function isArrayField(_0x2c5837){return Array['isArray'](_0x2c5837);}var appendToExistingArray=(_0x386579,_0x1a07a8)=>{const _0x32b43a=a0_0x4a4b2e;_0x386579[_0x32b43a(0x142)](_0x1a07a8);},convertToNewArray=(_0x26d3c4,_0x339e8e,_0x371afc)=>{_0x26d3c4[_0x339e8e]=[_0x26d3c4[_0x339e8e],_0x371afc];},__accessCheck2=(_0x37c5b7,_0xe17fb8,_0x3ce42e)=>{const _0x45a67a=a0_0x4a4b2e;if(!_0xe17fb8['has'](_0x37c5b7))throw TypeError(_0x45a67a(0x25d)+_0x3ce42e);},__privateGet2=(_0x1a3fa9,_0x255d74,_0x4347c9)=>{const _0x33cec5=a0_0x4a4b2e;return __accessCheck2(_0x1a3fa9,_0x255d74,_0x33cec5(0x25f)),_0x4347c9?_0x4347c9['call'](_0x1a3fa9):_0x255d74[_0x33cec5(0x1cf)](_0x1a3fa9);},__privateAdd2=(_0x441f9d,_0x1c6137,_0x13d4c6)=>{const _0x4b5357=a0_0x4a4b2e;if(_0x1c6137['has'](_0x441f9d))throw TypeError('Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once');_0x1c6137 instanceof WeakSet?_0x1c6137[_0x4b5357(0x204)](_0x441f9d):_0x1c6137['set'](_0x441f9d,_0x13d4c6);},__privateSet2=(_0x5334ad,_0x48a86a,_0x3421cf,_0x5c0a35)=>{const _0x4b43f7=a0_0x4a4b2e;return __accessCheck2(_0x5334ad,_0x48a86a,_0x4b43f7(0x225)),_0x5c0a35?_0x5c0a35['call'](_0x5334ad,_0x3421cf):_0x48a86a['set'](_0x5334ad,_0x3421cf),_0x3421cf;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x2b9bff,_0x247a67='/',_0x2b9b0c=[[]]){const _0x1c5857=a0_0x4a4b2e;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this[_0x1c5857(0x238)]=0x0,this[_0x1c5857(0x1fb)]={},this['cachedBody']=_0x1a974f=>{const _0x2dfaac=_0x1c5857,{bodyCache:_0x3a1f58,raw:_0x1b7817}=this,_0x56836c=_0x3a1f58[_0x1a974f];if(_0x56836c)return _0x56836c;if(_0x3a1f58[_0x2dfaac(0x1fc)])return((async()=>{const _0x314ca4=_0x2dfaac;return await new Response(_0x3a1f58[_0x314ca4(0x1fc)])[_0x1a974f]();})());return _0x3a1f58[_0x1a974f]=_0x1b7817[_0x1a974f]();},this[_0x1c5857(0x246)]=_0x2b9bff,this[_0x1c5857(0x298)]=_0x247a67,__privateSet2(this,_matchResult,_0x2b9b0c),__privateSet2(this,_validatedData,{});}['param'](_0x364e5a){const _0x1b0902=a0_0x4a4b2e;return _0x364e5a?this[_0x1b0902(0x197)](_0x364e5a):this[_0x1b0902(0x1da)]();}[a0_0x4a4b2e(0x197)](_0x574d7a){const _0x32c137=a0_0x4a4b2e,_0x7b58d9=__privateGet2(this,_matchResult)[0x0][this[_0x32c137(0x238)]][0x1][_0x574d7a],_0x481218=this[_0x32c137(0x23a)](_0x7b58d9);return _0x481218?/\%/[_0x32c137(0x155)](_0x481218)?decodeURIComponent_(_0x481218):_0x481218:void 0x0;}['getAllDecodedParams'](){const _0xdeacd7=a0_0x4a4b2e,_0x5cd5db={},_0x4c2323=Object[_0xdeacd7(0x299)](__privateGet2(this,_matchResult)[0x0][this[_0xdeacd7(0x238)]][0x1]);for(const _0x58a2cf of _0x4c2323){const _0x18d2cf=this[_0xdeacd7(0x23a)](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1][_0x58a2cf]);_0x18d2cf&&typeof _0x18d2cf===_0xdeacd7(0x200)&&(_0x5cd5db[_0x58a2cf]=/\%/[_0xdeacd7(0x155)](_0x18d2cf)?decodeURIComponent_(_0x18d2cf):_0x18d2cf);}return _0x5cd5db;}[a0_0x4a4b2e(0x23a)](_0x34384c){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x34384c]:_0x34384c;}[a0_0x4a4b2e(0x19b)](_0xc5ac22){const _0x2d1be8=a0_0x4a4b2e;return getQueryParam(this[_0x2d1be8(0x20e)],_0xc5ac22);}['queries'](_0x2502fb){return getQueryParams(this['url'],_0x2502fb);}[a0_0x4a4b2e(0x17a)](_0x10c430){const _0xf6ea0e=a0_0x4a4b2e;if(_0x10c430)return this[_0xf6ea0e(0x246)][_0xf6ea0e(0x23d)]['get'](_0x10c430[_0xf6ea0e(0x1c3)]())??void 0x0;const _0x10cea2={};return this[_0xf6ea0e(0x246)]['headers']['forEach']((_0x3d4d02,_0x292fc6)=>{_0x10cea2[_0x292fc6]=_0x3d4d02;}),_0x10cea2;}['cookie'](_0x131bd4){const _0x13eff8=a0_0x4a4b2e,_0x1465b5=this[_0x13eff8(0x246)][_0x13eff8(0x23d)]['get'](_0x13eff8(0x205));if(!_0x1465b5)return;const _0x55f830=parse(_0x1465b5);if(_0x131bd4){const _0x1469b3=_0x55f830[_0x131bd4];return _0x1469b3;}else return _0x55f830;}async[a0_0x4a4b2e(0x1c5)](_0x58e695){const _0x556de0=a0_0x4a4b2e;if(this[_0x556de0(0x1fb)]['parsedBody'])return this[_0x556de0(0x1fb)]['parsedBody'];const _0x28c8fe=await parseBody(this,_0x58e695);return this[_0x556de0(0x1fb)][_0x556de0(0x208)]=_0x28c8fe,_0x28c8fe;}[a0_0x4a4b2e(0x29e)](){const _0x3661bd=a0_0x4a4b2e;return this[_0x3661bd(0x1c2)](_0x3661bd(0x29e));}['text'](){const _0x52c5f7=a0_0x4a4b2e;return this[_0x52c5f7(0x1c2)](_0x52c5f7(0x267));}['arrayBuffer'](){const _0xf2f92d=a0_0x4a4b2e;return this[_0xf2f92d(0x1c2)](_0xf2f92d(0x1fc));}[a0_0x4a4b2e(0x1a9)](){const _0x1255e6=a0_0x4a4b2e;return this[_0x1255e6(0x1c2)](_0x1255e6(0x1a9));}['formData'](){const _0x5d9e1e=a0_0x4a4b2e;return this['cachedBody'](_0x5d9e1e(0x292));}[a0_0x4a4b2e(0x13c)](_0xfe612c,_0x3e95da){__privateGet2(this,_validatedData)[_0xfe612c]=_0x3e95da;}['valid'](_0x36d8ad){return __privateGet2(this,_validatedData)[_0x36d8ad];}get[a0_0x4a4b2e(0x20e)](){const _0x4e9649=a0_0x4a4b2e;return this['raw'][_0x4e9649(0x20e)];}get[a0_0x4a4b2e(0x26f)](){const _0x30f3df=a0_0x4a4b2e;return this[_0x30f3df(0x246)][_0x30f3df(0x26f)];}get['matchedRoutes'](){const _0x175781=a0_0x4a4b2e;return __privateGet2(this,_matchResult)[0x0][_0x175781(0x29f)](([[,_0x2045c2]])=>_0x2045c2);}get[a0_0x4a4b2e(0x16e)](){const _0x1db735=a0_0x4a4b2e;return __privateGet2(this,_matchResult)[0x0]['map'](([[,_0x5d6e44]])=>_0x5d6e44)[this[_0x1db735(0x238)]][_0x1db735(0x298)];}get[a0_0x4a4b2e(0x23d)](){const _0x5983ed=a0_0x4a4b2e;return this['raw'][_0x5983ed(0x23d)];}get[a0_0x4a4b2e(0x28c)](){const _0x25e8bf=a0_0x4a4b2e;return this[_0x25e8bf(0x246)][_0x25e8bf(0x28c)];}get[a0_0x4a4b2e(0x14e)](){const _0x255654=a0_0x4a4b2e;return this[_0x255654(0x246)][_0x255654(0x14e)];}get[a0_0x4a4b2e(0x25b)](){return this['raw']['integrity'];}get['keepalive'](){const _0x6ce1b8=a0_0x4a4b2e;return this[_0x6ce1b8(0x246)][_0x6ce1b8(0x259)];}get[a0_0x4a4b2e(0x1b6)](){const _0x420b41=a0_0x4a4b2e;return this[_0x420b41(0x246)]['referrer'];}get[a0_0x4a4b2e(0x141)](){const _0x47e40e=a0_0x4a4b2e;return this['raw'][_0x47e40e(0x141)];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0x4a4b2e(0x20b),METHOD_NAME_ALL_LOWERCASE=a0_0x4a4b2e(0x288),METHODS=[a0_0x4a4b2e(0x1cf),a0_0x4a4b2e(0x1c1),a0_0x4a4b2e(0x285),a0_0x4a4b2e(0x24e),a0_0x4a4b2e(0x1fe),'patch'],MESSAGE_MATCHER_IS_ALREADY_BUILT=a0_0x4a4b2e(0x1e6),UnsupportedPathError=class extends Error{},__accessCheck3=(_0x94fa0f,_0x55f29b,_0x2ed052)=>{const _0x2536f9=a0_0x4a4b2e;if(!_0x55f29b[_0x2536f9(0x169)](_0x94fa0f))throw TypeError('Cannot\x20'+_0x2ed052);},__privateGet3=(_0x1ce2d7,_0x2f93ed,_0x667f10)=>{const _0x3ec695=a0_0x4a4b2e;return __accessCheck3(_0x1ce2d7,_0x2f93ed,_0x3ec695(0x25f)),_0x667f10?_0x667f10['call'](_0x1ce2d7):_0x2f93ed[_0x3ec695(0x1cf)](_0x1ce2d7);},__privateAdd3=(_0x37ce3a,_0x205be4,_0xc5355c)=>{const _0x3255f2=a0_0x4a4b2e;if(_0x205be4[_0x3255f2(0x169)](_0x37ce3a))throw TypeError(_0x3255f2(0x1df));_0x205be4 instanceof WeakSet?_0x205be4[_0x3255f2(0x204)](_0x37ce3a):_0x205be4['set'](_0x37ce3a,_0xc5355c);},__privateSet3=(_0x372d33,_0x2f891c,_0x360043,_0x10d5e5)=>{return __accessCheck3(_0x372d33,_0x2f891c,'write\x20to\x20private\x20field'),_0x10d5e5?_0x10d5e5['call'](_0x372d33,_0x360043):_0x2f891c['set'](_0x372d33,_0x360043),_0x360043;},COMPOSED_HANDLER=Symbol(a0_0x4a4b2e(0x282));function defineDynamicClass(){return class{};}var notFoundHandler=_0x1f54e8=>{const _0x3678dd=a0_0x4a4b2e;return _0x1f54e8[_0x3678dd(0x267)](_0x3678dd(0x175),0x194);},errorHandler=(_0x22316a,_0x466929)=>{const _0x253be6=a0_0x4a4b2e;if(_0x22316a instanceof HTTPException)return _0x22316a[_0x253be6(0x163)]();console[_0x253be6(0x1c8)](_0x22316a);const _0x150570=_0x253be6(0x297);return _0x466929[_0x253be6(0x267)](_0x150570,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x1136ce={}){const _0x318db6=a0_0x4a4b2e;super(),this[_0x318db6(0x231)]='/',__privateAdd3(this,_path,'/'),this[_0x318db6(0x24a)]=[],this[_0x318db6(0x261)]=notFoundHandler,this[_0x318db6(0x1a5)]=errorHandler,this[_0x318db6(0x1eb)]=_0x279ec2=>{const _0x4320f0=_0x318db6;return this[_0x4320f0(0x1a5)]=_0x279ec2,this;},this[_0x318db6(0x1c6)]=_0x441820=>{const _0x4f3ddd=_0x318db6;return this[_0x4f3ddd(0x261)]=_0x441820,this;},this['head']=()=>{const _0x103bf0=_0x318db6;return console['warn'](_0x103bf0(0x1dd)),this;},this['handleEvent']=_0x50bd3a=>{const _0x54b177=_0x318db6;return this[_0x54b177(0x273)](_0x50bd3a[_0x54b177(0x187)],_0x50bd3a,void 0x0,_0x50bd3a['request'][_0x54b177(0x26f)]);},this[_0x318db6(0x161)]=(_0x37b536,_0x4ad207,_0x22577d)=>{return this['dispatch'](_0x37b536,_0x22577d,_0x4ad207,_0x37b536['method']);},this['request']=(_0x964893,_0x1816f4,_0x328ac6,_0x1af606)=>{const _0x1ac4d8=_0x318db6;if(_0x964893 instanceof Request)return _0x1816f4!==void 0x0&&(_0x964893=new Request(_0x964893,_0x1816f4)),this['fetch'](_0x964893,_0x328ac6,_0x1af606);_0x964893=_0x964893['toString']();const _0x26a36e=/^https?:\/\//['test'](_0x964893)?_0x964893:_0x1ac4d8(0x239)+mergePath('/',_0x964893),_0x10167e=new Request(_0x26a36e,_0x1816f4);return this[_0x1ac4d8(0x161)](_0x10167e,_0x328ac6,_0x1af606);},this[_0x318db6(0x147)]=()=>{const _0x190003=_0x318db6;addEventListener(_0x190003(0x161),_0x305bcd=>{const _0x1ecdc7=_0x190003;_0x305bcd[_0x1ecdc7(0x13f)](this[_0x1ecdc7(0x273)](_0x305bcd['request'],_0x305bcd,void 0x0,_0x305bcd[_0x1ecdc7(0x187)]['method']));});};const _0x129d80=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x129d80[_0x318db6(0x29f)](_0x485469=>{this[_0x485469]=(_0x280672,..._0xa84923)=>{const _0x4a7baa=a0_0x18d2;return typeof _0x280672===_0x4a7baa(0x200)?__privateSet3(this,_path,_0x280672):this['addRoute'](_0x485469,__privateGet3(this,_path),_0x280672),_0xa84923[_0x4a7baa(0x29f)](_0x3fa5b2=>{const _0x540558=_0x4a7baa;typeof _0x3fa5b2!==_0x540558(0x200)&&this[_0x540558(0x15b)](_0x485469,__privateGet3(this,_path),_0x3fa5b2);}),this;};}),this['on']=(_0x4f4a17,_0x4cb546,..._0x4ccd48)=>{const _0x1e8cf1=_0x318db6;if(!_0x4f4a17)return this;__privateSet3(this,_path,_0x4cb546);for(const _0x71ef23 of[_0x4f4a17]['flat']()){_0x4ccd48[_0x1e8cf1(0x29f)](_0x1d3a2f=>{const _0x22c2e2=_0x1e8cf1;this[_0x22c2e2(0x15b)](_0x71ef23[_0x22c2e2(0x14f)](),__privateGet3(this,_path),_0x1d3a2f);});}return this;},this[_0x318db6(0x174)]=(_0x4e6605,..._0x280ba0)=>{const _0x37256e=_0x318db6;return typeof _0x4e6605===_0x37256e(0x200)?__privateSet3(this,_path,_0x4e6605):_0x280ba0[_0x37256e(0x186)](_0x4e6605),_0x280ba0[_0x37256e(0x29f)](_0x80fbd0=>{this['addRoute'](METHOD_NAME_ALL,__privateGet3(this,_path),_0x80fbd0);}),this;};const _0x2f1a14=_0x1136ce[_0x318db6(0x28b)]??!![];delete _0x1136ce[_0x318db6(0x28b)],Object[_0x318db6(0x16b)](this,_0x1136ce),this['getPath']=_0x2f1a14?_0x1136ce[_0x318db6(0x27f)]??getPath:getPathNoStrict;}[a0_0x4a4b2e(0x1e8)](){const _0x254b93=a0_0x4a4b2e,_0x24208f=new _Hono({'router':this[_0x254b93(0x25e)],'getPath':this[_0x254b93(0x27f)]});return _0x24208f[_0x254b93(0x24a)]=this[_0x254b93(0x24a)],_0x24208f;}[a0_0x4a4b2e(0x24f)](_0x1df06b,_0x37e6bf){const _0x2ee2ce=a0_0x4a4b2e,_0x4dafd3=this['basePath'](_0x1df06b);if(!_0x37e6bf)return _0x4dafd3;return _0x37e6bf[_0x2ee2ce(0x24a)][_0x2ee2ce(0x29f)](_0x56fa68=>{const _0xe92ebd=_0x2ee2ce;let _0x447d4f;_0x37e6bf['errorHandler']===errorHandler?_0x447d4f=_0x56fa68[_0xe92ebd(0x274)]:(_0x447d4f=async(_0x36b070,_0x55324c)=>(await compose([],_0x37e6bf[_0xe92ebd(0x1a5)])(_0x36b070,()=>_0x56fa68[_0xe92ebd(0x274)](_0x36b070,_0x55324c)))[_0xe92ebd(0x154)],_0x447d4f[COMPOSED_HANDLER]=_0x56fa68[_0xe92ebd(0x274)]),_0x4dafd3[_0xe92ebd(0x15b)](_0x56fa68[_0xe92ebd(0x26f)],_0x56fa68[_0xe92ebd(0x298)],_0x447d4f);}),this;}[a0_0x4a4b2e(0x266)](_0x300d61){const _0x47fb97=a0_0x4a4b2e,_0x32b232=this[_0x47fb97(0x1e8)]();return _0x32b232[_0x47fb97(0x231)]=mergePath(this[_0x47fb97(0x231)],_0x300d61),_0x32b232;}['showRoutes'](){const _0x3624e4=a0_0x4a4b2e,_0x9189e9=0x8;this[_0x3624e4(0x24a)]['map'](_0x2e9ab6=>{const _0x163e55=_0x3624e4;console[_0x163e55(0x221)]('\x1b[32m'+_0x2e9ab6['method']+_0x163e55(0x1cc)+'\x20'['repeat'](_0x9189e9-_0x2e9ab6['method'][_0x163e55(0x25a)])+'\x20'+_0x2e9ab6['path']);});}['mount'](_0x242fa4,_0xd05ca9,_0xf5659f){const _0x377856=a0_0x4a4b2e,_0x281d3a=mergePath(this[_0x377856(0x231)],_0x242fa4),_0x417160=_0x281d3a==='/'?0x0:_0x281d3a[_0x377856(0x25a)],_0x49bbc4=async(_0x833bb0,_0x312e94)=>{const _0x17108a=_0x377856;let _0x116a43=void 0x0;try{_0x116a43=_0x833bb0[_0x17108a(0x1c4)];}catch{}const _0x3612f9=_0xf5659f?_0xf5659f(_0x833bb0):[_0x833bb0[_0x17108a(0x1d5)],_0x116a43],_0x4c616c=Array['isArray'](_0x3612f9)?_0x3612f9:[_0x3612f9],_0x4cf29f=getQueryStrings(_0x833bb0[_0x17108a(0x21f)][_0x17108a(0x20e)]),_0x53f4a7=await _0xd05ca9(new Request(new URL((_0x833bb0[_0x17108a(0x21f)]['path'][_0x17108a(0x209)](_0x417160)||'/')+_0x4cf29f,_0x833bb0['req'][_0x17108a(0x20e)]),_0x833bb0[_0x17108a(0x21f)][_0x17108a(0x246)]),..._0x4c616c);if(_0x53f4a7)return _0x53f4a7;await _0x312e94();};return this[_0x377856(0x15b)](METHOD_NAME_ALL,mergePath(_0x242fa4,'*'),_0x49bbc4),this;}get[a0_0x4a4b2e(0x188)](){const _0x53d111=a0_0x4a4b2e;return this[_0x53d111(0x289)](_0x53d111(0x24b),'/'),this[_0x53d111(0x25e)][_0x53d111(0x198)];}[a0_0x4a4b2e(0x15b)](_0x5a435c,_0x10954a,_0xeea8a){const _0x422f1b=a0_0x4a4b2e;_0x5a435c=_0x5a435c['toUpperCase'](),_0x10954a=mergePath(this[_0x422f1b(0x231)],_0x10954a);const _0x16e4eb={'path':_0x10954a,'method':_0x5a435c,'handler':_0xeea8a};this[_0x422f1b(0x25e)][_0x422f1b(0x204)](_0x5a435c,_0x10954a,[_0xeea8a,_0x16e4eb]),this[_0x422f1b(0x24a)][_0x422f1b(0x142)](_0x16e4eb);}['matchRoute'](_0x274baf,_0x1f68d1){const _0x2f1e55=a0_0x4a4b2e;return this['router'][_0x2f1e55(0x15d)](_0x274baf,_0x1f68d1);}['handleError'](_0xb31c81,_0x3a3247){const _0x31d9a0=a0_0x4a4b2e;if(_0xb31c81 instanceof Error)return this[_0x31d9a0(0x1a5)](_0xb31c81,_0x3a3247);throw _0xb31c81;}[a0_0x4a4b2e(0x273)](_0x40dbb8,_0x382fd9,_0xea49a0,_0x508f49){const _0x16ad81=a0_0x4a4b2e;if(_0x508f49==='HEAD')return((async()=>new Response(null,await this['dispatch'](_0x40dbb8,_0x382fd9,_0xea49a0,_0x16ad81(0x24b))))());const _0x44fbe0=this[_0x16ad81(0x27f)](_0x40dbb8,{'env':_0xea49a0}),_0x5bea19=this[_0x16ad81(0x289)](_0x508f49,_0x44fbe0),_0x3e5d76=new Context(new HonoRequest(_0x40dbb8,_0x44fbe0,_0x5bea19),{'env':_0xea49a0,'executionCtx':_0x382fd9,'notFoundHandler':this[_0x16ad81(0x261)]});if(_0x5bea19[0x0]['length']===0x1){let _0x206870;try{_0x206870=_0x5bea19[0x0][0x0][0x0][0x0](_0x3e5d76,async()=>{const _0x3c5841=_0x16ad81;_0x3e5d76['res']=await this[_0x3c5841(0x261)](_0x3e5d76);});}catch(_0x4e1161){return this[_0x16ad81(0x1a7)](_0x4e1161,_0x3e5d76);}return _0x206870 instanceof Promise?_0x206870[_0x16ad81(0x1f8)](_0xf9fd5e=>_0xf9fd5e||(_0x3e5d76['finalized']?_0x3e5d76['res']:this[_0x16ad81(0x261)](_0x3e5d76)))[_0x16ad81(0x212)](_0x49392d=>this[_0x16ad81(0x1a7)](_0x49392d,_0x3e5d76)):_0x206870;}const _0x1e2979=compose(_0x5bea19[0x0],this[_0x16ad81(0x1a5)],this['notFoundHandler']);return((async()=>{const _0x4bbcc0=_0x16ad81;try{const _0x2825fe=await _0x1e2979(_0x3e5d76);if(!_0x2825fe[_0x4bbcc0(0x257)])throw new Error(_0x4bbcc0(0x19c));return _0x2825fe[_0x4bbcc0(0x154)];}catch(_0x1f7559){return this[_0x4bbcc0(0x1a7)](_0x1f7559,_0x3e5d76);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR=a0_0x4a4b2e(0x26e),ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR='(?:|/.*)',PATH_ERROR=Symbol();function compareKey(_0x12c519,_0xb5d1b1){const _0x3d2424=a0_0x4a4b2e;if(_0x12c519[_0x3d2424(0x25a)]===0x1)return _0xb5d1b1['length']===0x1?_0x12c519<_0xb5d1b1?-0x1:0x1:-0x1;if(_0xb5d1b1[_0x3d2424(0x25a)]===0x1)return 0x1;if(_0x12c519===ONLY_WILDCARD_REG_EXP_STR||_0x12c519===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0xb5d1b1===ONLY_WILDCARD_REG_EXP_STR||_0xb5d1b1===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x12c519===LABEL_REG_EXP_STR)return 0x1;else{if(_0xb5d1b1===LABEL_REG_EXP_STR)return-0x1;}return _0x12c519[_0x3d2424(0x25a)]===_0xb5d1b1[_0x3d2424(0x25a)]?_0x12c519<_0xb5d1b1?-0x1:0x1:_0xb5d1b1[_0x3d2424(0x25a)]-_0x12c519[_0x3d2424(0x25a)];}var Node=class{constructor(){const _0x7b6a87=a0_0x4a4b2e;this[_0x7b6a87(0x24d)]={};}['insert'](_0x1e2591,_0x42d165,_0x175ed8,_0x56d242,_0x5d649d){const _0x34957c=a0_0x4a4b2e;if(_0x1e2591[_0x34957c(0x25a)]===0x0){if(this[_0x34957c(0x21c)]!==void 0x0)throw PATH_ERROR;if(_0x5d649d)return;this[_0x34957c(0x21c)]=_0x42d165;return;}const [_0x597e10,..._0xab2acc]=_0x1e2591,_0x2091aa=_0x597e10==='*'?_0xab2acc[_0x34957c(0x25a)]===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x597e10==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x597e10[_0x34957c(0x15d)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x22f190;if(_0x2091aa){const _0x4a6519=_0x2091aa[0x1];let _0x2e332e=_0x2091aa[0x2]||LABEL_REG_EXP_STR;if(_0x4a6519&&_0x2091aa[0x2]){_0x2e332e=_0x2e332e[_0x34957c(0x13b)](/^\((?!\?:)(?=[^)]+\)$)/,'(?:');if(/\((?!\?:)/[_0x34957c(0x155)](_0x2e332e))throw PATH_ERROR;}_0x22f190=this['children'][_0x2e332e];if(!_0x22f190){if(Object[_0x34957c(0x299)](this['children'])[_0x34957c(0x17f)](_0x2c9e5d=>_0x2c9e5d!==ONLY_WILDCARD_REG_EXP_STR&&_0x2c9e5d!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x5d649d)return;_0x22f190=this[_0x34957c(0x24d)][_0x2e332e]=new Node(),_0x4a6519!==''&&(_0x22f190['varIndex']=_0x56d242[_0x34957c(0x29d)]++);}!_0x5d649d&&_0x4a6519!==''&&_0x175ed8[_0x34957c(0x142)]([_0x4a6519,_0x22f190['varIndex']]);}else{_0x22f190=this[_0x34957c(0x24d)][_0x597e10];if(!_0x22f190){if(Object['keys'](this[_0x34957c(0x24d)])[_0x34957c(0x17f)](_0x26a0b7=>_0x26a0b7[_0x34957c(0x25a)]>0x1&&_0x26a0b7!==ONLY_WILDCARD_REG_EXP_STR&&_0x26a0b7!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x5d649d)return;_0x22f190=this[_0x34957c(0x24d)][_0x597e10]=new Node();}}_0x22f190[_0x34957c(0x252)](_0xab2acc,_0x42d165,_0x175ed8,_0x56d242,_0x5d649d);}[a0_0x4a4b2e(0x1f4)](){const _0x535bf5=a0_0x4a4b2e,_0x67885=Object[_0x535bf5(0x299)](this['children'])[_0x535bf5(0x18d)](compareKey),_0x10ccdf=_0x67885[_0x535bf5(0x29f)](_0x8ab998=>{const _0x5ea330=_0x535bf5,_0x19dfac=this[_0x5ea330(0x24d)][_0x8ab998];return(typeof _0x19dfac['varIndex']===_0x5ea330(0x1d8)?'('+_0x8ab998+')@'+_0x19dfac[_0x5ea330(0x29d)]:_0x8ab998)+_0x19dfac[_0x5ea330(0x1f4)]();});typeof this[_0x535bf5(0x21c)]==='number'&&_0x10ccdf[_0x535bf5(0x186)]('#'+this['index']);if(_0x10ccdf['length']===0x0)return'';if(_0x10ccdf[_0x535bf5(0x25a)]===0x1)return _0x10ccdf[0x0];return _0x535bf5(0x21b)+_0x10ccdf[_0x535bf5(0x22f)]('|')+')';}},Trie=class{constructor(){const _0xcadc8e=a0_0x4a4b2e;this[_0xcadc8e(0x196)]={'varIndex':0x0},this[_0xcadc8e(0x192)]=new Node();}[a0_0x4a4b2e(0x252)](_0x34e251,_0x59fa03,_0x159e21){const _0x49ccf4=a0_0x4a4b2e,_0x59b25d=[],_0x9de2f4=[];for(let _0x524f4a=0x0;;){let _0x10fc30=![];_0x34e251=_0x34e251[_0x49ccf4(0x13b)](/\{[^}]+\}/g,_0x255c24=>{const _0xc5d367='@\x5c'+_0x524f4a;return _0x9de2f4[_0x524f4a]=[_0xc5d367,_0x255c24],_0x524f4a++,_0x10fc30=!![],_0xc5d367;});if(!_0x10fc30)break;}const _0x1e7a1a=_0x34e251[_0x49ccf4(0x15d)](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x454010=_0x9de2f4[_0x49ccf4(0x25a)]-0x1;_0x454010>=0x0;_0x454010--){const [_0x2a61fd]=_0x9de2f4[_0x454010];for(let _0x2e7830=_0x1e7a1a[_0x49ccf4(0x25a)]-0x1;_0x2e7830>=0x0;_0x2e7830--){if(_0x1e7a1a[_0x2e7830][_0x49ccf4(0x27d)](_0x2a61fd)!==-0x1){_0x1e7a1a[_0x2e7830]=_0x1e7a1a[_0x2e7830]['replace'](_0x2a61fd,_0x9de2f4[_0x454010][0x1]);break;}}}return this[_0x49ccf4(0x192)]['insert'](_0x1e7a1a,_0x59fa03,_0x59b25d,this[_0x49ccf4(0x196)],_0x159e21),_0x59b25d;}[a0_0x4a4b2e(0x235)](){const _0xb1fec6=a0_0x4a4b2e;let _0x2b29e9=this[_0xb1fec6(0x192)]['buildRegExpStr']();if(_0x2b29e9==='')return[/^$/,[],[]];let _0x3c973a=0x0;const _0x1856fd=[],_0x3e9e9a=[];return _0x2b29e9=_0x2b29e9['replace'](/#(\d+)|@(\d+)|\.\*\$/g,(_0x28323e,_0x3ca992,_0x36d4f1)=>{const _0x3f0329=_0xb1fec6;if(typeof _0x3ca992!==_0x3f0329(0x1fa))return _0x1856fd[++_0x3c973a]=Number(_0x3ca992),_0x3f0329(0x1f0);if(typeof _0x36d4f1!=='undefined')return _0x3e9e9a[Number(_0x36d4f1)]=++_0x3c973a,'';return'';}),[new RegExp('^'+_0x2b29e9),_0x1856fd,_0x3e9e9a];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x4a4b2e(0x29f)](_0x34cc6c=>_0x34cc6c[a0_0x4a4b2e(0x14f)]()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0x7ac3cd){const _0x298c40=a0_0x4a4b2e;return wildcardRegExpCache[_0x7ac3cd]??(wildcardRegExpCache[_0x7ac3cd]=new RegExp(_0x7ac3cd==='*'?'':'^'+_0x7ac3cd[_0x298c40(0x13b)](/\/\*/,_0x298c40(0x234))+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x4e1875){const _0x966f3e=a0_0x4a4b2e,_0x178835=new Trie(),_0x46c905=[];if(_0x4e1875[_0x966f3e(0x25a)]===0x0)return nullMatcher;const _0x12b4d9=_0x4e1875[_0x966f3e(0x29f)](_0x50c6a0=>[!/\*|\/:/[_0x966f3e(0x155)](_0x50c6a0[0x0]),..._0x50c6a0])[_0x966f3e(0x18d)](([_0x1e3673,_0x311e43],[_0x305386,_0x5caee4])=>_0x1e3673?0x1:_0x305386?-0x1:_0x311e43[_0x966f3e(0x25a)]-_0x5caee4['length']),_0x5e4a1b={};for(let _0x4b7921=0x0,_0x396dd8=-0x1,_0x10ca9f=_0x12b4d9[_0x966f3e(0x25a)];_0x4b7921<_0x10ca9f;_0x4b7921++){const [_0x273b38,_0x531ea0,_0x46e37d]=_0x12b4d9[_0x4b7921];_0x273b38?_0x5e4a1b[_0x531ea0]=[_0x46e37d[_0x966f3e(0x29f)](([_0x3cc362])=>[_0x3cc362,{}]),emptyParam]:_0x396dd8++;let _0x16d65d;try{_0x16d65d=_0x178835[_0x966f3e(0x252)](_0x531ea0,_0x396dd8,_0x273b38);}catch(_0x4a8c7c){throw _0x4a8c7c===PATH_ERROR?new UnsupportedPathError(_0x531ea0):_0x4a8c7c;}if(_0x273b38)continue;_0x46c905[_0x396dd8]=_0x46e37d['map'](([_0x46430c,_0x29bac5])=>{const _0x552b5b={};_0x29bac5-=0x1;for(;_0x29bac5>=0x0;_0x29bac5--){const [_0xf8e39a,_0x2cad79]=_0x16d65d[_0x29bac5];_0x552b5b[_0xf8e39a]=_0x2cad79;}return[_0x46430c,_0x552b5b];});}const [_0x55972b,_0x1da00b,_0x3e700b]=_0x178835['buildRegExp']();for(let _0x380b40=0x0,_0x25fed3=_0x46c905['length'];_0x380b40<_0x25fed3;_0x380b40++){for(let _0x436abc=0x0,_0x427e02=_0x46c905[_0x380b40][_0x966f3e(0x25a)];_0x436abc<_0x427e02;_0x436abc++){const _0x4a1259=_0x46c905[_0x380b40][_0x436abc]?.[0x1];if(!_0x4a1259)continue;const _0x2c87ef=Object[_0x966f3e(0x299)](_0x4a1259);for(let _0x37e542=0x0,_0x598f6b=_0x2c87ef['length'];_0x37e542<_0x598f6b;_0x37e542++){_0x4a1259[_0x2c87ef[_0x37e542]]=_0x3e700b[_0x4a1259[_0x2c87ef[_0x37e542]]];}}}const _0x57852b=[];for(const _0x4b57ae in _0x1da00b){_0x57852b[_0x4b57ae]=_0x46c905[_0x1da00b[_0x4b57ae]];}return[_0x55972b,_0x57852b,_0x5e4a1b];}function findMiddleware(_0x50acb0,_0x2d1afb){const _0x291430=a0_0x4a4b2e;if(!_0x50acb0)return void 0x0;for(const _0x35448b of Object[_0x291430(0x299)](_0x50acb0)[_0x291430(0x18d)]((_0x78a1c7,_0x6e5355)=>_0x6e5355['length']-_0x78a1c7[_0x291430(0x25a)])){if(buildWildcardRegExp(_0x35448b)[_0x291430(0x155)](_0x2d1afb))return[..._0x50acb0[_0x35448b]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x1df2c2=a0_0x4a4b2e;this['name']=_0x1df2c2(0x199),this['middleware']={[METHOD_NAME_ALL]:{}},this[_0x1df2c2(0x24a)]={[METHOD_NAME_ALL]:{}};}[a0_0x4a4b2e(0x204)](_0x46d1b2,_0xf82c43,_0x5282ab){const _0x34bc28=a0_0x4a4b2e;var _0x45dc19;const {middleware:_0x182fad,routes:_0x8ff89}=this;if(!_0x182fad||!_0x8ff89)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0x34bc28(0x27d)](_0x46d1b2)===-0x1&&methodNames[_0x34bc28(0x142)](_0x46d1b2);if(!_0x182fad[_0x46d1b2]){;[_0x182fad,_0x8ff89][_0x34bc28(0x28e)](_0x49fcbe=>{const _0x269834=_0x34bc28;_0x49fcbe[_0x46d1b2]={},Object[_0x269834(0x299)](_0x49fcbe[METHOD_NAME_ALL])[_0x269834(0x28e)](_0x410f77=>{_0x49fcbe[_0x46d1b2][_0x410f77]=[..._0x49fcbe[METHOD_NAME_ALL][_0x410f77]];});});}_0xf82c43==='/*'&&(_0xf82c43='*');const _0x4b9183=(_0xf82c43[_0x34bc28(0x15d)](/\/:/g)||[])[_0x34bc28(0x25a)];if(/\*$/['test'](_0xf82c43)){const _0x1ebc84=buildWildcardRegExp(_0xf82c43);_0x46d1b2===METHOD_NAME_ALL?Object[_0x34bc28(0x299)](_0x182fad)[_0x34bc28(0x28e)](_0x5179c0=>{var _0x410be0;(_0x410be0=_0x182fad[_0x5179c0])[_0xf82c43]||(_0x410be0[_0xf82c43]=findMiddleware(_0x182fad[_0x5179c0],_0xf82c43)||findMiddleware(_0x182fad[METHOD_NAME_ALL],_0xf82c43)||[]);}):(_0x45dc19=_0x182fad[_0x46d1b2])[_0xf82c43]||(_0x45dc19[_0xf82c43]=findMiddleware(_0x182fad[_0x46d1b2],_0xf82c43)||findMiddleware(_0x182fad[METHOD_NAME_ALL],_0xf82c43)||[]);Object[_0x34bc28(0x299)](_0x182fad)[_0x34bc28(0x28e)](_0x191a40=>{const _0x79ffb6=_0x34bc28;(_0x46d1b2===METHOD_NAME_ALL||_0x46d1b2===_0x191a40)&&Object[_0x79ffb6(0x299)](_0x182fad[_0x191a40])[_0x79ffb6(0x28e)](_0x1a1005=>{const _0x1f856c=_0x79ffb6;_0x1ebc84[_0x1f856c(0x155)](_0x1a1005)&&_0x182fad[_0x191a40][_0x1a1005][_0x1f856c(0x142)]([_0x5282ab,_0x4b9183]);});}),Object['keys'](_0x8ff89)[_0x34bc28(0x28e)](_0x1191e3=>{const _0x34b753=_0x34bc28;(_0x46d1b2===METHOD_NAME_ALL||_0x46d1b2===_0x1191e3)&&Object[_0x34b753(0x299)](_0x8ff89[_0x1191e3])[_0x34b753(0x28e)](_0x149ee5=>_0x1ebc84['test'](_0x149ee5)&&_0x8ff89[_0x1191e3][_0x149ee5][_0x34b753(0x142)]([_0x5282ab,_0x4b9183]));});return;}const _0x3fced6=checkOptionalParameter(_0xf82c43)||[_0xf82c43];for(let _0x1c67cb=0x0,_0x4c3746=_0x3fced6['length'];_0x1c67cb<_0x4c3746;_0x1c67cb++){const _0x23af2a=_0x3fced6[_0x1c67cb];Object[_0x34bc28(0x299)](_0x8ff89)[_0x34bc28(0x28e)](_0x3cbc2b=>{const _0x5544db=_0x34bc28;var _0x20d31e;(_0x46d1b2===METHOD_NAME_ALL||_0x46d1b2===_0x3cbc2b)&&((_0x20d31e=_0x8ff89[_0x3cbc2b])[_0x23af2a]||(_0x20d31e[_0x23af2a]=[...findMiddleware(_0x182fad[_0x3cbc2b],_0x23af2a)||findMiddleware(_0x182fad[METHOD_NAME_ALL],_0x23af2a)||[]]),_0x8ff89[_0x3cbc2b][_0x23af2a][_0x5544db(0x142)]([_0x5282ab,_0x4b9183-_0x4c3746+_0x1c67cb+0x1]));});}}[a0_0x4a4b2e(0x15d)](_0x15e82b,_0x43fd2d){const _0x196dd2=a0_0x4a4b2e;clearWildcardRegExpCache();const _0xb516de=this[_0x196dd2(0x1d9)]();return this[_0x196dd2(0x15d)]=(_0x3ddae2,_0x2871e9)=>{const _0x127f0=_0x196dd2,_0x2972aa=_0xb516de[_0x3ddae2],_0xd5b5b1=_0x2972aa[0x2][_0x2871e9];if(_0xd5b5b1)return _0xd5b5b1;const _0x380b9b=_0x2871e9[_0x127f0(0x15d)](_0x2972aa[0x0]);if(!_0x380b9b)return[[],emptyParam];const _0x5e58b7=_0x380b9b[_0x127f0(0x27d)]('',0x1);return[_0x2972aa[0x1][_0x5e58b7],_0x380b9b];},this[_0x196dd2(0x15d)](_0x15e82b,_0x43fd2d);}[a0_0x4a4b2e(0x1d9)](){const _0x97daf4=a0_0x4a4b2e,_0x1969b4={};return methodNames[_0x97daf4(0x28e)](_0x3c9837=>{const _0x4b8e03=_0x97daf4;_0x1969b4[_0x3c9837]=this[_0x4b8e03(0x296)](_0x3c9837)||_0x1969b4[METHOD_NAME_ALL];}),this[_0x97daf4(0x14c)]=this[_0x97daf4(0x24a)]=void 0x0,_0x1969b4;}['buildMatcher'](_0x2f31ff){const _0x4519c3=a0_0x4a4b2e,_0x467825=[];let _0x3eea7a=_0x2f31ff===METHOD_NAME_ALL;return[this[_0x4519c3(0x14c)],this[_0x4519c3(0x24a)]][_0x4519c3(0x28e)](_0x47f0dc=>{const _0x1b4c81=_0x4519c3,_0x23daa9=_0x47f0dc[_0x2f31ff]?Object[_0x1b4c81(0x299)](_0x47f0dc[_0x2f31ff])[_0x1b4c81(0x29f)](_0x16b345=>[_0x16b345,_0x47f0dc[_0x2f31ff][_0x16b345]]):[];if(_0x23daa9['length']!==0x0)_0x3eea7a||(_0x3eea7a=!![]),_0x467825[_0x1b4c81(0x142)](..._0x23daa9);else _0x2f31ff!==METHOD_NAME_ALL&&_0x467825[_0x1b4c81(0x142)](...Object[_0x1b4c81(0x299)](_0x47f0dc[METHOD_NAME_ALL])['map'](_0x3e7955=>[_0x3e7955,_0x47f0dc[METHOD_NAME_ALL][_0x3e7955]]));}),!_0x3eea7a?null:buildMatcherFromPreprocessedRoutes(_0x467825);}},SmartRouter=class{constructor(_0x5ea63a){const _0x5c1bd0=a0_0x4a4b2e;this['name']=_0x5c1bd0(0x14d),this[_0x5c1bd0(0x22a)]=[],this['routes']=[],Object[_0x5c1bd0(0x16b)](this,_0x5ea63a);}[a0_0x4a4b2e(0x204)](_0x2f52cf,_0x532dc7,_0x2126e0){const _0x245b04=a0_0x4a4b2e;if(!this[_0x245b04(0x24a)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this['routes'][_0x245b04(0x142)]([_0x2f52cf,_0x532dc7,_0x2126e0]);}['match'](_0x1c00f5,_0x4d70c7){const _0x2f85bf=a0_0x4a4b2e;if(!this[_0x2f85bf(0x24a)])throw new Error(_0x2f85bf(0x1dc));const {routers:_0x3e28f3,routes:_0x54639d}=this,_0x59a727=_0x3e28f3[_0x2f85bf(0x25a)];let _0x1d29f9=0x0,_0x69700c;for(;_0x1d29f9<_0x59a727;_0x1d29f9++){const _0x21f157=_0x3e28f3[_0x1d29f9];try{_0x54639d[_0x2f85bf(0x28e)](_0x31ca57=>{_0x21f157['add'](..._0x31ca57);}),_0x69700c=_0x21f157[_0x2f85bf(0x15d)](_0x1c00f5,_0x4d70c7);}catch(_0x4eaced){if(_0x4eaced instanceof UnsupportedPathError)continue;throw _0x4eaced;}this[_0x2f85bf(0x15d)]=_0x21f157['match']['bind'](_0x21f157),this[_0x2f85bf(0x22a)]=[_0x21f157],this[_0x2f85bf(0x24a)]=void 0x0;break;}if(_0x1d29f9===_0x59a727)throw new Error(_0x2f85bf(0x1dc));return this[_0x2f85bf(0x198)]=_0x2f85bf(0x14a)+this[_0x2f85bf(0x153)]['name'],_0x69700c;}get['activeRouter'](){const _0x6c4e59=a0_0x4a4b2e;if(this['routes']||this[_0x6c4e59(0x22a)][_0x6c4e59(0x25a)]!==0x1)throw new Error(_0x6c4e59(0x287));return this[_0x6c4e59(0x22a)][0x0];}},Node2=class{constructor(_0x3e5c48,_0x456cf5,_0x3816f2){const _0x2b1347=a0_0x4a4b2e;this[_0x2b1347(0x140)]=0x0,this[_0x2b1347(0x269)]={},this[_0x2b1347(0x24d)]=_0x3816f2||{},this[_0x2b1347(0x1a3)]=[],this[_0x2b1347(0x198)]='';if(_0x3e5c48&&_0x456cf5){const _0x43879d={};_0x43879d[_0x3e5c48]={'handler':_0x456cf5,'possibleKeys':[],'score':0x0,'name':this[_0x2b1347(0x198)]},this[_0x2b1347(0x1a3)]=[_0x43879d];}this[_0x2b1347(0x27e)]=[];}['insert'](_0x56751b,_0x4fa8ca,_0x3aaf03){const _0x494557=a0_0x4a4b2e;this[_0x494557(0x198)]=_0x56751b+'\x20'+_0x4fa8ca,this['order']=++this['order'];let _0xf97c3b=this;const _0x433af3=splitRoutingPath(_0x4fa8ca),_0x270531=[],_0x1bf83d=[];for(let _0x3c317f=0x0,_0x19bee3=_0x433af3[_0x494557(0x25a)];_0x3c317f<_0x19bee3;_0x3c317f++){const _0x400c02=_0x433af3[_0x3c317f];if(Object['keys'](_0xf97c3b[_0x494557(0x24d)])['includes'](_0x400c02)){_0x1bf83d[_0x494557(0x142)](..._0xf97c3b[_0x494557(0x27e)]),_0xf97c3b=_0xf97c3b[_0x494557(0x24d)][_0x400c02];const _0x536528=getPattern(_0x400c02);_0x536528&&_0x270531['push'](_0x536528[0x1]);continue;}_0xf97c3b[_0x494557(0x24d)][_0x400c02]=new Node2();const _0x5698e1=getPattern(_0x400c02);_0x5698e1&&(_0xf97c3b[_0x494557(0x27e)][_0x494557(0x142)](_0x5698e1),_0x1bf83d[_0x494557(0x142)](..._0xf97c3b[_0x494557(0x27e)]),_0x270531[_0x494557(0x142)](_0x5698e1[0x1])),_0x1bf83d[_0x494557(0x142)](..._0xf97c3b['patterns']),_0xf97c3b=_0xf97c3b['children'][_0x400c02];}!_0xf97c3b[_0x494557(0x1a3)][_0x494557(0x25a)]&&(_0xf97c3b[_0x494557(0x1a3)]=[]);const _0x5230d9={},_0x35e21f={'handler':_0x3aaf03,'possibleKeys':_0x270531[_0x494557(0x148)]((_0x2fb04,_0x430d5e,_0x54966e)=>_0x54966e[_0x494557(0x27d)](_0x2fb04)===_0x430d5e),'name':this['name'],'score':this[_0x494557(0x140)]};return _0x5230d9[_0x56751b]=_0x35e21f,_0xf97c3b['methods'][_0x494557(0x142)](_0x5230d9),_0xf97c3b;}[a0_0x4a4b2e(0x213)](_0xbd14b0,_0x479c0c,_0x15fb59,_0x4142fe){const _0xf32315=a0_0x4a4b2e,_0x37cc3c=[];for(let _0x1ad7e2=0x0,_0x479e19=_0xbd14b0[_0xf32315(0x1a3)][_0xf32315(0x25a)];_0x1ad7e2<_0x479e19;_0x1ad7e2++){const _0x1f692b=_0xbd14b0[_0xf32315(0x1a3)][_0x1ad7e2],_0x59d680=_0x1f692b[_0x479c0c]||_0x1f692b[METHOD_NAME_ALL],_0x3d949b={};_0x59d680!==void 0x0&&(_0x59d680[_0xf32315(0x269)]={},_0x59d680[_0xf32315(0x1c9)][_0xf32315(0x28e)](_0x11ca11=>{const _0xf91ea0=_0xf32315,_0x298cfd=_0x3d949b[_0x59d680[_0xf91ea0(0x198)]];_0x59d680['params'][_0x11ca11]=_0x4142fe[_0x11ca11]&&!_0x298cfd?_0x4142fe[_0x11ca11]:_0x15fb59[_0x11ca11]??_0x4142fe[_0x11ca11],_0x3d949b[_0x59d680[_0xf91ea0(0x198)]]=!![];}),_0x37cc3c[_0xf32315(0x142)](_0x59d680));}return _0x37cc3c;}['search'](_0x5ab02c,_0x3da195){const _0x49d6f6=a0_0x4a4b2e,_0x56ea2b=[];this['params']={};const _0x4f45e2=this;let _0x41da97=[_0x4f45e2];const _0x3a0e2a=splitPath(_0x3da195);for(let _0x2414ed=0x0,_0x40eb19=_0x3a0e2a[_0x49d6f6(0x25a)];_0x2414ed<_0x40eb19;_0x2414ed++){const _0xe67ea6=_0x3a0e2a[_0x2414ed],_0x350b93=_0x2414ed===_0x40eb19-0x1,_0x4cc0b6=[];for(let _0x45fd0f=0x0,_0x2dd1ea=_0x41da97['length'];_0x45fd0f<_0x2dd1ea;_0x45fd0f++){const _0x1dd457=_0x41da97[_0x45fd0f],_0x447ac0=_0x1dd457['children'][_0xe67ea6];_0x447ac0&&(_0x447ac0[_0x49d6f6(0x269)]=_0x1dd457[_0x49d6f6(0x269)],_0x350b93===!![]?(_0x447ac0[_0x49d6f6(0x24d)]['*']&&_0x56ea2b[_0x49d6f6(0x142)](...this['gHSets'](_0x447ac0[_0x49d6f6(0x24d)]['*'],_0x5ab02c,_0x1dd457[_0x49d6f6(0x269)],{})),_0x56ea2b[_0x49d6f6(0x142)](...this[_0x49d6f6(0x213)](_0x447ac0,_0x5ab02c,_0x1dd457[_0x49d6f6(0x269)],{}))):_0x4cc0b6['push'](_0x447ac0));for(let _0x5dcb9e=0x0,_0x1a730a=_0x1dd457[_0x49d6f6(0x27e)]['length'];_0x5dcb9e<_0x1a730a;_0x5dcb9e++){const _0x2cfe43=_0x1dd457['patterns'][_0x5dcb9e],_0x23f099={..._0x1dd457[_0x49d6f6(0x269)]};if(_0x2cfe43==='*'){const _0x478670=_0x1dd457[_0x49d6f6(0x24d)]['*'];_0x478670&&(_0x56ea2b[_0x49d6f6(0x142)](...this[_0x49d6f6(0x213)](_0x478670,_0x5ab02c,_0x1dd457[_0x49d6f6(0x269)],{})),_0x4cc0b6[_0x49d6f6(0x142)](_0x478670));continue;}if(_0xe67ea6==='')continue;const [_0x1f3c9a,_0x171db2,_0x2e9372]=_0x2cfe43,_0x3d9cb1=_0x1dd457[_0x49d6f6(0x24d)][_0x1f3c9a],_0x385980=_0x3a0e2a[_0x49d6f6(0x209)](_0x2414ed)[_0x49d6f6(0x22f)]('/');if(_0x2e9372 instanceof RegExp&&_0x2e9372['test'](_0x385980)){_0x23f099[_0x171db2]=_0x385980,_0x56ea2b[_0x49d6f6(0x142)](...this[_0x49d6f6(0x213)](_0x3d9cb1,_0x5ab02c,_0x1dd457['params'],_0x23f099));continue;}(_0x2e9372===!![]||_0x2e9372 instanceof RegExp&&_0x2e9372[_0x49d6f6(0x155)](_0xe67ea6))&&(typeof _0x1f3c9a===_0x49d6f6(0x200)&&(_0x23f099[_0x171db2]=_0xe67ea6,_0x350b93===!![]?(_0x56ea2b[_0x49d6f6(0x142)](...this['gHSets'](_0x3d9cb1,_0x5ab02c,_0x23f099,_0x1dd457[_0x49d6f6(0x269)])),_0x3d9cb1['children']['*']&&_0x56ea2b[_0x49d6f6(0x142)](...this[_0x49d6f6(0x213)](_0x3d9cb1[_0x49d6f6(0x24d)]['*'],_0x5ab02c,_0x23f099,_0x1dd457[_0x49d6f6(0x269)]))):(_0x3d9cb1[_0x49d6f6(0x269)]=_0x23f099,_0x4cc0b6['push'](_0x3d9cb1))));}}_0x41da97=_0x4cc0b6;}const _0x49c7d7=_0x56ea2b[_0x49d6f6(0x18d)]((_0x505de7,_0x2c31e5)=>{const _0xfa5fda=_0x49d6f6;return _0x505de7[_0xfa5fda(0x220)]-_0x2c31e5['score'];});return[_0x49c7d7[_0x49d6f6(0x29f)](({handler:_0x40f40a,params:_0x3d8e87})=>[_0x40f40a,_0x3d8e87])];}},TrieRouter=class{constructor(){const _0x59c4de=a0_0x4a4b2e;this[_0x59c4de(0x198)]=_0x59c4de(0x1f7),this[_0x59c4de(0x23b)]=new Node2();}['add'](_0x359bef,_0xc2615e,_0x3c7ae0){const _0x4a671a=a0_0x4a4b2e,_0x223b2f=checkOptionalParameter(_0xc2615e);if(_0x223b2f){for(const _0x2e13bc of _0x223b2f){this['node'][_0x4a671a(0x252)](_0x359bef,_0x2e13bc,_0x3c7ae0);}return;}this[_0x4a671a(0x23b)][_0x4a671a(0x252)](_0x359bef,_0xc2615e,_0x3c7ae0);}[a0_0x4a4b2e(0x15d)](_0xd25b7f,_0x3a6575){return this['node']['search'](_0xd25b7f,_0x3a6575);}},Hono2=class extends Hono{constructor(_0x38c0b6={}){const _0x35ddf8=a0_0x4a4b2e;super(_0x38c0b6),this[_0x35ddf8(0x25e)]=_0x38c0b6[_0x35ddf8(0x25e)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0x1f5e18){const _0x2a4820=a0_0x4a4b2e;if(wasmReady)return wasmModule;try{const _0x12f973=_0x1f5e18||_0x2a4820(0x1e9),_0x169d9a=await import(_0x12f973);return typeof _0x169d9a['default']===_0x2a4820(0x190)&&await _0x169d9a['default'](),wasmModule=_0x169d9a,wasmReady=!![],wasmModule;}catch(_0x284023){console[_0x2a4820(0x18c)]('WASM\x20module\x20not\x20available\x20at\x20runtime:',_0x284023),wasmReady=![];throw _0x284023;}}async function parseVlessHeader(_0x2c21b0){const _0x457f45=a0_0x4a4b2e;if(!wasmReady)throw new Error(_0x457f45(0x19d));if(!wasmModule||typeof wasmModule['parse_vless_header']!==_0x457f45(0x190))throw new Error(_0x457f45(0x284));return await wasmModule['parse_vless_header'](_0x2c21b0);}function renderAdminLogin(_0x497d01,_0x3e11ec){const _0xece8a0=a0_0x4a4b2e;return _0xece8a0(0x1ad)+_0x497d01+_0xece8a0(0x156)+(_0x3e11ec?'<p\x20style=\x22color:red\x22>'+escapeHtml(_0x3e11ec)+_0xece8a0(0x177):'')+'\x0a</body></html>';}function renderAdminPanel(){const _0x37707d=a0_0x4a4b2e;return _0x37707d(0x22c);}function escapeHtml(_0x5577cd){const _0x23cf2a=a0_0x4a4b2e;return _0x5577cd[_0x23cf2a(0x13b)](/[&<>'"]/g,_0x3f76d1=>({'&':_0x23cf2a(0x1d7),'<':_0x23cf2a(0x275),'>':_0x23cf2a(0x1c7),'\x27':_0x23cf2a(0x1f1),'\x22':_0x23cf2a(0x180)}[_0x3f76d1]));}function expiryToISO(_0x3b2a6e,_0x2d0394){const _0xcc1495=a0_0x4a4b2e;if(!_0x3b2a6e||!_0x2d0394)return null;const _0x3bef6e=_0x2d0394['split'](':')['length']===0x2?_0x2d0394+_0xcc1495(0x286):_0x2d0394,_0x3e28fd=_0x3b2a6e+'T'+_0x3bef6e+'Z',_0x4142c4=new Date(_0x3e28fd);if(isNaN(_0x4142c4[_0xcc1495(0x24c)]()))return null;return _0x4142c4['toISOString']();}var app=new Hono2();function addSecurityHeaders(_0xae29a1){const _0x4acf33=a0_0x4a4b2e;_0xae29a1[_0x4acf33(0x1cb)](_0x4acf33(0x217),'nosniff'),_0xae29a1[_0x4acf33(0x1cb)]('Referrer-Policy','strict-origin-when-cross-origin'),_0xae29a1['set'](_0x4acf33(0x251),_0x4acf33(0x26a));}app[a0_0x4a4b2e(0x1c1)](a0_0x4a4b2e(0x264),async _0x505ca2=>{const _0xf6f03a=a0_0x4a4b2e,_0x412a7f=_0x505ca2[_0xf6f03a(0x1d5)],_0x220ec2=await _0x505ca2[_0xf6f03a(0x21f)][_0xf6f03a(0x292)](),_0x478542=_0x220ec2[_0xf6f03a(0x1cf)]('password')?.[_0xf6f03a(0x268)]()||'';if(!_0x412a7f[_0xf6f03a(0x181)])return _0x505ca2[_0xf6f03a(0x267)](_0xf6f03a(0x1a2),0x1f7);if(_0x478542!==_0x412a7f['ADMIN_KEY'])return _0x505ca2[_0xf6f03a(0x267)](_0xf6f03a(0x159),0x191);const _0x2656ed=crypto[_0xf6f03a(0x244)](),_0x5924cd=await crypto[_0xf6f03a(0x1b0)][_0xf6f03a(0x194)](_0xf6f03a(0x18a),new TextEncoder()['encode'](_0x2656ed)),_0x13d1f2=Array[_0xf6f03a(0x16d)](new Uint8Array(_0x5924cd))[_0xf6f03a(0x29f)](_0x429ab2=>_0x429ab2[_0xf6f03a(0x268)](0x10)['padStart'](0x2,'0'))[_0xf6f03a(0x22f)]('');try{await _0x412a7f['DB']['prepare'](_0xf6f03a(0x15f))[_0xf6f03a(0x176)](_0xf6f03a(0x2a0),_0x13d1f2,Math[_0xf6f03a(0x1ab)](Date[_0xf6f03a(0x183)]()/0x3e8)+0x15180)['run']();}catch(_0x25faaf){console[_0xf6f03a(0x1c8)]('admin\x20session\x20store\x20failed',_0x25faaf);}const _0x5d73f8=new Headers();return _0x5d73f8[_0xf6f03a(0x233)]('Set-Cookie','auth_token='+_0x2656ed+_0xf6f03a(0x232)),addSecurityHeaders(_0x5d73f8),_0x505ca2['text']('OK',0xc8,{'headers':_0x5d73f8});});async function hashSHA256Hex(_0x59a2b0){const _0x4e6c14=a0_0x4a4b2e,_0x379362=new TextEncoder(),_0x4e88d9=_0x379362[_0x4e6c14(0x1a1)](_0x59a2b0),_0x1e86e6=await crypto[_0x4e6c14(0x1b0)][_0x4e6c14(0x194)]('SHA-256',_0x4e88d9);return Array[_0x4e6c14(0x16d)](new Uint8Array(_0x1e86e6))['map'](_0x5252b7=>_0x5252b7[_0x4e6c14(0x268)](0x10)[_0x4e6c14(0x219)](0x2,'0'))[_0x4e6c14(0x22f)]('');}async function isAdminRequest(_0xbc3d8c){const _0x4ae660=a0_0x4a4b2e,_0x209433=_0xbc3d8c['req']['headers'][_0x4ae660(0x1cf)]('cookie')||'',_0x3e4432=_0x209433[_0x4ae660(0x15d)](/auth_token=([^;]+)/)?.[0x1];if(!_0x3e4432)return![];const _0x137c62=await hashSHA256Hex(_0x3e4432);try{const _0x70ca3e=await _0xbc3d8c['env']['DB'][_0x4ae660(0x1fd)](_0x4ae660(0x280))['bind'](_0x4ae660(0x2a0))[_0x4ae660(0x13e)]();if(!_0x70ca3e?.['token_hash'])return![];return _0x137c62===_0x70ca3e[_0x4ae660(0x1aa)];}catch(_0xf9fe4e){return console[_0x4ae660(0x18c)](_0x4ae660(0x1be),_0xf9fe4e),![];}}async function ensureTablesExist(_0xad2bf9){const _0x299e59=a0_0x4a4b2e;if(!_0xad2bf9['DB'])return;const _0x8532a0=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)',_0x299e59(0x20a),_0x299e59(0x295),_0x299e59(0x226)];try{const _0x599352=_0x8532a0[_0x299e59(0x29f)](_0x268159=>_0xad2bf9['DB'][_0x299e59(0x1fd)](_0x268159));await _0xad2bf9['DB'][_0x299e59(0x23f)](_0x599352);}catch(_0x1ce200){console[_0x299e59(0x18c)](_0x299e59(0x160),_0x1ce200);}}app[a0_0x4a4b2e(0x1cf)]('/admin',async _0x5c38b5=>{const _0x7f01f8=a0_0x4a4b2e;await ensureTablesExist(_0x5c38b5[_0x7f01f8(0x1d5)]);const _0x48a3b5=await isAdminRequest(_0x5c38b5),_0x1c02d0=_0x7f01f8(0x27c),_0x32caea=new Headers({'Content-Type':_0x7f01f8(0x13a)});addSecurityHeaders(_0x32caea);if(!_0x48a3b5)return new Response(renderAdminLogin(_0x1c02d0+'/login'),{'headers':_0x32caea});return new Response(renderAdminPanel(),{'headers':_0x32caea});}),app[a0_0x4a4b2e(0x1cf)](a0_0x4a4b2e(0x1e7),async _0x1cb9d3=>{const _0x3e470d=a0_0x4a4b2e;if(!await isAdminRequest(_0x1cb9d3))return _0x1cb9d3['json']({'error':_0x3e470d(0x167)},0x193);const _0x5bd9b8=_0x1cb9d3['env'];await ensureTablesExist(_0x5bd9b8);try{const _0x39671e=await _0x5bd9b8['DB']['prepare'](_0x3e470d(0x1bb))[_0x3e470d(0x13e)](_0x3e470d(0x1d3)),_0x57b2f3=await _0x5bd9b8['DB'][_0x3e470d(0x1fd)]('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)')[_0x3e470d(0x13e)]('count'),_0x112532=await _0x5bd9b8['DB'][_0x3e470d(0x1fd)](_0x3e470d(0x29b))['first'](_0x3e470d(0x253)),_0x285d68=_0x57b2f3||0x0,_0x33780e=(_0x39671e||0x0)-_0x285d68;return _0x1cb9d3[_0x3e470d(0x29e)]({'total_users':_0x39671e||0x0,'active_users':_0x33780e,'expired_users':_0x285d68,'total_traffic':_0x112532||0x0});}catch(_0x527a22){const _0xd2882b=_0x527a22 instanceof Error?_0x527a22['message']:String(_0x527a22);return _0x1cb9d3[_0x3e470d(0x29e)]({'error':_0xd2882b},0x1f4);}}),app[a0_0x4a4b2e(0x1cf)](a0_0x4a4b2e(0x29c),async _0x3ac8d0=>{const _0x1458eb=a0_0x4a4b2e;if(!await isAdminRequest(_0x3ac8d0))return _0x3ac8d0[_0x1458eb(0x29e)]({'error':'Forbidden'},0x193);const _0x5423f4=await _0x3ac8d0['env']['DB']['prepare']('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')['all']();return _0x3ac8d0['json'](_0x5423f4[_0x1458eb(0x16c)]||[]);}),app[a0_0x4a4b2e(0x1c1)](a0_0x4a4b2e(0x29c),async _0x89b428=>{const _0x500caf=a0_0x4a4b2e;if(!await isAdminRequest(_0x89b428))return _0x89b428[_0x500caf(0x29e)]({'error':'Forbidden'},0x193);const _0x1ee48b=await _0x89b428[_0x500caf(0x21f)][_0x500caf(0x29e)](),{uuid:_0x432b86,exp_date:_0x3b5a54,exp_time:_0x4224ef,notes:_0x19a514,traffic_limit:_0x52d5af,ip_limit:_0x467994}=_0x1ee48b;if(!_0x432b86||!_0x3b5a54||!_0x4224ef)return _0x89b428[_0x500caf(0x29e)]({'error':_0x500caf(0x158)},0x190);try{return await _0x89b428[_0x500caf(0x1d5)]['DB'][_0x500caf(0x1fd)](_0x500caf(0x26b))['bind'](_0x432b86,_0x3b5a54,_0x4224ef,_0x19a514||null,_0x52d5af||null,_0x467994||-0x1)['run'](),_0x89b428['json']({'success':!![],'uuid':_0x432b86},0xc9);}catch(_0x41558f){const _0x556a0a=_0x41558f instanceof Error?_0x41558f[_0x500caf(0x1b2)]:String(_0x41558f);return _0x89b428[_0x500caf(0x29e)]({'error':_0x556a0a},0x190);}}),app[a0_0x4a4b2e(0x285)](a0_0x4a4b2e(0x278),async _0x407ff8=>{const _0x48154a=a0_0x4a4b2e;if(!await isAdminRequest(_0x407ff8))return _0x407ff8[_0x48154a(0x29e)]({'error':_0x48154a(0x167)},0x193);const _0x475b00=_0x407ff8['req'][_0x48154a(0x143)](_0x48154a(0x173)),_0x2d03ca=await _0x407ff8[_0x48154a(0x21f)][_0x48154a(0x29e)](),{exp_date:_0x8005a6,exp_time:_0x1fde22,notes:_0x39878d,traffic_limit:_0x2fea19,ip_limit:_0x352b34,reset_traffic:_0x2fc2c8}=_0x2d03ca;if(!_0x8005a6||!_0x1fde22)return _0x407ff8[_0x48154a(0x29e)]({'error':'Missing\x20date/time'},0x190);try{let _0x2e33f7='UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?';if(_0x2fc2c8)_0x2e33f7+=',\x20traffic_used\x20=\x200';return _0x2e33f7+=_0x48154a(0x291),await _0x407ff8[_0x48154a(0x1d5)]['DB'][_0x48154a(0x1fd)](_0x2e33f7)[_0x48154a(0x176)](_0x8005a6,_0x1fde22,_0x39878d||null,_0x2fea19||null,_0x352b34||-0x1,_0x475b00)['run'](),_0x407ff8['json']({'success':!![],'uuid':_0x475b00});}catch(_0x5d7c2e){const _0x38de84=_0x5d7c2e instanceof Error?_0x5d7c2e[_0x48154a(0x1b2)]:String(_0x5d7c2e);return _0x407ff8['json']({'error':_0x38de84},0x190);}}),app[a0_0x4a4b2e(0x24e)](a0_0x4a4b2e(0x278),async _0x4270fc=>{const _0xb0e11=a0_0x4a4b2e;if(!await isAdminRequest(_0x4270fc))return _0x4270fc[_0xb0e11(0x29e)]({'error':_0xb0e11(0x167)},0x193);const _0x1c54ac=_0x4270fc[_0xb0e11(0x21f)][_0xb0e11(0x143)](_0xb0e11(0x173));try{return await _0x4270fc[_0xb0e11(0x1d5)]['DB'][_0xb0e11(0x1fd)](_0xb0e11(0x250))[_0xb0e11(0x176)](_0x1c54ac)[_0xb0e11(0x157)](),_0x4270fc['json']({'success':!![],'uuid':_0x1c54ac});}catch(_0x5b2eb1){const _0x181e96=_0x5b2eb1 instanceof Error?_0x5b2eb1[_0xb0e11(0x1b2)]:String(_0x5b2eb1);return _0x4270fc['json']({'error':_0x181e96},0x1f4);}}),app['post'](a0_0x4a4b2e(0x272),async _0x281b8c=>{const _0x56c847=a0_0x4a4b2e;if(!await isAdminRequest(_0x281b8c))return _0x281b8c[_0x56c847(0x29e)]({'error':'Forbidden'},0x193);const _0x2f87ee=_0x281b8c[_0x56c847(0x1d5)],_0x4b028a=_0x2f87ee[_0x56c847(0x1a8)]?_0x2f87ee['PROXYIPS']['split'](',')[_0x56c847(0x29f)](_0x37bf6c=>_0x37bf6c['trim']()):[_0x56c847(0x258)],_0x29fa13=[];for(const _0x5e5d00 of _0x4b028a){const [_0x4a88fd,_0x2b79f9=_0x56c847(0x1b4)]=_0x5e5d00[_0x56c847(0x265)](':');let _0x4ab011=null,_0x472b22=0x0;const _0xdde771=Date[_0x56c847(0x183)]();try{const _0x1ca75a=new AbortController(),_0x77223e=setTimeout(()=>_0x1ca75a['abort'](),0x1388),_0x593e8f=await fetch(_0x56c847(0x1d1)+_0x4a88fd+':'+_0x2b79f9,{'signal':_0x1ca75a[_0x56c847(0x141)]});clearTimeout(_0x77223e),_0x593e8f['ok']&&(_0x4ab011=Date['now']()-_0xdde771,_0x472b22=0x1);}catch(_0x522465){}_0x29fa13['push'](_0x2f87ee['DB']['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)')['bind'](_0x5e5d00,_0x472b22,_0x4ab011,Math[_0x56c847(0x1ab)](Date['now']()/0x3e8)));}try{return await _0x2f87ee['DB'][_0x56c847(0x23f)](_0x29fa13),_0x281b8c[_0x56c847(0x29e)]({'success':!![]});}catch(_0x221278){return _0x281b8c['json']({'error':_0x221278?.[_0x56c847(0x1b2)]||String(_0x221278)},0x1f4);}}),app[a0_0x4a4b2e(0x1c1)]('/admin/logout',async _0x3b4689=>{const _0x2d38a1=a0_0x4a4b2e;try{await _0x3b4689['env']['DB'][_0x2d38a1(0x1fd)]('DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?')['bind']('default')[_0x2d38a1(0x157)]();}catch(_0x236a75){}const _0x1a5907=new Headers();return _0x1a5907[_0x2d38a1(0x233)]('Set-Cookie','auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict'),addSecurityHeaders(_0x1a5907),new Response(JSON['stringify']({'success':!![]}),{'headers':_0x1a5907});}),app['get'](a0_0x4a4b2e(0x20d),async _0x21bab0=>{const _0x426b06=a0_0x4a4b2e,{uuid:_0x5bfaa8}=_0x21bab0['req']['param'](),_0xbda3a0=_0x21bab0[_0x426b06(0x1d5)];if(!/^[0-9a-fA-F-]{36}$/[_0x426b06(0x155)](_0x5bfaa8))return _0x21bab0[_0x426b06(0x29e)]({'error':_0x426b06(0x206)},0x190);const _0x116bdb=await _0xbda3a0['DB'][_0x426b06(0x1fd)](_0x426b06(0x26c))[_0x426b06(0x176)](_0x5bfaa8)[_0x426b06(0x13e)]();if(!_0x116bdb)return _0x21bab0[_0x426b06(0x29e)]({'error':_0x426b06(0x1ca)},0x194);const _0x94c94f=expiryToISO(_0x116bdb[_0x426b06(0x23c)],_0x116bdb[_0x426b06(0x20c)]);return _0x21bab0['json']({'traffic_used':_0x116bdb[_0x426b06(0x256)]||0x0,'traffic_limit':_0x116bdb['traffic_limit']||null,'expiration_iso':_0x94c94f});}),app[a0_0x4a4b2e(0x1cf)]('/:uuid',async _0x2495c6=>{const _0x4fbdc3=a0_0x4a4b2e,_0x3b0682=_0x2495c6['req'][_0x4fbdc3(0x143)](_0x4fbdc3(0x173)),_0x14dba4=_0x2495c6[_0x4fbdc3(0x1d5)];if(!/^[0-9a-fA-F-]{36}$/[_0x4fbdc3(0x155)](_0x3b0682))return _0x2495c6[_0x4fbdc3(0x267)](_0x4fbdc3(0x184),0x190);const _0xce6087=await _0x14dba4['DB'][_0x4fbdc3(0x1fd)]('SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0x4fbdc3(0x176)](_0x3b0682)[_0x4fbdc3(0x13e)]();if(!_0xce6087)return _0x2495c6[_0x4fbdc3(0x267)]('Authentication\x20failed',0x193);let _0x277cae=_0x14dba4[_0x4fbdc3(0x1a8)]?_0x14dba4[_0x4fbdc3(0x1a8)][_0x4fbdc3(0x265)](',')[0x0]:_0x4fbdc3(0x258);try{const _0x21272d=await _0x14dba4['DB']['prepare'](_0x4fbdc3(0x16a))[_0x4fbdc3(0x13e)]();if(_0x21272d?.[_0x4fbdc3(0x1ef)])_0x277cae=_0x21272d[_0x4fbdc3(0x1ef)];}catch(_0x3d7c13){}const _0x5ef7df=_0x2495c6[_0x4fbdc3(0x21f)]['headers'][_0x4fbdc3(0x1cf)](_0x4fbdc3(0x1f9))||_0x4fbdc3(0x1e2),_0x14f20a=_0x4fbdc3(0x1d1)+_0x5ef7df+_0x4fbdc3(0x214)+_0x3b0682,_0x3e2d0a=_0x4fbdc3(0x1d1)+_0x5ef7df+_0x4fbdc3(0x229)+_0x3b0682,_0x21baf2=expiryToISO(_0xce6087[_0x4fbdc3(0x23c)],_0xce6087[_0x4fbdc3(0x20c)]),_0x2593eb=_0x4fbdc3(0x166)+_0x3b0682+_0x4fbdc3(0x201)+_0x277cae+_0x4fbdc3(0x25c)+_0x14f20a+'\x22>'+_0x14f20a+_0x4fbdc3(0x262)+_0x3e2d0a+'\x22>'+_0x3e2d0a+_0x4fbdc3(0x271)+_0x3b0682+_0x4fbdc3(0x1b9)+(_0xce6087[_0x4fbdc3(0x256)]||0x0)+_0x4fbdc3(0x146)+(_0x21baf2||_0x4fbdc3(0x215))+_0x4fbdc3(0x1af),_0x484b23=new Headers({'Content-Type':'text/html;charset=utf-8'});return addSecurityHeaders(_0x484b23),new Response(_0x2593eb,{'headers':_0x484b23});}),app['get'](a0_0x4a4b2e(0x236),async _0x1c857e=>{const _0x3e1a00=a0_0x4a4b2e,_0x232716=_0x1c857e[_0x3e1a00(0x21f)][_0x3e1a00(0x143)]('uuid');if(!/^[0-9a-fA-F-]{36}$/[_0x3e1a00(0x155)](_0x232716))return _0x1c857e['text'](_0x3e1a00(0x184),0x190);const _0x3f455b=_0x1c857e[_0x3e1a00(0x21f)]['headers'][_0x3e1a00(0x1cf)]('Host')||'example.com',_0x47a74c=[_0x3e1a00(0x270)+_0x232716+'@'+_0x3f455b+':443?type=ws&host='+_0x3f455b+_0x3e1a00(0x1b8)],_0x3302e7=new Headers({'Content-Type':'text/plain;charset=utf-8'});return addSecurityHeaders(_0x3302e7),new Response(btoa(_0x47a74c[_0x3e1a00(0x22f)]('\x0a')),{'headers':_0x3302e7});}),app[a0_0x4a4b2e(0x1cf)](a0_0x4a4b2e(0x228),async _0x5760f1=>{const _0x11c469=a0_0x4a4b2e,_0x13359e=_0x5760f1[_0x11c469(0x21f)][_0x11c469(0x143)](_0x11c469(0x173));if(!/^[0-9a-fA-F-]{36}$/[_0x11c469(0x155)](_0x13359e))return _0x5760f1[_0x11c469(0x267)]('Invalid\x20UUID',0x190);const _0x203b88=_0x5760f1[_0x11c469(0x21f)][_0x11c469(0x23d)][_0x11c469(0x1cf)](_0x11c469(0x1f9))||_0x11c469(0x1e2),_0x37dc30=[_0x11c469(0x270)+_0x13359e+'@'+_0x203b88+':443?type=ws&host='+_0x203b88+_0x11c469(0x2a3)],_0x409b0a=new Headers({'Content-Type':_0x11c469(0x1ed)});return addSecurityHeaders(_0x409b0a),new Response(btoa(_0x37dc30['join']('\x0a')),{'headers':_0x409b0a});}),app[a0_0x4a4b2e(0x288)](a0_0x4a4b2e(0x218),async _0x9a3446=>{const _0x47efb0=a0_0x4a4b2e,_0x2884e2=_0x9a3446[_0x47efb0(0x21f)],_0x2041ed=_0x9a3446[_0x47efb0(0x1d5)];if(_0x2884e2[_0x47efb0(0x23d)][_0x47efb0(0x1cf)](_0x47efb0(0x1a0))?.[_0x47efb0(0x1c3)]()!==_0x47efb0(0x145))return _0x9a3446[_0x47efb0(0x267)]('Must\x20upgrade\x20to\x20WebSocket',0x190);try{if(_0x2041ed['VLESS_WASM'])try{await initWasm();}catch(_0x1cda36){console[_0x47efb0(0x18c)](_0x47efb0(0x1ae),_0x1cda36);}}catch(_0x443f23){console[_0x47efb0(0x18c)]('wasm\x20init\x20skipped',_0x443f23);}const _0x3c11d4=new globalThis['WebSocketPair'](),[_0x47ab6f,_0x56b648]=Object[_0x47efb0(0x1f2)](_0x3c11d4);_0x56b648[_0x47efb0(0x172)]();let _0x26ee3f=0x0,_0x4fa892='';const _0x33a4bc=async()=>{const _0x295194=_0x47efb0;try{if(!_0x4fa892||_0x26ee3f<=0x0)return;_0x9a3446[_0x295194(0x1c4)][_0x295194(0x18f)](((async()=>{const _0x21d09d=_0x295194;try{await _0x2041ed['DB'][_0x21d09d(0x1fd)](_0x21d09d(0x17c))[_0x21d09d(0x176)](Math[_0x21d09d(0x1f6)](_0x26ee3f),_0x4fa892)['run']();}catch(_0x4ce204){console[_0x21d09d(0x1c8)](_0x21d09d(0x2a1),_0x4ce204);}})())),_0x26ee3f=0x0;}catch(_0x510865){console[_0x295194(0x1c8)](_0x295194(0x1db),_0x510865);}},_0x2c7948=setInterval(()=>{_0x33a4bc();},0x2710);_0x56b648[_0x47efb0(0x243)]('message',async _0x56d1fe=>{const _0x2e8a2b=_0x47efb0;try{const _0x4a005a=_0x56d1fe[_0x2e8a2b(0x22d)];let _0x16b1dd;if(typeof _0x4a005a===_0x2e8a2b(0x200))_0x16b1dd=new TextEncoder()[_0x2e8a2b(0x1a1)](_0x4a005a);else{if(_0x4a005a instanceof ArrayBuffer)_0x16b1dd=new Uint8Array(_0x4a005a);else{if(_0x4a005a instanceof Blob)_0x16b1dd=new Uint8Array(await _0x4a005a[_0x2e8a2b(0x1fc)]());else return;}}_0x26ee3f+=_0x16b1dd[_0x2e8a2b(0x1ec)];if(!_0x4fa892)try{if(_0x16b1dd['byteLength']<0x18){}let _0x4b73c5=null;try{_0x4b73c5=await parseVlessHeader(_0x16b1dd);}catch(_0x16e9e2){console[_0x2e8a2b(0x18c)]('WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser',_0x16e9e2);}if(!_0x4b73c5){const _0x3e9a69=new DataView(_0x16b1dd[_0x2e8a2b(0x242)]),_0x435e0c=new Uint8Array(_0x16b1dd[_0x2e8a2b(0x242)][_0x2e8a2b(0x209)](0x1,0x11)),_0x50afa9=Array[_0x2e8a2b(0x16d)](_0x435e0c)[_0x2e8a2b(0x29f)](_0x3c612e=>_0x3c612e[_0x2e8a2b(0x268)](0x10)[_0x2e8a2b(0x219)](0x2,'0'))[_0x2e8a2b(0x22f)](''),_0x574eaf=_0x50afa9['substring'](0x0,0x8)+'-'+_0x50afa9[_0x2e8a2b(0x1b1)](0x8,0xc)+'-'+_0x50afa9[_0x2e8a2b(0x1b1)](0xc,0x10)+'-'+_0x50afa9[_0x2e8a2b(0x1b1)](0x10,0x14)+'-'+_0x50afa9[_0x2e8a2b(0x1b1)](0x14,0x20);_0x4b73c5={'uuid':_0x574eaf,'command':_0x3e9a69['getUint8'](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x4fa892=_0x4b73c5['uuid'];const _0x5cf9ce=await _0x2041ed['DB'][_0x2e8a2b(0x1fd)](_0x2e8a2b(0x294))['bind'](_0x4fa892)[_0x2e8a2b(0x13e)]();if(!_0x5cf9ce){_0x56b648[_0x2e8a2b(0x254)](0x3f3,_0x2e8a2b(0x20f));return;}const _0x3bdd63=expiryToISO(_0x5cf9ce[_0x2e8a2b(0x23c)],_0x5cf9ce[_0x2e8a2b(0x20c)]);if(_0x3bdd63&&new Date(_0x3bdd63)<=new Date()){_0x56b648[_0x2e8a2b(0x254)](0x3f0,'Expired');return;}if(_0x5cf9ce['traffic_limit']&&_0x5cf9ce[_0x2e8a2b(0x216)]>0x0&&(_0x5cf9ce[_0x2e8a2b(0x256)]||0x0)>=_0x5cf9ce[_0x2e8a2b(0x216)]){_0x56b648[_0x2e8a2b(0x254)](0x3f0,'Traffic\x20limit\x20exceeded');return;}try{const _0x418238=_0x2884e2[_0x2e8a2b(0x23d)]['get']('CF-Connecting-IP')||_0x2884e2[_0x2e8a2b(0x23d)][_0x2e8a2b(0x1cf)](_0x2e8a2b(0x28f))||'';if(_0x5cf9ce[_0x2e8a2b(0x1d6)]&&_0x5cf9ce['ip_limit']>-0x1){const _0x3c4338=await _0x2041ed['DB']['prepare'](_0x2e8a2b(0x202))[_0x2e8a2b(0x176)](_0x4fa892)['first'](),_0x368893=_0x3c4338?.[_0x2e8a2b(0x1d3)]||0x0;if(_0x368893>=_0x5cf9ce['ip_limit']){_0x56b648[_0x2e8a2b(0x254)](0x3f0,_0x2e8a2b(0x28d));return;}}_0x9a3446[_0x2e8a2b(0x1c4)][_0x2e8a2b(0x18f)](((async()=>{const _0x1e07a1=_0x2e8a2b;try{await _0x2041ed['DB'][_0x1e07a1(0x1fd)]('INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)')[_0x1e07a1(0x176)](_0x4fa892,_0x2884e2[_0x1e07a1(0x23d)][_0x1e07a1(0x1cf)](_0x1e07a1(0x1ff))||_0x1e07a1(0x182))['run']();}catch(_0x170cef){console[_0x1e07a1(0x18c)]('user_ip\x20upsert\x20failed',_0x170cef);}})()));}catch(_0x495b11){console[_0x2e8a2b(0x18c)](_0x2e8a2b(0x1ea),_0x495b11);}}catch(_0x4cb089){console['error'](_0x2e8a2b(0x185),_0x4cb089),_0x56b648[_0x2e8a2b(0x254)](0x3f3,'Parse\x20error');return;}try{_0x56b648[_0x2e8a2b(0x277)]===0x1&&_0x56b648[_0x2e8a2b(0x21d)]('ACK');}catch(_0x1749d2){console[_0x2e8a2b(0x18c)](_0x2e8a2b(0x165),_0x1749d2);}}catch(_0x4dd2ac){console[_0x2e8a2b(0x1c8)](_0x2e8a2b(0x28a),_0x4dd2ac);try{_0x56b648['close'](0x3f3,_0x2e8a2b(0x189));}catch(_0x51823d){}}}),_0x56b648[_0x47efb0(0x243)](_0x47efb0(0x254),async()=>{const _0x3bed6e=_0x47efb0;clearInterval(_0x2c7948);try{await _0x33a4bc();}catch(_0x4efcc1){console[_0x3bed6e(0x18c)](_0x3bed6e(0x237),_0x4efcc1);}});const _0x419b50=new Headers();addSecurityHeaders(_0x419b50);const _0x5bf334={'status':0x65,'webSocket':_0x47ab6f,'headers':_0x419b50};return new Response(null,_0x5bf334);}),app['get'](a0_0x4a4b2e(0x1b7),async _0x7e00b4=>{const _0x2436ee=a0_0x4a4b2e;return _0x7e00b4[_0x2436ee(0x267)](_0x2436ee(0x26d));});var src_default={'fetch':app[a0_0x4a4b2e(0x161)]};export{src_default as default,expiryToISO};