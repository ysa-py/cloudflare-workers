const a0_0x1566c6=a0_0x8474;(function(_0x3c4cc8,_0xf269a0){const _0x5e05c3=a0_0x8474,_0x1b3697=_0x3c4cc8();while(!![]){try{const _0x58e86d=parseInt(_0x5e05c3(0x279))/0x1+-parseInt(_0x5e05c3(0x1dd))/0x2+parseInt(_0x5e05c3(0x292))/0x3+parseInt(_0x5e05c3(0x1ad))/0x4+-parseInt(_0x5e05c3(0x20a))/0x5+-parseInt(_0x5e05c3(0x1fe))/0x6+-parseInt(_0x5e05c3(0x29d))/0x7*(-parseInt(_0x5e05c3(0x2c5))/0x8);if(_0x58e86d===_0xf269a0)break;else _0x1b3697['push'](_0x1b3697['shift']());}catch(_0x2f54f6){_0x1b3697['push'](_0x1b3697['shift']());}}}(a0_0x43f6,0x3bbd0));const a0_0x45fbda=(function(){let _0x362414=!![];return function(_0x39abe1,_0x21d67b){const _0x4f9846=_0x362414?function(){if(_0x21d67b){const _0x3dd20f=_0x21d67b['apply'](_0x39abe1,arguments);return _0x21d67b=null,_0x3dd20f;}}:function(){};return _0x362414=![],_0x4f9846;};}()),a0_0x3128cb=a0_0x45fbda(this,function(){const _0x3dc4b8=a0_0x8474;return a0_0x3128cb[_0x3dc4b8(0x249)]()[_0x3dc4b8(0x191)](_0x3dc4b8(0x1ed))[_0x3dc4b8(0x249)]()[_0x3dc4b8(0x1e5)](a0_0x3128cb)[_0x3dc4b8(0x191)](_0x3dc4b8(0x1ed));});a0_0x3128cb();var splitPath=_0xeb3c5a=>{const _0x46f5a8=a0_0x8474,_0x4fa031=_0xeb3c5a[_0x46f5a8(0x271)]('/');return _0x4fa031[0x0]===''&&_0x4fa031[_0x46f5a8(0x1f1)](),_0x4fa031;},splitRoutingPath=_0x150744=>{const {groups:_0x599e20,path:_0x2d7743}=extractGroupsFromPath(_0x150744),_0x35fb72=splitPath(_0x2d7743);return replaceGroupMarks(_0x35fb72,_0x599e20);},extractGroupsFromPath=_0x53c26b=>{const _0x24312b=a0_0x8474,_0x3c57a7=[];return _0x53c26b=_0x53c26b[_0x24312b(0x2c1)](/\{[^}]+\}/g,(_0x5dc195,_0x1c6343)=>{const _0x4b5845=_0x24312b,_0x40bb30='@'+_0x1c6343;return _0x3c57a7[_0x4b5845(0x268)]([_0x40bb30,_0x5dc195]),_0x40bb30;}),{'groups':_0x3c57a7,'path':_0x53c26b};},replaceGroupMarks=(_0x3f4fa7,_0x25f966)=>{const _0x2f051f=a0_0x8474;for(let _0x516452=_0x25f966[_0x2f051f(0x22d)]-0x1;_0x516452>=0x0;_0x516452--){const [_0x4d3858]=_0x25f966[_0x516452];for(let _0x78a20c=_0x3f4fa7['length']-0x1;_0x78a20c>=0x0;_0x78a20c--){if(_0x3f4fa7[_0x78a20c]['includes'](_0x4d3858)){_0x3f4fa7[_0x78a20c]=_0x3f4fa7[_0x78a20c][_0x2f051f(0x2c1)](_0x4d3858,_0x25f966[_0x516452][0x1]);break;}}}return _0x3f4fa7;},patternCache={},getPattern=_0x56b177=>{if(_0x56b177==='*')return'*';const _0x2ee6cb=_0x56b177['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x2ee6cb)return!patternCache[_0x56b177]&&(_0x2ee6cb[0x2]?patternCache[_0x56b177]=[_0x56b177,_0x2ee6cb[0x1],new RegExp('^'+_0x2ee6cb[0x2]+'$')]:patternCache[_0x56b177]=[_0x56b177,_0x2ee6cb[0x1],!![]]),patternCache[_0x56b177];return null;},getPath=_0x247773=>{const _0x30ebd7=a0_0x8474,_0x957f88=_0x247773[_0x30ebd7(0x1b2)][_0x30ebd7(0x203)](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x957f88?_0x957f88[0x1]:'';},getQueryStrings=_0x37ba73=>{const _0x149b57=a0_0x8474,_0x3789b9=_0x37ba73[_0x149b57(0x1ac)]('?',0x8);return _0x3789b9===-0x1?'':'?'+_0x37ba73[_0x149b57(0x1b1)](_0x3789b9+0x1);},getPathNoStrict=_0x583381=>{const _0x568dbd=a0_0x8474,_0x395f85=getPath(_0x583381);return _0x395f85[_0x568dbd(0x22d)]>0x1&&_0x395f85[_0x395f85[_0x568dbd(0x22d)]-0x1]==='/'?_0x395f85[_0x568dbd(0x1b1)](0x0,-0x1):_0x395f85;},mergePath=(..._0x2e53b8)=>{const _0x36c44c=a0_0x8474;let _0x5dddae='',_0x1b1147=![];for(let _0x492365 of _0x2e53b8){_0x5dddae[_0x5dddae[_0x36c44c(0x22d)]-0x1]==='/'&&(_0x5dddae=_0x5dddae[_0x36c44c(0x1b1)](0x0,-0x1),_0x1b1147=!![]);_0x492365[0x0]!=='/'&&(_0x492365='/'+_0x492365);if(_0x492365==='/'&&_0x1b1147)_0x5dddae=_0x5dddae+'/';else _0x492365!=='/'&&(_0x5dddae=''+_0x5dddae+_0x492365);_0x492365==='/'&&_0x5dddae===''&&(_0x5dddae='/');}return _0x5dddae;},checkOptionalParameter=_0x222495=>{const _0x5ee9df=a0_0x8474;if(!_0x222495['match'](/\:.+\?$/))return null;const _0x420d35=_0x222495[_0x5ee9df(0x271)]('/'),_0x4e69d0=[];let _0x538838='';return _0x420d35['forEach'](_0x21814b=>{const _0x2857a5=_0x5ee9df;if(_0x21814b!==''&&!/\:/[_0x2857a5(0x16f)](_0x21814b))_0x538838+='/'+_0x21814b;else{if(/\:/['test'](_0x21814b)){if(/\?/[_0x2857a5(0x16f)](_0x21814b)){_0x4e69d0['length']===0x0&&_0x538838===''?_0x4e69d0[_0x2857a5(0x268)]('/'):_0x4e69d0[_0x2857a5(0x268)](_0x538838);const _0x3f6aaa=_0x21814b[_0x2857a5(0x2c1)]('?','');_0x538838+='/'+_0x3f6aaa,_0x4e69d0['push'](_0x538838);}else _0x538838+='/'+_0x21814b;}}}),_0x4e69d0[_0x5ee9df(0x218)]((_0x381752,_0x4e45cd,_0xf9a5b1)=>_0xf9a5b1[_0x5ee9df(0x1ac)](_0x381752)===_0x4e45cd);},_decodeURI=_0x300ea6=>{const _0x57e572=a0_0x8474;if(!/[%+]/[_0x57e572(0x16f)](_0x300ea6))return _0x300ea6;return _0x300ea6[_0x57e572(0x1ac)]('+')!==-0x1&&(_0x300ea6=_0x300ea6[_0x57e572(0x2c1)](/\+/g,'\x20')),/%/[_0x57e572(0x16f)](_0x300ea6)?decodeURIComponent_(_0x300ea6):_0x300ea6;},_getQueryParam=(_0x500ddc,_0x322e12,_0xba4a4b)=>{const _0x4759da=a0_0x8474;let _0x235102;if(!_0xba4a4b&&_0x322e12&&!/[%+]/[_0x4759da(0x16f)](_0x322e12)){let _0x418fc3=_0x500ddc[_0x4759da(0x1ac)]('?'+_0x322e12,0x8);_0x418fc3===-0x1&&(_0x418fc3=_0x500ddc['indexOf']('&'+_0x322e12,0x8));while(_0x418fc3!==-0x1){const _0x4e80af=_0x500ddc['charCodeAt'](_0x418fc3+_0x322e12[_0x4759da(0x22d)]+0x1);if(_0x4e80af===0x3d){const _0x3f906e=_0x418fc3+_0x322e12[_0x4759da(0x22d)]+0x2,_0x27692b=_0x500ddc['indexOf']('&',_0x3f906e);return _decodeURI(_0x500ddc[_0x4759da(0x1b1)](_0x3f906e,_0x27692b===-0x1?void 0x0:_0x27692b));}else{if(_0x4e80af==0x26||isNaN(_0x4e80af))return'';}_0x418fc3=_0x500ddc[_0x4759da(0x1ac)]('&'+_0x322e12,_0x418fc3+0x1);}_0x235102=/[%+]/[_0x4759da(0x16f)](_0x500ddc);if(!_0x235102)return void 0x0;}const _0x4b5e87={};_0x235102??(_0x235102=/[%+]/[_0x4759da(0x16f)](_0x500ddc));let _0x31149c=_0x500ddc['indexOf']('?',0x8);while(_0x31149c!==-0x1){const _0x20d61f=_0x500ddc[_0x4759da(0x1ac)]('&',_0x31149c+0x1);let _0x56e7a2=_0x500ddc['indexOf']('=',_0x31149c);_0x56e7a2>_0x20d61f&&_0x20d61f!==-0x1&&(_0x56e7a2=-0x1);let _0xa5a79a=_0x500ddc['slice'](_0x31149c+0x1,_0x56e7a2===-0x1?_0x20d61f===-0x1?void 0x0:_0x20d61f:_0x56e7a2);_0x235102&&(_0xa5a79a=_decodeURI(_0xa5a79a));_0x31149c=_0x20d61f;if(_0xa5a79a==='')continue;let _0x522fc4;_0x56e7a2===-0x1?_0x522fc4='':(_0x522fc4=_0x500ddc['slice'](_0x56e7a2+0x1,_0x20d61f===-0x1?void 0x0:_0x20d61f),_0x235102&&(_0x522fc4=_decodeURI(_0x522fc4)));if(_0xba4a4b){!(_0x4b5e87[_0xa5a79a]&&Array[_0x4759da(0x295)](_0x4b5e87[_0xa5a79a]))&&(_0x4b5e87[_0xa5a79a]=[]);;_0x4b5e87[_0xa5a79a][_0x4759da(0x268)](_0x522fc4);}else _0x4b5e87[_0xa5a79a]??(_0x4b5e87[_0xa5a79a]=_0x522fc4);}return _0x322e12?_0x4b5e87[_0x322e12]:_0x4b5e87;},getQueryParam=_getQueryParam,getQueryParams=(_0xe88670,_0x135231)=>{return _getQueryParam(_0xe88670,_0x135231,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x2eabf8,_0x4edfb5)=>{const _0x3182d9=a0_0x8474,_0x240a3c=_0x2eabf8[_0x3182d9(0x176)]()[_0x3182d9(0x271)](';');return _0x240a3c['reduce']((_0x8d51cc,_0x4d2b95)=>{const _0x380f80=_0x3182d9;_0x4d2b95=_0x4d2b95[_0x380f80(0x176)]();const _0x445656=_0x4d2b95[_0x380f80(0x1ac)]('=');if(_0x445656===-0x1)return _0x8d51cc;const _0x334b4c=_0x4d2b95['substring'](0x0,_0x445656)[_0x380f80(0x176)]();if(_0x4edfb5&&_0x4edfb5!==_0x334b4c||!validCookieNameRegEx['test'](_0x334b4c))return _0x8d51cc;let _0x2e9f54=_0x4d2b95[_0x380f80(0x16b)](_0x445656+0x1)[_0x380f80(0x176)]();return _0x2e9f54['startsWith']('\x22')&&_0x2e9f54[_0x380f80(0x228)]('\x22')&&(_0x2e9f54=_0x2e9f54[_0x380f80(0x1b1)](0x1,-0x1)),validCookieValueRegEx['test'](_0x2e9f54)&&(_0x8d51cc[_0x334b4c]=decodeURIComponent_(_0x2e9f54)),_0x8d51cc;},{});},_serialize=(_0x24dde9,_0x5258af,_0x3f62d5={})=>{const _0x9508f8=a0_0x8474;let _0x239d23=_0x24dde9+'='+_0x5258af;return _0x3f62d5&&typeof _0x3f62d5[_0x9508f8(0x165)]===_0x9508f8(0x246)&&_0x3f62d5['maxAge']>=0x0&&(_0x239d23+=_0x9508f8(0x2d9)+Math[_0x9508f8(0x243)](_0x3f62d5['maxAge'])),_0x3f62d5['domain']&&(_0x239d23+=_0x9508f8(0x1c3)+_0x3f62d5[_0x9508f8(0x29b)]),_0x3f62d5['path']&&(_0x239d23+=_0x9508f8(0x238)+_0x3f62d5[_0x9508f8(0x196)]),_0x3f62d5[_0x9508f8(0x1a8)]&&(_0x239d23+=_0x9508f8(0x285)+_0x3f62d5[_0x9508f8(0x1a8)]['toUTCString']()),_0x3f62d5[_0x9508f8(0x18f)]&&(_0x239d23+=_0x9508f8(0x25a)),_0x3f62d5[_0x9508f8(0x182)]&&(_0x239d23+=_0x9508f8(0x16c)),_0x3f62d5['sameSite']&&(_0x239d23+=';\x20SameSite='+_0x3f62d5[_0x9508f8(0x25d)]),_0x3f62d5['partitioned']&&(_0x239d23+=';\x20Partitioned'),_0x239d23;},serialize=(_0x4ffde8,_0x22199c,_0x109877={})=>{return _0x22199c=encodeURIComponent(_0x22199c),_serialize(_0x4ffde8,_0x22199c,_0x109877);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0x2f8eca,_0x3d1d67)=>{const _0xf1df16=a0_0x8474,_0x86634f=new String(_0x2f8eca);return _0x86634f[_0xf1df16(0x19c)]=!![],_0x86634f[_0xf1df16(0x16d)]=_0x3d1d67,_0x86634f;},resolveCallback=async(_0xd1013,_0x6ccd3f,_0x51d506,_0x537adf,_0x57cfdf)=>{const _0x4183c4=a0_0x8474,_0x2a721a=_0xd1013[_0x4183c4(0x16d)];if(!_0x2a721a?.['length'])return Promise[_0x4183c4(0x267)](_0xd1013);_0x57cfdf?_0x57cfdf[0x0]+=_0xd1013:_0x57cfdf=[_0xd1013];const _0x5025cb=Promise['all'](_0x2a721a['map'](_0x1ed3b7=>_0x1ed3b7({'phase':_0x6ccd3f,'buffer':_0x57cfdf,'context':_0x537adf})))['then'](_0x6d8527=>Promise['all'](_0x6d8527[_0x4183c4(0x218)](Boolean)[_0x4183c4(0x257)](_0x10cfac=>resolveCallback(_0x10cfac,_0x6ccd3f,![],_0x537adf,_0x57cfdf)))[_0x4183c4(0x245)](()=>_0x57cfdf[0x0]));return _0x51d506?raw(await _0x5025cb,_0x2a721a):_0x5025cb;},StreamingApi=class{constructor(_0x164cf1,_0x1d62b4){const _0x3d800c=a0_0x8474;this['abortSubscribers']=[],this[_0x3d800c(0x1c8)]=_0x164cf1,this[_0x3d800c(0x208)]=_0x164cf1[_0x3d800c(0x20e)](),this['encoder']=new TextEncoder();const _0x484ce6=_0x1d62b4[_0x3d800c(0x1b3)]();this[_0x3d800c(0x1e8)]=new ReadableStream({async 'pull'(_0x1d3fd7){const _0x321f20=_0x3d800c,{done:_0x79a15,value:_0x36c9f6}=await _0x484ce6['read']();_0x79a15?_0x1d3fd7[_0x321f20(0x26f)]():_0x1d3fd7[_0x321f20(0x1cc)](_0x36c9f6);},'cancel':()=>{this['abortSubscribers']['forEach'](_0x154538=>_0x154538());}});}async[a0_0x1566c6(0x1ff)](_0x16d98b){const _0x1bbac9=a0_0x1566c6;try{typeof _0x16d98b===_0x1bbac9(0x2ba)&&(_0x16d98b=this[_0x1bbac9(0x19e)]['encode'](_0x16d98b)),await this[_0x1bbac9(0x208)][_0x1bbac9(0x1ff)](_0x16d98b);}catch(_0xcfb0c3){}return this;}async[a0_0x1566c6(0x258)](_0xb3ad0f){const _0x33f14e=a0_0x1566c6;return await this[_0x33f14e(0x1ff)](_0xb3ad0f+'\x0a'),this;}[a0_0x1566c6(0x1a4)](_0x1e7c0c){return new Promise(_0x4fd3ae=>setTimeout(_0x4fd3ae,_0x1e7c0c));}async[a0_0x1566c6(0x26f)](){const _0x1303f3=a0_0x1566c6;try{await this[_0x1303f3(0x208)][_0x1303f3(0x26f)]();}catch(_0x474e14){}}async[a0_0x1566c6(0x2bd)](_0x4f90a9){const _0x21c19d=a0_0x1566c6;this[_0x21c19d(0x208)][_0x21c19d(0x199)](),await _0x4f90a9[_0x21c19d(0x17f)](this[_0x21c19d(0x1c8)],{'preventClose':!![]}),this[_0x21c19d(0x208)]=this[_0x21c19d(0x1c8)]['getWriter']();}async['onAbort'](_0x3d6d72){const _0x42b02d=a0_0x1566c6;this[_0x42b02d(0x275)][_0x42b02d(0x268)](_0x3d6d72);}},__accessCheck=(_0x3ca838,_0xcbce0,_0x1a22d9)=>{const _0xe343c3=a0_0x1566c6;if(!_0xcbce0[_0xe343c3(0x174)](_0x3ca838))throw TypeError(_0xe343c3(0x177)+_0x1a22d9);},__privateGet=(_0x2b5e9e,_0x24d6f3,_0x22e3f4)=>{const _0x276190=a0_0x1566c6;return __accessCheck(_0x2b5e9e,_0x24d6f3,_0x276190(0x1a5)),_0x22e3f4?_0x22e3f4[_0x276190(0x1a7)](_0x2b5e9e):_0x24d6f3[_0x276190(0x291)](_0x2b5e9e);},__privateAdd=(_0x4c6848,_0x186b33,_0x199d1b)=>{const _0x62407a=a0_0x1566c6;if(_0x186b33[_0x62407a(0x174)](_0x4c6848))throw TypeError(_0x62407a(0x276));_0x186b33 instanceof WeakSet?_0x186b33[_0x62407a(0x2d4)](_0x4c6848):_0x186b33[_0x62407a(0x250)](_0x4c6848,_0x199d1b);},__privateSet=(_0x517d61,_0x4e9b32,_0xc735cb,_0x374f98)=>{const _0x4c5338=a0_0x1566c6;return __accessCheck(_0x517d61,_0x4e9b32,_0x4c5338(0x248)),_0x374f98?_0x374f98['call'](_0x517d61,_0xc735cb):_0x4e9b32[_0x4c5338(0x250)](_0x517d61,_0xc735cb),_0xc735cb;},TEXT_PLAIN=a0_0x1566c6(0x278),setHeaders=(_0x3f48b6,_0x241366={})=>{const _0x2877cd=a0_0x1566c6;return Object[_0x2877cd(0x27f)](_0x241366)[_0x2877cd(0x2a3)](([_0x399259,_0x219526])=>_0x3f48b6['set'](_0x399259,_0x219526)),_0x3f48b6;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x20608e,_0x49fbab){const _0x9c4384=a0_0x1566c6;this['env']={},this['_var']={},this[_0x9c4384(0x1e0)]=![],this[_0x9c4384(0x299)]=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this[_0x9c4384(0x24b)]=_0x25e175=>this[_0x9c4384(0x1a2)](_0x25e175),this[_0x9c4384(0x1b7)]=()=>new Response(),this[_0x9c4384(0x179)]=(..._0x31f133)=>this[_0x9c4384(0x24b)](..._0x31f133),this['setRenderer']=_0x1981f0=>{const _0x8d9450=_0x9c4384;this[_0x8d9450(0x24b)]=_0x1981f0;},this[_0x9c4384(0x215)]=(_0x52826c,_0x6dbfb2,_0x1fcd22)=>{const _0x41d347=_0x9c4384;if(_0x6dbfb2===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)[_0x41d347(0x236)](_0x52826c);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x52826c[_0x41d347(0x29e)]()];this[_0x41d347(0x1e0)]&&this[_0x41d347(0x2a9)][_0x41d347(0x2a7)][_0x41d347(0x236)](_0x52826c);return;}_0x1fcd22?.[_0x41d347(0x2d2)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)[_0x41d347(0x2d2)](_0x52826c,_0x6dbfb2)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x41d347(0x250)](_0x52826c,_0x6dbfb2):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x52826c[_0x41d347(0x1d0)]()]=_0x6dbfb2),this[_0x41d347(0x1e0)]&&(_0x1fcd22?.['append']?this[_0x41d347(0x2a9)][_0x41d347(0x2a7)][_0x41d347(0x2d2)](_0x52826c,_0x6dbfb2):this[_0x41d347(0x2a9)]['headers'][_0x41d347(0x250)](_0x52826c,_0x6dbfb2));},this['status']=_0x508d7a=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x508d7a);},this['set']=(_0x409814,_0x5b07ea)=>{const _0x11820c=_0x9c4384;this['_var']??(this['_var']={}),this[_0x11820c(0x244)][_0x409814]=_0x5b07ea;},this[_0x9c4384(0x291)]=_0x40c8fe=>{const _0x488bd1=_0x9c4384;return this['_var']?this[_0x488bd1(0x244)][_0x40c8fe]:void 0x0;},this['newResponse']=(_0x35099e,_0x5ba219,_0x36ef07)=>{const _0x290278=_0x9c4384;if(__privateGet(this,_isFresh)&&!_0x36ef07&&!_0x5ba219&&__privateGet(this,_status)===0xc8)return new Response(_0x35099e,{'headers':__privateGet(this,_preparedHeaders)});if(_0x5ba219&&typeof _0x5ba219!==_0x290278(0x246)){const _0x3a91d5=setHeaders(new Headers(_0x5ba219[_0x290278(0x2a7)]),__privateGet(this,_preparedHeaders));return new Response(_0x35099e,{'headers':_0x3a91d5,'status':_0x5ba219[_0x290278(0x252)]});}const _0xf4340=typeof _0x5ba219==='number'?_0x5ba219:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)[_0x290278(0x2a7)][_0x290278(0x2a3)]((_0x18360e,_0x38eb6e)=>{const _0x4878f3=_0x290278;__privateGet(this,_headers)?.[_0x4878f3(0x250)](_0x38eb6e,_0x18360e);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x36ef07??(_0x36ef07={});for(const [_0x238854,_0x1348ec]of Object[_0x290278(0x27f)](_0x36ef07)){if(typeof _0x1348ec==='string')__privateGet(this,_headers)['set'](_0x238854,_0x1348ec);else{__privateGet(this,_headers)[_0x290278(0x236)](_0x238854);for(const _0x1f1e3d of _0x1348ec){__privateGet(this,_headers)[_0x290278(0x2d2)](_0x238854,_0x1f1e3d);}}}return new Response(_0x35099e,{'status':_0xf4340,'headers':__privateGet(this,_headers)});},this['body']=(_0x168ba2,_0x49a732,_0x560e82)=>{const _0x1e1cfe=_0x9c4384;return typeof _0x49a732===_0x1e1cfe(0x246)?this[_0x1e1cfe(0x26e)](_0x168ba2,_0x49a732,_0x560e82):this[_0x1e1cfe(0x26e)](_0x168ba2,_0x49a732);},this[_0x9c4384(0x1df)]=(_0x51fdf2,_0x53fbcd,_0x57947a)=>{const _0x279b05=_0x9c4384;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0x57947a&&!_0x53fbcd)return new Response(_0x51fdf2);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)[_0x279b05(0x29a)]=TEXT_PLAIN,typeof _0x53fbcd===_0x279b05(0x246)?this[_0x279b05(0x26e)](_0x51fdf2,_0x53fbcd,_0x57947a):this[_0x279b05(0x26e)](_0x51fdf2,_0x53fbcd);},this[_0x9c4384(0x220)]=(_0x36f27a,_0x470cf8,_0x13831a)=>{const _0x197e78=_0x9c4384,_0x55b339=JSON[_0x197e78(0x293)](_0x36f27a);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x197e78(0x29a)]=_0x197e78(0x1e6),typeof _0x470cf8===_0x197e78(0x246)?this[_0x197e78(0x26e)](_0x55b339,_0x470cf8,_0x13831a):this['newResponse'](_0x55b339,_0x470cf8);},this[_0x9c4384(0x23e)]=(_0x4cbfb6,_0x4c7c1c,_0x1298d4)=>{const _0x1b3dc6=_0x9c4384;return this[_0x1b3dc6(0x220)](_0x4cbfb6,_0x4c7c1c,_0x1298d4);},this[_0x9c4384(0x1a2)]=(_0x37f7d7,_0x5b33b6,_0x45386d)=>{const _0x1139a9=_0x9c4384;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)['content-type']=_0x1139a9(0x240);if(typeof _0x37f7d7===_0x1139a9(0x27c)){!(_0x37f7d7 instanceof Promise)&&(_0x37f7d7=_0x37f7d7[_0x1139a9(0x249)]());if(_0x37f7d7 instanceof Promise)return _0x37f7d7['then'](_0xb2896=>resolveCallback(_0xb2896,HtmlEscapedCallbackPhase[_0x1139a9(0x173)],![],{}))['then'](_0x78ac53=>{const _0x13a405=_0x1139a9;return typeof _0x5b33b6===_0x13a405(0x246)?this[_0x13a405(0x26e)](_0x78ac53,_0x5b33b6,_0x45386d):this['newResponse'](_0x78ac53,_0x5b33b6);});}return typeof _0x5b33b6===_0x1139a9(0x246)?this[_0x1139a9(0x26e)](_0x37f7d7,_0x5b33b6,_0x45386d):this[_0x1139a9(0x26e)](_0x37f7d7,_0x5b33b6);},this[_0x9c4384(0x20d)]=(_0x28ea4c,_0x481efa=0x12e)=>{const _0x2a4816=_0x9c4384;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0x2a4816(0x250)]('Location',_0x28ea4c),this[_0x2a4816(0x26e)](null,_0x481efa);},this[_0x9c4384(0x231)]=(_0x367720,_0x506c46,_0x153588)=>{const _0x3b03a0=_0x9c4384;return _0x153588??(_0x153588={}),this[_0x3b03a0(0x215)]('content-type',TEXT_PLAIN),this[_0x3b03a0(0x215)](_0x3b03a0(0x26a),_0x3b03a0(0x195)),this[_0x3b03a0(0x215)](_0x3b03a0(0x2d6),_0x3b03a0(0x189)),this[_0x3b03a0(0x175)](_0x367720,_0x506c46,_0x153588);},this['stream']=(_0x1521c0,_0x5a604d,_0xbb8ab1)=>{const _0x4a801f=_0x9c4384,{readable:_0x2d1a4b,writable:_0x3f535e}=new TransformStream(),_0xfdca72=new StreamingApi(_0x3f535e,_0x2d1a4b);return _0x1521c0(_0xfdca72)[_0x4a801f(0x232)](()=>_0xfdca72[_0x4a801f(0x26f)]()),typeof _0x5a604d===_0x4a801f(0x246)?this[_0x4a801f(0x26e)](_0xfdca72[_0x4a801f(0x1e8)],_0x5a604d,_0xbb8ab1):this['newResponse'](_0xfdca72[_0x4a801f(0x1e8)],_0x5a604d);},this[_0x9c4384(0x2a5)]=(_0x94629f,_0x1898d3,_0x2689b8)=>{const _0x5166f6=_0x9c4384,_0x574193=serialize(_0x94629f,_0x1898d3,_0x2689b8);this[_0x5166f6(0x215)](_0x5166f6(0x24e),_0x574193,{'append':!![]});},this[_0x9c4384(0x1bb)]=()=>{const _0x2635c0=_0x9c4384;return this[_0x2635c0(0x1b7)](this);},this[_0x9c4384(0x1e9)]=_0x20608e,_0x49fbab&&(__privateSet(this,_executionCtx,_0x49fbab[_0x9c4384(0x169)]),this[_0x9c4384(0x261)]=_0x49fbab[_0x9c4384(0x261)],_0x49fbab[_0x9c4384(0x1b7)]&&(this[_0x9c4384(0x1b7)]=_0x49fbab[_0x9c4384(0x1b7)]));}get[a0_0x1566c6(0x281)](){const _0x1500f8=a0_0x1566c6;if(__privateGet(this,_executionCtx)&&_0x1500f8(0x2c7)in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x1500f8(0x2d3));}get[a0_0x1566c6(0x169)](){if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error('This\x20context\x20has\x20no\x20ExecutionContext');}get[a0_0x1566c6(0x2a9)](){return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response('404\x20Not\x20Found',{'status':0x194}));}set['res'](_0x33e30e){const _0x12997e=a0_0x1566c6;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x33e30e){__privateGet(this,_res)[_0x12997e(0x2a7)][_0x12997e(0x236)](_0x12997e(0x29a));for(const [_0x3938dc,_0x4ba083]of __privateGet(this,_res)[_0x12997e(0x2a7)][_0x12997e(0x27f)]()){if(_0x3938dc===_0x12997e(0x24e)){const _0x6c04f4=__privateGet(this,_res)[_0x12997e(0x2a7)]['getSetCookie']();_0x33e30e[_0x12997e(0x2a7)][_0x12997e(0x236)]('set-cookie');for(const _0x3172dd of _0x6c04f4){_0x33e30e[_0x12997e(0x2a7)]['append']('set-cookie',_0x3172dd);}}else _0x33e30e['headers']['set'](_0x3938dc,_0x4ba083);}}__privateSet(this,_res,_0x33e30e),this[_0x12997e(0x1e0)]=!![];}get['var'](){return{...this['_var']};}get[a0_0x1566c6(0x22b)](){const _0x33cfff=a0_0x1566c6,_0x254b77=globalThis;if(_0x254b77?.[_0x33cfff(0x1f0)]!==void 0x0)return _0x33cfff(0x24f);if(_0x254b77?.[_0x33cfff(0x2bb)]!==void 0x0)return'bun';if(typeof _0x254b77?.['WebSocketPair']==='function')return _0x33cfff(0x2b4);if(typeof _0x254b77?.[_0x33cfff(0x217)]==='string')return _0x33cfff(0x2c2);if(_0x254b77?.[_0x33cfff(0x18e)]!==void 0x0)return _0x33cfff(0x18e);if(_0x254b77?.['__lagon__']!==void 0x0)return _0x33cfff(0x168);if(_0x254b77?.['process']?.['release']?.['name']===_0x33cfff(0x2c4))return'node';return _0x33cfff(0x2b5);}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x165cdf,_0x32380b,_0x5b71c4)=>{return(_0x23432f,_0x370b67)=>{let _0x4ba820=-0x1;return _0x1847a1(0x0);async function _0x1847a1(_0x55e456){const _0xdb9f3c=a0_0x8474;if(_0x55e456<=_0x4ba820)throw new Error(_0xdb9f3c(0x1ea));_0x4ba820=_0x55e456;let _0x3cc3c6,_0x1013a0=![],_0x1b7488;_0x165cdf[_0x55e456]?(_0x1b7488=_0x165cdf[_0x55e456][0x0][0x0],_0x23432f instanceof Context&&(_0x23432f[_0xdb9f3c(0x1e9)]['routeIndex']=_0x55e456)):_0x1b7488=_0x55e456===_0x165cdf[_0xdb9f3c(0x22d)]&&_0x370b67||void 0x0;if(!_0x1b7488)_0x23432f instanceof Context&&_0x23432f[_0xdb9f3c(0x1e0)]===![]&&_0x5b71c4&&(_0x3cc3c6=await _0x5b71c4(_0x23432f));else try{_0x3cc3c6=await _0x1b7488(_0x23432f,()=>{return _0x1847a1(_0x55e456+0x1);});}catch(_0x6bdcf3){if(_0x6bdcf3 instanceof Error&&_0x23432f instanceof Context&&_0x32380b)_0x23432f['error']=_0x6bdcf3,_0x3cc3c6=await _0x32380b(_0x6bdcf3,_0x23432f),_0x1013a0=!![];else throw _0x6bdcf3;}return _0x3cc3c6&&(_0x23432f[_0xdb9f3c(0x1e0)]===![]||_0x1013a0)&&(_0x23432f[_0xdb9f3c(0x2a9)]=_0x3cc3c6),_0x23432f;}};},HTTPException=class extends Error{constructor(_0x3e5803=0x1f4,_0x307406){const _0x1bdcd2=a0_0x1566c6;super(_0x307406?.[_0x1bdcd2(0x183)]),this['res']=_0x307406?.['res'],this[_0x1bdcd2(0x252)]=_0x3e5803;}[a0_0x1566c6(0x17e)](){const _0x11c878=a0_0x1566c6;if(this[_0x11c878(0x2a9)])return this[_0x11c878(0x2a9)];return new Response(this['message'],{'status':this[_0x11c878(0x252)]});}},parseBody=async(_0x9d754e,_0x24a568={'all':![]})=>{const _0x3947a3=a0_0x1566c6,_0x23247a=_0x9d754e[_0x3947a3(0x2a7)][_0x3947a3(0x291)](_0x3947a3(0x2a4));if(isFormDataContent(_0x23247a))return parseFormData(_0x9d754e,_0x24a568);return{};};function isFormDataContent(_0x141556){const _0xf8d640=a0_0x1566c6;if(_0x141556===null)return![];return _0x141556[_0xf8d640(0x269)](_0xf8d640(0x2cd))||_0x141556[_0xf8d640(0x269)](_0xf8d640(0x1c1));}async function parseFormData(_0x12881d,_0x5937cf){const _0x198a75=a0_0x1566c6,_0x2030fe=await _0x12881d[_0x198a75(0x2a1)]();if(_0x2030fe)return convertFormDataToBodyData(_0x2030fe,_0x5937cf);return{};}function convertFormDataToBodyData(_0x1ae5be,_0x5d329d){const _0x3ad120=a0_0x1566c6,_0x4d3ae6={};return _0x1ae5be[_0x3ad120(0x2a3)]((_0x2cdbdf,_0x40ffef)=>{const _0xf3d6c2=_0x3ad120,_0x3b00f3=_0x5d329d[_0xf3d6c2(0x229)]||_0x40ffef[_0xf3d6c2(0x228)]('[]');!_0x3b00f3?_0x4d3ae6[_0x40ffef]=_0x2cdbdf:handleParsingAllValues(_0x4d3ae6,_0x40ffef,_0x2cdbdf);}),_0x4d3ae6;}var handleParsingAllValues=(_0x58850b,_0x58661b,_0x194afd)=>{if(_0x58850b[_0x58661b]&&isArrayField(_0x58850b[_0x58661b]))appendToExistingArray(_0x58850b[_0x58661b],_0x194afd);else _0x58850b[_0x58661b]?convertToNewArray(_0x58850b,_0x58661b,_0x194afd):_0x58850b[_0x58661b]=_0x194afd;};function a0_0x43f6(){const _0x18aa5d=['Host','headers','auth_token=','res','Expired','digest','valid','buildMatcher','param','keys','encode','routeIndex','repeat','uuid','workerd','other','query','&quot;','padStart','onError','string','Bun','/ws','pipe','camera=(),\x20microphone=()','routerName','http://localhost','replace','edge-light','Permissions-Policy','node','2170824INjbVm','Unlimited','respondWith','/admin/api/users/:uuid','traffic_used','routePath','bodyCache','SHA-256','multipart/form-data','Must\x20upgrade\x20to\x20WebSocket','fire','data','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','append','This\x20context\x20has\x20no\x20FetchEvent','add','count','transfer-encoding','text/plain;charset=utf-8','https://',';\x20Max-Age=','ALL','maxAge','expiration_time','prepare','lagon','executionCtx',':00','substring',';\x20Secure','callbacks','children','test','/login','IP\x20limit\x20exceeded','unknown','Stringify','has','stream','trim','Cannot\x20','Set-Cookie','render','route','method','from','accept','getResponse','pipeTo','name','Missing\x20fields','secure','message','function','batch','body','&amp;','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','chunked','bind','blob','Missing\x20date/time','UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?','fastly','httpOnly','request','search','(?:|/.*)','SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users','&#39;','nosniff','path','getParamValue','\x1b[0m\x20','releaseLock','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','log','isEscaped','ACK','encoder','params','put','expiration_date','html','getDecodedParam','sleep','read\x20from\x20private\x20field','getUint8','call','expires','context','&path=/ws#singbox','initial\x20header\x20parse\x20error','indexOf','344984hxHIxK','sum','showRoutes','order','slice','url','getReader','INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)','Parse\x20error','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','notFoundHandler','score','Admin\x20not\x20configured','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','notFound','addRoute','Cookie','send','443','insert','application/x-www-form-urlencoded','&lt;',';\x20Domain=','integrity','possibleKeys','Authentication\x20failed','clone','writable','send\x20ack\x20failed','head','run','enqueue','queries','Fatal\x20error','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','toLowerCase','example.com','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22','password','ip_port','/admin/logout','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','\x0a</body></html>','abort','getPath','signal','now','flush\x20on\x20close\x20failed','55528MwiWUm','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)','text','finalized','Forbidden','/admin/api/stats','strict-origin-when-cross-origin','WASM\x20module\x20not\x20available\x20at\x20runtime:','constructor','application/json;\x20charset=UTF-8','Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.','responseReadable','req','next()\x20called\x20multiple\x20times','invalid','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','(((.+)+)+)+$','message\x20handler\x20error','assign','Deno','shift','patch','\x1b[32m','gHSets','ip_limit','warn','\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20','basePath','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>','subtle','/api/user/:uuid/stats','&gt;','parseBody','2867544vJZzWF','write','flush\x20usage\x20error','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','admin\x20session\x20store\x20failed','match','options','dispatch','toUpperCase','keepalive','writer','default','1246890cikasR','bodyUsed','</p>','redirect','getWriter','undefined','/admin','round','handler','arrayBuffer','first','header','/static/*','EdgeRuntime','filter','ensureTablesExist\x20failed','Internal\x20error','/admin/api/users','post','websocket','RegExpRouter','not\x20found','json','middleware','waitUntil','getTime','root','buildRegExp','addEventListener','/xray/:uuid','endsWith','all','parsedBody','runtime','INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)','length','user_ip\x20upsert\x20failed','PROXYIPS','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','streamText','finally','Internal\x20Server\x20Error','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)','_basePath','delete','getAllDecodedParams',';\x20Path=','values','buildAllMatchers','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/',',\x20traffic_used\x20=\x200','SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC','jsonT','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','text/html;\x20charset=UTF-8','SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','/sb/','floor','_var','then','number','cachedBody','write\x20to\x20private\x20field','toString',':443?type=ws&host=','renderer','varIndex','handleError','set-cookie','deno','set','methods','status','/admin/api/health-check','ADMIN_KEY','sort','index','map','writeln','raw',';\x20HttpOnly','text/html;charset=utf-8','activeRouter','sameSite','parse_vless_header','handleEvent','SmartRouter','env','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22','\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20','flushUsage\x20outer',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','vless://','resolve','push','startsWith','x-content-type-options','upgrade','/:uuid','unshift','newResponse','close','fetch','split','CF-Connecting-IP','matchRoute','Invalid\x20UUID','abortSubscribers','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','No\x20active\x20router\x20has\x20been\x20determined\x20yet.','text/plain;\x20charset=UTF-8','372443sWzBnN','speed.cloudflare.com:443','DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','object','wasm\x20init\x20skipped','ip_limit\x20check\x20err','entries','composedHandler','event','x-forwarded-for','GET','auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict',';\x20Expires=','byteLength','strict','patterns','traffic_limit','routes','Invalid','token_hash','some','routers','./rust/pkg/vless_parser.js','(?:','get','809136ZoAaIA','stringify','join','isArray','\x20WHERE\x20uuid\x20=\x20?','errorHandler','toISOString','error','content-type','domain','404\x20Not\x20Found','7Yagery','toLocaleLowerCase','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','flat','formData','router','forEach','Content-Type','cookie'];a0_0x43f6=function(){return _0x18aa5d;};return a0_0x43f6();}function isArrayField(_0x574de1){const _0x281a13=a0_0x1566c6;return Array[_0x281a13(0x295)](_0x574de1);}var appendToExistingArray=(_0xd45d08,_0x201938)=>{const _0x176b23=a0_0x1566c6;_0xd45d08[_0x176b23(0x268)](_0x201938);},convertToNewArray=(_0xa6a1c4,_0x4f3969,_0x1e78da)=>{_0xa6a1c4[_0x4f3969]=[_0xa6a1c4[_0x4f3969],_0x1e78da];},__accessCheck2=(_0x3e7655,_0x11fd18,_0x12777b)=>{const _0x10a38f=a0_0x1566c6;if(!_0x11fd18[_0x10a38f(0x174)](_0x3e7655))throw TypeError(_0x10a38f(0x177)+_0x12777b);},__privateGet2=(_0x2ad834,_0x3fdcc7,_0x2a4eab)=>{const _0x1c50d9=a0_0x1566c6;return __accessCheck2(_0x2ad834,_0x3fdcc7,_0x1c50d9(0x1a5)),_0x2a4eab?_0x2a4eab[_0x1c50d9(0x1a7)](_0x2ad834):_0x3fdcc7[_0x1c50d9(0x291)](_0x2ad834);},__privateAdd2=(_0x13171e,_0x58c870,_0x656b6f)=>{const _0x3c3900=a0_0x1566c6;if(_0x58c870[_0x3c3900(0x174)](_0x13171e))throw TypeError('Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once');_0x58c870 instanceof WeakSet?_0x58c870[_0x3c3900(0x2d4)](_0x13171e):_0x58c870['set'](_0x13171e,_0x656b6f);},__privateSet2=(_0x166d34,_0x372ee3,_0x4429df,_0x1fe7e2)=>{const _0x55f317=a0_0x1566c6;return __accessCheck2(_0x166d34,_0x372ee3,'write\x20to\x20private\x20field'),_0x1fe7e2?_0x1fe7e2[_0x55f317(0x1a7)](_0x166d34,_0x4429df):_0x372ee3[_0x55f317(0x250)](_0x166d34,_0x4429df),_0x4429df;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x16681c,_0x3e031c='/',_0x2f0984=[[]]){const _0x9a6c5=a0_0x1566c6;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this[_0x9a6c5(0x2b1)]=0x0,this[_0x9a6c5(0x2cb)]={},this[_0x9a6c5(0x247)]=_0x1bce78=>{const {bodyCache:_0x5d3e66,raw:_0x315473}=this,_0x86cb8d=_0x5d3e66[_0x1bce78];if(_0x86cb8d)return _0x86cb8d;if(_0x5d3e66['arrayBuffer'])return((async()=>{return await new Response(_0x5d3e66['arrayBuffer'])[_0x1bce78]();})());return _0x5d3e66[_0x1bce78]=_0x315473[_0x1bce78]();},this[_0x9a6c5(0x259)]=_0x16681c,this[_0x9a6c5(0x196)]=_0x3e031c,__privateSet2(this,_matchResult,_0x2f0984),__privateSet2(this,_validatedData,{});}[a0_0x1566c6(0x2ae)](_0x763fca){const _0x59e697=a0_0x1566c6;return _0x763fca?this[_0x59e697(0x1a3)](_0x763fca):this[_0x59e697(0x237)]();}[a0_0x1566c6(0x1a3)](_0x160137){const _0x526169=a0_0x1566c6,_0x27dc26=__privateGet2(this,_matchResult)[0x0][this[_0x526169(0x2b1)]][0x1][_0x160137],_0x450a83=this['getParamValue'](_0x27dc26);return _0x450a83?/\%/[_0x526169(0x16f)](_0x450a83)?decodeURIComponent_(_0x450a83):_0x450a83:void 0x0;}[a0_0x1566c6(0x237)](){const _0x106b6c=a0_0x1566c6,_0x382597={},_0x3327f7=Object[_0x106b6c(0x2af)](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1]);for(const _0x2a680b of _0x3327f7){const _0x5dab9d=this[_0x106b6c(0x197)](__privateGet2(this,_matchResult)[0x0][this[_0x106b6c(0x2b1)]][0x1][_0x2a680b]);_0x5dab9d&&typeof _0x5dab9d==='string'&&(_0x382597[_0x2a680b]=/\%/[_0x106b6c(0x16f)](_0x5dab9d)?decodeURIComponent_(_0x5dab9d):_0x5dab9d);}return _0x382597;}[a0_0x1566c6(0x197)](_0x150e69){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x150e69]:_0x150e69;}[a0_0x1566c6(0x2b6)](_0x524611){const _0x8a2f6=a0_0x1566c6;return getQueryParam(this[_0x8a2f6(0x1b2)],_0x524611);}[a0_0x1566c6(0x1cd)](_0x776a98){return getQueryParams(this['url'],_0x776a98);}[a0_0x1566c6(0x215)](_0x5c3d4d){const _0x22dcd1=a0_0x1566c6;if(_0x5c3d4d)return this['raw'][_0x22dcd1(0x2a7)][_0x22dcd1(0x291)](_0x5c3d4d[_0x22dcd1(0x1d0)]())??void 0x0;const _0x3fd3e5={};return this[_0x22dcd1(0x259)][_0x22dcd1(0x2a7)][_0x22dcd1(0x2a3)]((_0x1e15f7,_0x11dcf8)=>{_0x3fd3e5[_0x11dcf8]=_0x1e15f7;}),_0x3fd3e5;}[a0_0x1566c6(0x2a5)](_0x1ca83c){const _0x5f1aa=a0_0x1566c6,_0x3f3b9f=this['raw'][_0x5f1aa(0x2a7)][_0x5f1aa(0x291)](_0x5f1aa(0x1bd));if(!_0x3f3b9f)return;const _0x52fbb1=parse(_0x3f3b9f);if(_0x1ca83c){const _0x177eda=_0x52fbb1[_0x1ca83c];return _0x177eda;}else return _0x52fbb1;}async[a0_0x1566c6(0x1fd)](_0xe5d3d5){const _0x7b0a2c=a0_0x1566c6;if(this[_0x7b0a2c(0x2cb)][_0x7b0a2c(0x22a)])return this[_0x7b0a2c(0x2cb)]['parsedBody'];const _0x2b9991=await parseBody(this,_0xe5d3d5);return this['bodyCache'][_0x7b0a2c(0x22a)]=_0x2b9991,_0x2b9991;}['json'](){const _0x31e833=a0_0x1566c6;return this[_0x31e833(0x247)]('json');}[a0_0x1566c6(0x1df)](){const _0x16e1ba=a0_0x1566c6;return this['cachedBody'](_0x16e1ba(0x1df));}['arrayBuffer'](){const _0xed1d02=a0_0x1566c6;return this['cachedBody'](_0xed1d02(0x213));}[a0_0x1566c6(0x18b)](){const _0x1a1c45=a0_0x1566c6;return this['cachedBody'](_0x1a1c45(0x18b));}['formData'](){const _0x4f85a9=a0_0x1566c6;return this['cachedBody'](_0x4f85a9(0x2a1));}['addValidatedData'](_0x36b8be,_0x1711da){__privateGet2(this,_validatedData)[_0x36b8be]=_0x1711da;}[a0_0x1566c6(0x2ac)](_0x3957e9){return __privateGet2(this,_validatedData)[_0x3957e9];}get[a0_0x1566c6(0x1b2)](){return this['raw']['url'];}get[a0_0x1566c6(0x17b)](){return this['raw']['method'];}get['matchedRoutes'](){const _0x48558c=a0_0x1566c6;return __privateGet2(this,_matchResult)[0x0][_0x48558c(0x257)](([[,_0x2d446b]])=>_0x2d446b);}get[a0_0x1566c6(0x2ca)](){const _0x5013af=a0_0x1566c6;return __privateGet2(this,_matchResult)[0x0]['map'](([[,_0x200212]])=>_0x200212)[this[_0x5013af(0x2b1)]][_0x5013af(0x196)];}get[a0_0x1566c6(0x2a7)](){const _0x562c5c=a0_0x1566c6;return this[_0x562c5c(0x259)][_0x562c5c(0x2a7)];}get[a0_0x1566c6(0x186)](){const _0x240b4c=a0_0x1566c6;return this[_0x240b4c(0x259)][_0x240b4c(0x186)];}get[a0_0x1566c6(0x20b)](){return this['raw']['bodyUsed'];}get[a0_0x1566c6(0x1c4)](){const _0xb631b9=a0_0x1566c6;return this[_0xb631b9(0x259)]['integrity'];}get[a0_0x1566c6(0x207)](){const _0x52b345=a0_0x1566c6;return this[_0x52b345(0x259)]['keepalive'];}get['referrer'](){const _0x1e5b0e=a0_0x1566c6;return this[_0x1e5b0e(0x259)]['referrer'];}get[a0_0x1566c6(0x1da)](){const _0x5c6b6e=a0_0x1566c6;return this[_0x5c6b6e(0x259)]['signal'];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0x1566c6(0x2da),METHOD_NAME_ALL_LOWERCASE='all',METHODS=['get',a0_0x1566c6(0x21c),a0_0x1566c6(0x1a0),a0_0x1566c6(0x236),a0_0x1566c6(0x204),a0_0x1566c6(0x1f2)],MESSAGE_MATCHER_IS_ALREADY_BUILT=a0_0x1566c6(0x1e7),UnsupportedPathError=class extends Error{},__accessCheck3=(_0x324afa,_0x26645e,_0x147753)=>{const _0x3f351e=a0_0x1566c6;if(!_0x26645e[_0x3f351e(0x174)](_0x324afa))throw TypeError(_0x3f351e(0x177)+_0x147753);},__privateGet3=(_0x2fb04f,_0x2fbcf8,_0x286f73)=>{const _0x2f8c98=a0_0x1566c6;return __accessCheck3(_0x2fb04f,_0x2fbcf8,_0x2f8c98(0x1a5)),_0x286f73?_0x286f73[_0x2f8c98(0x1a7)](_0x2fb04f):_0x2fbcf8[_0x2f8c98(0x291)](_0x2fb04f);},__privateAdd3=(_0x28ed30,_0x2f74fa,_0x4f3895)=>{const _0x31ce17=a0_0x1566c6;if(_0x2f74fa[_0x31ce17(0x174)](_0x28ed30))throw TypeError('Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once');_0x2f74fa instanceof WeakSet?_0x2f74fa[_0x31ce17(0x2d4)](_0x28ed30):_0x2f74fa[_0x31ce17(0x250)](_0x28ed30,_0x4f3895);},__privateSet3=(_0x4754b3,_0x23c814,_0x2c68e9,_0x357f6f)=>{const _0x6ed5ca=a0_0x1566c6;return __accessCheck3(_0x4754b3,_0x23c814,_0x6ed5ca(0x248)),_0x357f6f?_0x357f6f[_0x6ed5ca(0x1a7)](_0x4754b3,_0x2c68e9):_0x23c814[_0x6ed5ca(0x250)](_0x4754b3,_0x2c68e9),_0x2c68e9;},COMPOSED_HANDLER=Symbol(a0_0x1566c6(0x280));function defineDynamicClass(){return class{};}var notFoundHandler=_0x51178e=>{const _0xbf9ff2=a0_0x1566c6;return _0x51178e[_0xbf9ff2(0x1df)](_0xbf9ff2(0x29c),0x194);},errorHandler=(_0x39260b,_0xfafa22)=>{const _0x269103=a0_0x1566c6;if(_0x39260b instanceof HTTPException)return _0x39260b[_0x269103(0x17e)]();console[_0x269103(0x299)](_0x39260b);const _0xb98884=_0x269103(0x233);return _0xfafa22['text'](_0xb98884,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x15a17d={}){const _0x5df099=a0_0x1566c6;super(),this[_0x5df099(0x235)]='/',__privateAdd3(this,_path,'/'),this[_0x5df099(0x28a)]=[],this[_0x5df099(0x1b7)]=notFoundHandler,this['errorHandler']=errorHandler,this[_0x5df099(0x2b9)]=_0x576656=>{const _0x5877fb=_0x5df099;return this[_0x5877fb(0x297)]=_0x576656,this;},this[_0x5df099(0x1bb)]=_0x246456=>{return this['notFoundHandler']=_0x246456,this;},this[_0x5df099(0x1ca)]=()=>{const _0x445558=_0x5df099;return console[_0x445558(0x1f6)](_0x445558(0x1ec)),this;},this[_0x5df099(0x25f)]=_0x3e986d=>{const _0x6f0d0f=_0x5df099;return this[_0x6f0d0f(0x205)](_0x3e986d[_0x6f0d0f(0x190)],_0x3e986d,void 0x0,_0x3e986d['request'][_0x6f0d0f(0x17b)]);},this['fetch']=(_0x6e47b2,_0x14edf8,_0x452d95)=>{const _0x12fdb9=_0x5df099;return this[_0x12fdb9(0x205)](_0x6e47b2,_0x452d95,_0x14edf8,_0x6e47b2[_0x12fdb9(0x17b)]);},this[_0x5df099(0x190)]=(_0x2be489,_0x399266,_0xe7383d,_0x1cdb75)=>{const _0x1d135a=_0x5df099;if(_0x2be489 instanceof Request)return _0x399266!==void 0x0&&(_0x2be489=new Request(_0x2be489,_0x399266)),this['fetch'](_0x2be489,_0xe7383d,_0x1cdb75);_0x2be489=_0x2be489[_0x1d135a(0x249)]();const _0x13e444=/^https?:\/\//['test'](_0x2be489)?_0x2be489:_0x1d135a(0x2c0)+mergePath('/',_0x2be489),_0x6cf697=new Request(_0x13e444,_0x399266);return this['fetch'](_0x6cf697,_0xe7383d,_0x1cdb75);},this[_0x5df099(0x2cf)]=()=>{const _0x21ea80=_0x5df099;addEventListener(_0x21ea80(0x270),_0x98ad01=>{const _0x2941f8=_0x21ea80;_0x98ad01['respondWith'](this[_0x2941f8(0x205)](_0x98ad01['request'],_0x98ad01,void 0x0,_0x98ad01[_0x2941f8(0x190)][_0x2941f8(0x17b)]));});};const _0x2730a6=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x2730a6[_0x5df099(0x257)](_0x2f3e65=>{this[_0x2f3e65]=(_0x4be3db,..._0x1bf4d4)=>{const _0x36df8b=a0_0x8474;return typeof _0x4be3db==='string'?__privateSet3(this,_path,_0x4be3db):this['addRoute'](_0x2f3e65,__privateGet3(this,_path),_0x4be3db),_0x1bf4d4[_0x36df8b(0x257)](_0x591fb7=>{const _0x3682b7=_0x36df8b;typeof _0x591fb7!==_0x3682b7(0x2ba)&&this['addRoute'](_0x2f3e65,__privateGet3(this,_path),_0x591fb7);}),this;};}),this['on']=(_0x3023d9,_0x1372c1,..._0x24ff9d)=>{const _0x211c3a=_0x5df099;if(!_0x3023d9)return this;__privateSet3(this,_path,_0x1372c1);for(const _0x7e5881 of[_0x3023d9][_0x211c3a(0x2a0)]()){_0x24ff9d['map'](_0x2f84b4=>{const _0x187b54=_0x211c3a;this[_0x187b54(0x1bc)](_0x7e5881[_0x187b54(0x206)](),__privateGet3(this,_path),_0x2f84b4);});}return this;},this['use']=(_0xf91570,..._0x573b42)=>{const _0x3537cd=_0x5df099;return typeof _0xf91570===_0x3537cd(0x2ba)?__privateSet3(this,_path,_0xf91570):_0x573b42[_0x3537cd(0x26d)](_0xf91570),_0x573b42[_0x3537cd(0x257)](_0x138833=>{const _0x23ff53=_0x3537cd;this[_0x23ff53(0x1bc)](METHOD_NAME_ALL,__privateGet3(this,_path),_0x138833);}),this;};const _0x1921d9=_0x15a17d['strict']??!![];delete _0x15a17d[_0x5df099(0x287)],Object[_0x5df099(0x1ef)](this,_0x15a17d),this[_0x5df099(0x1d9)]=_0x1921d9?_0x15a17d['getPath']??getPath:getPathNoStrict;}['clone'](){const _0x221947=a0_0x1566c6,_0x3dc2a9=new _Hono({'router':this[_0x221947(0x2a2)],'getPath':this[_0x221947(0x1d9)]});return _0x3dc2a9[_0x221947(0x28a)]=this[_0x221947(0x28a)],_0x3dc2a9;}[a0_0x1566c6(0x17a)](_0x227ed7,_0x7ccb44){const _0x45dd33=a0_0x1566c6,_0xf16070=this[_0x45dd33(0x1f8)](_0x227ed7);if(!_0x7ccb44)return _0xf16070;return _0x7ccb44[_0x45dd33(0x28a)]['map'](_0x40fdec=>{const _0x1dce4c=_0x45dd33;let _0x1a925b;_0x7ccb44[_0x1dce4c(0x297)]===errorHandler?_0x1a925b=_0x40fdec[_0x1dce4c(0x212)]:(_0x1a925b=async(_0x981cbc,_0x2f6a55)=>(await compose([],_0x7ccb44['errorHandler'])(_0x981cbc,()=>_0x40fdec[_0x1dce4c(0x212)](_0x981cbc,_0x2f6a55)))['res'],_0x1a925b[COMPOSED_HANDLER]=_0x40fdec['handler']),_0xf16070[_0x1dce4c(0x1bc)](_0x40fdec[_0x1dce4c(0x17b)],_0x40fdec[_0x1dce4c(0x196)],_0x1a925b);}),this;}[a0_0x1566c6(0x1f8)](_0x1d4325){const _0x1580cb=a0_0x1566c6,_0x3253d2=this[_0x1580cb(0x1c7)]();return _0x3253d2[_0x1580cb(0x235)]=mergePath(this[_0x1580cb(0x235)],_0x1d4325),_0x3253d2;}[a0_0x1566c6(0x1af)](){const _0xc841f4=a0_0x1566c6,_0x4a6c7c=0x8;this['routes'][_0xc841f4(0x257)](_0x5d4b14=>{const _0x2f9d28=_0xc841f4;console[_0x2f9d28(0x19b)](_0x2f9d28(0x1f3)+_0x5d4b14[_0x2f9d28(0x17b)]+_0x2f9d28(0x198)+'\x20'[_0x2f9d28(0x2b2)](_0x4a6c7c-_0x5d4b14[_0x2f9d28(0x17b)][_0x2f9d28(0x22d)])+'\x20'+_0x5d4b14[_0x2f9d28(0x196)]);});}['mount'](_0x4807e8,_0x307840,_0x2a95b6){const _0x315c4d=a0_0x1566c6,_0x3005b3=mergePath(this[_0x315c4d(0x235)],_0x4807e8),_0xb5f3f0=_0x3005b3==='/'?0x0:_0x3005b3[_0x315c4d(0x22d)],_0x391e7d=async(_0x4ae0e8,_0x51a084)=>{const _0x373bf1=_0x315c4d;let _0x1e8025=void 0x0;try{_0x1e8025=_0x4ae0e8[_0x373bf1(0x169)];}catch{}const _0x7e3008=_0x2a95b6?_0x2a95b6(_0x4ae0e8):[_0x4ae0e8[_0x373bf1(0x261)],_0x1e8025],_0x770ee1=Array[_0x373bf1(0x295)](_0x7e3008)?_0x7e3008:[_0x7e3008],_0x3dd682=getQueryStrings(_0x4ae0e8[_0x373bf1(0x1e9)][_0x373bf1(0x1b2)]),_0x5395b7=await _0x307840(new Request(new URL((_0x4ae0e8['req']['path'][_0x373bf1(0x1b1)](_0xb5f3f0)||'/')+_0x3dd682,_0x4ae0e8[_0x373bf1(0x1e9)][_0x373bf1(0x1b2)]),_0x4ae0e8[_0x373bf1(0x1e9)][_0x373bf1(0x259)]),..._0x770ee1);if(_0x5395b7)return _0x5395b7;await _0x51a084();};return this[_0x315c4d(0x1bc)](METHOD_NAME_ALL,mergePath(_0x4807e8,'*'),_0x391e7d),this;}get[a0_0x1566c6(0x2bf)](){const _0x367e38=a0_0x1566c6;return this['matchRoute'](_0x367e38(0x283),'/'),this['router'][_0x367e38(0x180)];}['addRoute'](_0x2ac730,_0x2a5d03,_0x4e8b8e){const _0xc0d869=a0_0x1566c6;_0x2ac730=_0x2ac730['toUpperCase'](),_0x2a5d03=mergePath(this[_0xc0d869(0x235)],_0x2a5d03);const _0x1bbce9={'path':_0x2a5d03,'method':_0x2ac730,'handler':_0x4e8b8e};this['router'][_0xc0d869(0x2d4)](_0x2ac730,_0x2a5d03,[_0x4e8b8e,_0x1bbce9]),this['routes'][_0xc0d869(0x268)](_0x1bbce9);}[a0_0x1566c6(0x273)](_0x34e492,_0x3cb717){return this['router']['match'](_0x34e492,_0x3cb717);}[a0_0x1566c6(0x24d)](_0x39ce99,_0x1c26bc){if(_0x39ce99 instanceof Error)return this['errorHandler'](_0x39ce99,_0x1c26bc);throw _0x39ce99;}[a0_0x1566c6(0x205)](_0x4ad8c3,_0x3c9306,_0x98675,_0x316c81){const _0x223596=a0_0x1566c6;if(_0x316c81==='HEAD')return((async()=>new Response(null,await this['dispatch'](_0x4ad8c3,_0x3c9306,_0x98675,_0x223596(0x283))))());const _0x1a3e38=this['getPath'](_0x4ad8c3,{'env':_0x98675}),_0x3525e7=this['matchRoute'](_0x316c81,_0x1a3e38),_0x225098=new Context(new HonoRequest(_0x4ad8c3,_0x1a3e38,_0x3525e7),{'env':_0x98675,'executionCtx':_0x3c9306,'notFoundHandler':this['notFoundHandler']});if(_0x3525e7[0x0][_0x223596(0x22d)]===0x1){let _0x237aa3;try{_0x237aa3=_0x3525e7[0x0][0x0][0x0][0x0](_0x225098,async()=>{const _0x2e2d57=_0x223596;_0x225098[_0x2e2d57(0x2a9)]=await this[_0x2e2d57(0x1b7)](_0x225098);});}catch(_0x446f59){return this['handleError'](_0x446f59,_0x225098);}return _0x237aa3 instanceof Promise?_0x237aa3[_0x223596(0x245)](_0x8357fc=>_0x8357fc||(_0x225098['finalized']?_0x225098['res']:this[_0x223596(0x1b7)](_0x225098)))['catch'](_0x311c65=>this[_0x223596(0x24d)](_0x311c65,_0x225098)):_0x237aa3;}const _0x5aca24=compose(_0x3525e7[0x0],this['errorHandler'],this[_0x223596(0x1b7)]);return((async()=>{const _0x55ae55=_0x223596;try{const _0x204c87=await _0x5aca24(_0x225098);if(!_0x204c87[_0x55ae55(0x1e0)])throw new Error(_0x55ae55(0x1d6));return _0x204c87['res'];}catch(_0x4e4c0a){return this['handleError'](_0x4e4c0a,_0x225098);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR='[^/]+',ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR=a0_0x1566c6(0x192),PATH_ERROR=Symbol();function compareKey(_0x5e68f4,_0x31dbf3){const _0xae7366=a0_0x1566c6;if(_0x5e68f4['length']===0x1)return _0x31dbf3[_0xae7366(0x22d)]===0x1?_0x5e68f4<_0x31dbf3?-0x1:0x1:-0x1;if(_0x31dbf3['length']===0x1)return 0x1;if(_0x5e68f4===ONLY_WILDCARD_REG_EXP_STR||_0x5e68f4===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x31dbf3===ONLY_WILDCARD_REG_EXP_STR||_0x31dbf3===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x5e68f4===LABEL_REG_EXP_STR)return 0x1;else{if(_0x31dbf3===LABEL_REG_EXP_STR)return-0x1;}return _0x5e68f4[_0xae7366(0x22d)]===_0x31dbf3[_0xae7366(0x22d)]?_0x5e68f4<_0x31dbf3?-0x1:0x1:_0x31dbf3[_0xae7366(0x22d)]-_0x5e68f4[_0xae7366(0x22d)];}var Node=class{constructor(){const _0x31d28d=a0_0x1566c6;this[_0x31d28d(0x16e)]={};}[a0_0x1566c6(0x1c0)](_0x32f047,_0x2242c2,_0x405f4f,_0x4d9706,_0x21a338){const _0x1cbf44=a0_0x1566c6;if(_0x32f047[_0x1cbf44(0x22d)]===0x0){if(this[_0x1cbf44(0x256)]!==void 0x0)throw PATH_ERROR;if(_0x21a338)return;this[_0x1cbf44(0x256)]=_0x2242c2;return;}const [_0x90977,..._0x22cd53]=_0x32f047,_0x5a21b3=_0x90977==='*'?_0x22cd53['length']===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x90977==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x90977['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x4f33b7;if(_0x5a21b3){const _0x2a1db6=_0x5a21b3[0x1];let _0x4fd538=_0x5a21b3[0x2]||LABEL_REG_EXP_STR;if(_0x2a1db6&&_0x5a21b3[0x2]){_0x4fd538=_0x4fd538[_0x1cbf44(0x2c1)](/^\((?!\?:)(?=[^)]+\)$)/,'(?:');if(/\((?!\?:)/[_0x1cbf44(0x16f)](_0x4fd538))throw PATH_ERROR;}_0x4f33b7=this['children'][_0x4fd538];if(!_0x4f33b7){if(Object['keys'](this[_0x1cbf44(0x16e)])[_0x1cbf44(0x28d)](_0x5f3bd3=>_0x5f3bd3!==ONLY_WILDCARD_REG_EXP_STR&&_0x5f3bd3!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x21a338)return;_0x4f33b7=this[_0x1cbf44(0x16e)][_0x4fd538]=new Node(),_0x2a1db6!==''&&(_0x4f33b7[_0x1cbf44(0x24c)]=_0x4d9706[_0x1cbf44(0x24c)]++);}!_0x21a338&&_0x2a1db6!==''&&_0x405f4f[_0x1cbf44(0x268)]([_0x2a1db6,_0x4f33b7[_0x1cbf44(0x24c)]]);}else{_0x4f33b7=this[_0x1cbf44(0x16e)][_0x90977];if(!_0x4f33b7){if(Object[_0x1cbf44(0x2af)](this[_0x1cbf44(0x16e)])['some'](_0x2b4fb9=>_0x2b4fb9[_0x1cbf44(0x22d)]>0x1&&_0x2b4fb9!==ONLY_WILDCARD_REG_EXP_STR&&_0x2b4fb9!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x21a338)return;_0x4f33b7=this[_0x1cbf44(0x16e)][_0x90977]=new Node();}}_0x4f33b7[_0x1cbf44(0x1c0)](_0x22cd53,_0x2242c2,_0x405f4f,_0x4d9706,_0x21a338);}['buildRegExpStr'](){const _0x29fcfc=a0_0x1566c6,_0x2bb156=Object['keys'](this[_0x29fcfc(0x16e)])[_0x29fcfc(0x255)](compareKey),_0x1873cd=_0x2bb156[_0x29fcfc(0x257)](_0x115702=>{const _0x49581c=_0x29fcfc,_0x599125=this[_0x49581c(0x16e)][_0x115702];return(typeof _0x599125[_0x49581c(0x24c)]===_0x49581c(0x246)?'('+_0x115702+')@'+_0x599125[_0x49581c(0x24c)]:_0x115702)+_0x599125['buildRegExpStr']();});typeof this[_0x29fcfc(0x256)]==='number'&&_0x1873cd[_0x29fcfc(0x26d)]('#'+this[_0x29fcfc(0x256)]);if(_0x1873cd[_0x29fcfc(0x22d)]===0x0)return'';if(_0x1873cd[_0x29fcfc(0x22d)]===0x1)return _0x1873cd[0x0];return _0x29fcfc(0x290)+_0x1873cd[_0x29fcfc(0x294)]('|')+')';}},Trie=class{constructor(){this['context']={'varIndex':0x0},this['root']=new Node();}[a0_0x1566c6(0x1c0)](_0x2525a1,_0x415399,_0x365842){const _0x422001=a0_0x1566c6,_0x17f313=[],_0x4e578e=[];for(let _0xae321d=0x0;;){let _0x246c9f=![];_0x2525a1=_0x2525a1[_0x422001(0x2c1)](/\{[^}]+\}/g,_0x5b632e=>{const _0x3e1724='@\x5c'+_0xae321d;return _0x4e578e[_0xae321d]=[_0x3e1724,_0x5b632e],_0xae321d++,_0x246c9f=!![],_0x3e1724;});if(!_0x246c9f)break;}const _0x2687b6=_0x2525a1['match'](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x582b5c=_0x4e578e[_0x422001(0x22d)]-0x1;_0x582b5c>=0x0;_0x582b5c--){const [_0x5a2cec]=_0x4e578e[_0x582b5c];for(let _0x32ec0c=_0x2687b6[_0x422001(0x22d)]-0x1;_0x32ec0c>=0x0;_0x32ec0c--){if(_0x2687b6[_0x32ec0c][_0x422001(0x1ac)](_0x5a2cec)!==-0x1){_0x2687b6[_0x32ec0c]=_0x2687b6[_0x32ec0c][_0x422001(0x2c1)](_0x5a2cec,_0x4e578e[_0x582b5c][0x1]);break;}}}return this[_0x422001(0x224)][_0x422001(0x1c0)](_0x2687b6,_0x415399,_0x17f313,this[_0x422001(0x1a9)],_0x365842),_0x17f313;}['buildRegExp'](){const _0x41fd69=a0_0x1566c6;let _0x3a9b7f=this[_0x41fd69(0x224)]['buildRegExpStr']();if(_0x3a9b7f==='')return[/^$/,[],[]];let _0x525490=0x0;const _0xfac306=[],_0x46f8f1=[];return _0x3a9b7f=_0x3a9b7f[_0x41fd69(0x2c1)](/#(\d+)|@(\d+)|\.\*\$/g,(_0x48aac8,_0x1b1006,_0x4f5983)=>{const _0x440f8d=_0x41fd69;if(typeof _0x1b1006!==_0x440f8d(0x20f))return _0xfac306[++_0x525490]=Number(_0x1b1006),'$()';if(typeof _0x4f5983!==_0x440f8d(0x20f))return _0x46f8f1[Number(_0x4f5983)]=++_0x525490,'';return'';}),[new RegExp('^'+_0x3a9b7f),_0xfac306,_0x46f8f1];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x1566c6(0x257)](_0x1b3eeb=>_0x1b3eeb[a0_0x1566c6(0x206)]()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0x1b7334){const _0x19e491=a0_0x1566c6;return wildcardRegExpCache[_0x1b7334]??(wildcardRegExpCache[_0x1b7334]=new RegExp(_0x1b7334==='*'?'':'^'+_0x1b7334[_0x19e491(0x2c1)](/\/\*/,_0x19e491(0x192))+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x2f2cbe){const _0x27a63c=a0_0x1566c6,_0x8c56e7=new Trie(),_0x5a71e8=[];if(_0x2f2cbe[_0x27a63c(0x22d)]===0x0)return nullMatcher;const _0x3ad090=_0x2f2cbe[_0x27a63c(0x257)](_0x28f634=>[!/\*|\/:/['test'](_0x28f634[0x0]),..._0x28f634])[_0x27a63c(0x255)](([_0x17412a,_0x43f0ea],[_0x7501a7,_0x4c160b])=>_0x17412a?0x1:_0x7501a7?-0x1:_0x43f0ea[_0x27a63c(0x22d)]-_0x4c160b[_0x27a63c(0x22d)]),_0x204dc4={};for(let _0x56db9c=0x0,_0x3199bb=-0x1,_0x107424=_0x3ad090[_0x27a63c(0x22d)];_0x56db9c<_0x107424;_0x56db9c++){const [_0x18917e,_0x37eb94,_0x7096db]=_0x3ad090[_0x56db9c];_0x18917e?_0x204dc4[_0x37eb94]=[_0x7096db[_0x27a63c(0x257)](([_0x45d680])=>[_0x45d680,{}]),emptyParam]:_0x3199bb++;let _0x34b6bd;try{_0x34b6bd=_0x8c56e7[_0x27a63c(0x1c0)](_0x37eb94,_0x3199bb,_0x18917e);}catch(_0x1abb25){throw _0x1abb25===PATH_ERROR?new UnsupportedPathError(_0x37eb94):_0x1abb25;}if(_0x18917e)continue;_0x5a71e8[_0x3199bb]=_0x7096db[_0x27a63c(0x257)](([_0x5f3b57,_0x48b34c])=>{const _0x22c786={};_0x48b34c-=0x1;for(;_0x48b34c>=0x0;_0x48b34c--){const [_0x5ac17e,_0x441216]=_0x34b6bd[_0x48b34c];_0x22c786[_0x5ac17e]=_0x441216;}return[_0x5f3b57,_0x22c786];});}const [_0x4844f9,_0x4437bc,_0x35784a]=_0x8c56e7[_0x27a63c(0x225)]();for(let _0x21206e=0x0,_0x4b055f=_0x5a71e8[_0x27a63c(0x22d)];_0x21206e<_0x4b055f;_0x21206e++){for(let _0x5ca40e=0x0,_0xdd1e7c=_0x5a71e8[_0x21206e][_0x27a63c(0x22d)];_0x5ca40e<_0xdd1e7c;_0x5ca40e++){const _0x568fce=_0x5a71e8[_0x21206e][_0x5ca40e]?.[0x1];if(!_0x568fce)continue;const _0x1ba03b=Object[_0x27a63c(0x2af)](_0x568fce);for(let _0x146da7=0x0,_0x2c04e6=_0x1ba03b[_0x27a63c(0x22d)];_0x146da7<_0x2c04e6;_0x146da7++){_0x568fce[_0x1ba03b[_0x146da7]]=_0x35784a[_0x568fce[_0x1ba03b[_0x146da7]]];}}}const _0x22dc89=[];for(const _0x51e389 in _0x4437bc){_0x22dc89[_0x51e389]=_0x5a71e8[_0x4437bc[_0x51e389]];}return[_0x4844f9,_0x22dc89,_0x204dc4];}function findMiddleware(_0x2b7806,_0xf16385){const _0x5d71dd=a0_0x1566c6;if(!_0x2b7806)return void 0x0;for(const _0x17ef7b of Object[_0x5d71dd(0x2af)](_0x2b7806)['sort']((_0x5f42e0,_0x415ac3)=>_0x415ac3[_0x5d71dd(0x22d)]-_0x5f42e0[_0x5d71dd(0x22d)])){if(buildWildcardRegExp(_0x17ef7b)['test'](_0xf16385))return[..._0x2b7806[_0x17ef7b]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x12b83e=a0_0x1566c6;this['name']=_0x12b83e(0x21e),this[_0x12b83e(0x221)]={[METHOD_NAME_ALL]:{}},this[_0x12b83e(0x28a)]={[METHOD_NAME_ALL]:{}};}[a0_0x1566c6(0x2d4)](_0x5f4833,_0x49524a,_0x232106){const _0x16f93a=a0_0x1566c6;var _0x2b9cc8;const {middleware:_0x2498b5,routes:_0x101998}=this;if(!_0x2498b5||!_0x101998)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0x16f93a(0x1ac)](_0x5f4833)===-0x1&&methodNames[_0x16f93a(0x268)](_0x5f4833);if(!_0x2498b5[_0x5f4833]){;[_0x2498b5,_0x101998][_0x16f93a(0x2a3)](_0x46e72d=>{const _0x15290b=_0x16f93a;_0x46e72d[_0x5f4833]={},Object[_0x15290b(0x2af)](_0x46e72d[METHOD_NAME_ALL])[_0x15290b(0x2a3)](_0x366cab=>{_0x46e72d[_0x5f4833][_0x366cab]=[..._0x46e72d[METHOD_NAME_ALL][_0x366cab]];});});}_0x49524a==='/*'&&(_0x49524a='*');const _0x544de2=(_0x49524a['match'](/\/:/g)||[])[_0x16f93a(0x22d)];if(/\*$/[_0x16f93a(0x16f)](_0x49524a)){const _0x2ab892=buildWildcardRegExp(_0x49524a);_0x5f4833===METHOD_NAME_ALL?Object['keys'](_0x2498b5)[_0x16f93a(0x2a3)](_0x5f5a7a=>{var _0x27a9f8;(_0x27a9f8=_0x2498b5[_0x5f5a7a])[_0x49524a]||(_0x27a9f8[_0x49524a]=findMiddleware(_0x2498b5[_0x5f5a7a],_0x49524a)||findMiddleware(_0x2498b5[METHOD_NAME_ALL],_0x49524a)||[]);}):(_0x2b9cc8=_0x2498b5[_0x5f4833])[_0x49524a]||(_0x2b9cc8[_0x49524a]=findMiddleware(_0x2498b5[_0x5f4833],_0x49524a)||findMiddleware(_0x2498b5[METHOD_NAME_ALL],_0x49524a)||[]);Object[_0x16f93a(0x2af)](_0x2498b5)[_0x16f93a(0x2a3)](_0x411438=>{const _0x5607aa=_0x16f93a;(_0x5f4833===METHOD_NAME_ALL||_0x5f4833===_0x411438)&&Object[_0x5607aa(0x2af)](_0x2498b5[_0x411438])[_0x5607aa(0x2a3)](_0x541ccc=>{const _0x2b92a6=_0x5607aa;_0x2ab892['test'](_0x541ccc)&&_0x2498b5[_0x411438][_0x541ccc][_0x2b92a6(0x268)]([_0x232106,_0x544de2]);});}),Object[_0x16f93a(0x2af)](_0x101998)[_0x16f93a(0x2a3)](_0x11444c=>{const _0x11056f=_0x16f93a;(_0x5f4833===METHOD_NAME_ALL||_0x5f4833===_0x11444c)&&Object[_0x11056f(0x2af)](_0x101998[_0x11444c])[_0x11056f(0x2a3)](_0x529abe=>_0x2ab892['test'](_0x529abe)&&_0x101998[_0x11444c][_0x529abe][_0x11056f(0x268)]([_0x232106,_0x544de2]));});return;}const _0x2500b6=checkOptionalParameter(_0x49524a)||[_0x49524a];for(let _0x30adfc=0x0,_0x29953e=_0x2500b6['length'];_0x30adfc<_0x29953e;_0x30adfc++){const _0x341894=_0x2500b6[_0x30adfc];Object[_0x16f93a(0x2af)](_0x101998)[_0x16f93a(0x2a3)](_0x29c4c1=>{const _0x6532d0=_0x16f93a;var _0x4eec82;(_0x5f4833===METHOD_NAME_ALL||_0x5f4833===_0x29c4c1)&&((_0x4eec82=_0x101998[_0x29c4c1])[_0x341894]||(_0x4eec82[_0x341894]=[...findMiddleware(_0x2498b5[_0x29c4c1],_0x341894)||findMiddleware(_0x2498b5[METHOD_NAME_ALL],_0x341894)||[]]),_0x101998[_0x29c4c1][_0x341894][_0x6532d0(0x268)]([_0x232106,_0x544de2-_0x29953e+_0x30adfc+0x1]));});}}[a0_0x1566c6(0x203)](_0x3ad5ec,_0x57b64){const _0x1e761f=a0_0x1566c6;clearWildcardRegExpCache();const _0x3dda9c=this[_0x1e761f(0x23a)]();return this['match']=(_0x3f63b2,_0x47c6be)=>{const _0x1952cc=_0x3dda9c[_0x3f63b2],_0x169dc0=_0x1952cc[0x2][_0x47c6be];if(_0x169dc0)return _0x169dc0;const _0x179862=_0x47c6be['match'](_0x1952cc[0x0]);if(!_0x179862)return[[],emptyParam];const _0x4ddc96=_0x179862['indexOf']('',0x1);return[_0x1952cc[0x1][_0x4ddc96],_0x179862];},this[_0x1e761f(0x203)](_0x3ad5ec,_0x57b64);}[a0_0x1566c6(0x23a)](){const _0x724f36=a0_0x1566c6,_0x273d04={};return methodNames[_0x724f36(0x2a3)](_0x2e5622=>{_0x273d04[_0x2e5622]=this['buildMatcher'](_0x2e5622)||_0x273d04[METHOD_NAME_ALL];}),this[_0x724f36(0x221)]=this[_0x724f36(0x28a)]=void 0x0,_0x273d04;}[a0_0x1566c6(0x2ad)](_0x1d75f5){const _0x4f592e=a0_0x1566c6,_0x555a9b=[];let _0x47f00a=_0x1d75f5===METHOD_NAME_ALL;return[this[_0x4f592e(0x221)],this[_0x4f592e(0x28a)]]['forEach'](_0xf5b9a0=>{const _0x531cb8=_0x4f592e,_0x243b77=_0xf5b9a0[_0x1d75f5]?Object[_0x531cb8(0x2af)](_0xf5b9a0[_0x1d75f5])['map'](_0x193630=>[_0x193630,_0xf5b9a0[_0x1d75f5][_0x193630]]):[];if(_0x243b77[_0x531cb8(0x22d)]!==0x0)_0x47f00a||(_0x47f00a=!![]),_0x555a9b['push'](..._0x243b77);else _0x1d75f5!==METHOD_NAME_ALL&&_0x555a9b[_0x531cb8(0x268)](...Object[_0x531cb8(0x2af)](_0xf5b9a0[METHOD_NAME_ALL])[_0x531cb8(0x257)](_0x51cc1a=>[_0x51cc1a,_0xf5b9a0[METHOD_NAME_ALL][_0x51cc1a]]));}),!_0x47f00a?null:buildMatcherFromPreprocessedRoutes(_0x555a9b);}},SmartRouter=class{constructor(_0x5880a6){const _0x2ec137=a0_0x1566c6;this[_0x2ec137(0x180)]=_0x2ec137(0x260),this[_0x2ec137(0x28e)]=[],this['routes']=[],Object[_0x2ec137(0x1ef)](this,_0x5880a6);}['add'](_0x228168,_0x389fad,_0xb36cbf){const _0x2e3c47=a0_0x1566c6;if(!this[_0x2e3c47(0x28a)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this[_0x2e3c47(0x28a)][_0x2e3c47(0x268)]([_0x228168,_0x389fad,_0xb36cbf]);}[a0_0x1566c6(0x203)](_0x2189b3,_0x30607f){const _0x34d084=a0_0x1566c6;if(!this[_0x34d084(0x28a)])throw new Error(_0x34d084(0x1ce));const {routers:_0x3c6391,routes:_0x2e410d}=this,_0x44568a=_0x3c6391[_0x34d084(0x22d)];let _0x838214=0x0,_0x10612e;for(;_0x838214<_0x44568a;_0x838214++){const _0x4cb4aa=_0x3c6391[_0x838214];try{_0x2e410d[_0x34d084(0x2a3)](_0x524aeb=>{_0x4cb4aa['add'](..._0x524aeb);}),_0x10612e=_0x4cb4aa[_0x34d084(0x203)](_0x2189b3,_0x30607f);}catch(_0x4b316a){if(_0x4b316a instanceof UnsupportedPathError)continue;throw _0x4b316a;}this[_0x34d084(0x203)]=_0x4cb4aa[_0x34d084(0x203)][_0x34d084(0x18a)](_0x4cb4aa),this[_0x34d084(0x28e)]=[_0x4cb4aa],this[_0x34d084(0x28a)]=void 0x0;break;}if(_0x838214===_0x44568a)throw new Error(_0x34d084(0x1ce));return this[_0x34d084(0x180)]='SmartRouter\x20+\x20'+this[_0x34d084(0x25c)][_0x34d084(0x180)],_0x10612e;}get[a0_0x1566c6(0x25c)](){const _0x5b93e3=a0_0x1566c6;if(this['routes']||this['routers'][_0x5b93e3(0x22d)]!==0x1)throw new Error(_0x5b93e3(0x277));return this[_0x5b93e3(0x28e)][0x0];}},Node2=class{constructor(_0x45fb01,_0x13b1db,_0x25654b){const _0x2f06bc=a0_0x1566c6;this[_0x2f06bc(0x1b0)]=0x0,this[_0x2f06bc(0x19f)]={},this['children']=_0x25654b||{},this[_0x2f06bc(0x251)]=[],this['name']='';if(_0x45fb01&&_0x13b1db){const _0xd6a0eb={};_0xd6a0eb[_0x45fb01]={'handler':_0x13b1db,'possibleKeys':[],'score':0x0,'name':this['name']},this[_0x2f06bc(0x251)]=[_0xd6a0eb];}this[_0x2f06bc(0x288)]=[];}[a0_0x1566c6(0x1c0)](_0x2b8d95,_0x56b721,_0x311473){const _0x88cf1c=a0_0x1566c6;this[_0x88cf1c(0x180)]=_0x2b8d95+'\x20'+_0x56b721,this[_0x88cf1c(0x1b0)]=++this[_0x88cf1c(0x1b0)];let _0x2b6704=this;const _0x2f5ba8=splitRoutingPath(_0x56b721),_0x3f078c=[],_0xd849bd=[];for(let _0x55e847=0x0,_0x4a8ae1=_0x2f5ba8[_0x88cf1c(0x22d)];_0x55e847<_0x4a8ae1;_0x55e847++){const _0x323ff8=_0x2f5ba8[_0x55e847];if(Object[_0x88cf1c(0x2af)](_0x2b6704[_0x88cf1c(0x16e)])['includes'](_0x323ff8)){_0xd849bd[_0x88cf1c(0x268)](..._0x2b6704[_0x88cf1c(0x288)]),_0x2b6704=_0x2b6704[_0x88cf1c(0x16e)][_0x323ff8];const _0x5c43e4=getPattern(_0x323ff8);_0x5c43e4&&_0x3f078c[_0x88cf1c(0x268)](_0x5c43e4[0x1]);continue;}_0x2b6704[_0x88cf1c(0x16e)][_0x323ff8]=new Node2();const _0x4330c0=getPattern(_0x323ff8);_0x4330c0&&(_0x2b6704[_0x88cf1c(0x288)]['push'](_0x4330c0),_0xd849bd[_0x88cf1c(0x268)](..._0x2b6704[_0x88cf1c(0x288)]),_0x3f078c['push'](_0x4330c0[0x1])),_0xd849bd['push'](..._0x2b6704[_0x88cf1c(0x288)]),_0x2b6704=_0x2b6704['children'][_0x323ff8];}!_0x2b6704[_0x88cf1c(0x251)][_0x88cf1c(0x22d)]&&(_0x2b6704[_0x88cf1c(0x251)]=[]);const _0x3c4231={},_0x35cdb8={'handler':_0x311473,'possibleKeys':_0x3f078c[_0x88cf1c(0x218)]((_0x14a422,_0x299104,_0x8a5b06)=>_0x8a5b06[_0x88cf1c(0x1ac)](_0x14a422)===_0x299104),'name':this[_0x88cf1c(0x180)],'score':this[_0x88cf1c(0x1b0)]};return _0x3c4231[_0x2b8d95]=_0x35cdb8,_0x2b6704[_0x88cf1c(0x251)][_0x88cf1c(0x268)](_0x3c4231),_0x2b6704;}['gHSets'](_0x4e3540,_0x334a2e,_0x18f7a5,_0xed2773){const _0x3f1710=a0_0x1566c6,_0x300042=[];for(let _0xcb3ad8=0x0,_0x17e0f8=_0x4e3540[_0x3f1710(0x251)][_0x3f1710(0x22d)];_0xcb3ad8<_0x17e0f8;_0xcb3ad8++){const _0x3402e6=_0x4e3540['methods'][_0xcb3ad8],_0x2f4cdf=_0x3402e6[_0x334a2e]||_0x3402e6[METHOD_NAME_ALL],_0x5ae496={};_0x2f4cdf!==void 0x0&&(_0x2f4cdf['params']={},_0x2f4cdf[_0x3f1710(0x1c5)]['forEach'](_0x27a2bb=>{const _0x8494d9=_0x3f1710,_0x50a11a=_0x5ae496[_0x2f4cdf[_0x8494d9(0x180)]];_0x2f4cdf[_0x8494d9(0x19f)][_0x27a2bb]=_0xed2773[_0x27a2bb]&&!_0x50a11a?_0xed2773[_0x27a2bb]:_0x18f7a5[_0x27a2bb]??_0xed2773[_0x27a2bb],_0x5ae496[_0x2f4cdf[_0x8494d9(0x180)]]=!![];}),_0x300042[_0x3f1710(0x268)](_0x2f4cdf));}return _0x300042;}[a0_0x1566c6(0x191)](_0x39a671,_0x44251d){const _0x3e5c8d=a0_0x1566c6,_0x4ef7f1=[];this[_0x3e5c8d(0x19f)]={};const _0x27c6cc=this;let _0x4b782f=[_0x27c6cc];const _0x557c59=splitPath(_0x44251d);for(let _0xa51947=0x0,_0x313b5f=_0x557c59[_0x3e5c8d(0x22d)];_0xa51947<_0x313b5f;_0xa51947++){const _0x3d4bee=_0x557c59[_0xa51947],_0x292ea2=_0xa51947===_0x313b5f-0x1,_0x5ab744=[];for(let _0x1019d1=0x0,_0x7b005b=_0x4b782f[_0x3e5c8d(0x22d)];_0x1019d1<_0x7b005b;_0x1019d1++){const _0xdad098=_0x4b782f[_0x1019d1],_0x45f251=_0xdad098['children'][_0x3d4bee];_0x45f251&&(_0x45f251['params']=_0xdad098['params'],_0x292ea2===!![]?(_0x45f251['children']['*']&&_0x4ef7f1[_0x3e5c8d(0x268)](...this[_0x3e5c8d(0x1f4)](_0x45f251[_0x3e5c8d(0x16e)]['*'],_0x39a671,_0xdad098['params'],{})),_0x4ef7f1[_0x3e5c8d(0x268)](...this[_0x3e5c8d(0x1f4)](_0x45f251,_0x39a671,_0xdad098[_0x3e5c8d(0x19f)],{}))):_0x5ab744[_0x3e5c8d(0x268)](_0x45f251));for(let _0x571e33=0x0,_0x5a2a84=_0xdad098['patterns'][_0x3e5c8d(0x22d)];_0x571e33<_0x5a2a84;_0x571e33++){const _0x323ff6=_0xdad098[_0x3e5c8d(0x288)][_0x571e33],_0x3a86d8={..._0xdad098[_0x3e5c8d(0x19f)]};if(_0x323ff6==='*'){const _0x5d7c9d=_0xdad098[_0x3e5c8d(0x16e)]['*'];_0x5d7c9d&&(_0x4ef7f1[_0x3e5c8d(0x268)](...this[_0x3e5c8d(0x1f4)](_0x5d7c9d,_0x39a671,_0xdad098['params'],{})),_0x5ab744['push'](_0x5d7c9d));continue;}if(_0x3d4bee==='')continue;const [_0x3ed545,_0x7e403d,_0x29e6dc]=_0x323ff6,_0x2f28f3=_0xdad098[_0x3e5c8d(0x16e)][_0x3ed545],_0x4aaebe=_0x557c59[_0x3e5c8d(0x1b1)](_0xa51947)[_0x3e5c8d(0x294)]('/');if(_0x29e6dc instanceof RegExp&&_0x29e6dc['test'](_0x4aaebe)){_0x3a86d8[_0x7e403d]=_0x4aaebe,_0x4ef7f1['push'](...this['gHSets'](_0x2f28f3,_0x39a671,_0xdad098[_0x3e5c8d(0x19f)],_0x3a86d8));continue;}(_0x29e6dc===!![]||_0x29e6dc instanceof RegExp&&_0x29e6dc[_0x3e5c8d(0x16f)](_0x3d4bee))&&(typeof _0x3ed545===_0x3e5c8d(0x2ba)&&(_0x3a86d8[_0x7e403d]=_0x3d4bee,_0x292ea2===!![]?(_0x4ef7f1['push'](...this[_0x3e5c8d(0x1f4)](_0x2f28f3,_0x39a671,_0x3a86d8,_0xdad098[_0x3e5c8d(0x19f)])),_0x2f28f3[_0x3e5c8d(0x16e)]['*']&&_0x4ef7f1['push'](...this['gHSets'](_0x2f28f3[_0x3e5c8d(0x16e)]['*'],_0x39a671,_0x3a86d8,_0xdad098[_0x3e5c8d(0x19f)]))):(_0x2f28f3[_0x3e5c8d(0x19f)]=_0x3a86d8,_0x5ab744[_0x3e5c8d(0x268)](_0x2f28f3))));}}_0x4b782f=_0x5ab744;}const _0x88bef3=_0x4ef7f1[_0x3e5c8d(0x255)]((_0x519cab,_0x1b3729)=>{const _0x420873=_0x3e5c8d;return _0x519cab[_0x420873(0x1b8)]-_0x1b3729['score'];});return[_0x88bef3[_0x3e5c8d(0x257)](({handler:_0x5cd0be,params:_0x5f50ca})=>[_0x5cd0be,_0x5f50ca])];}},TrieRouter=class{constructor(){const _0x371687=a0_0x1566c6;this[_0x371687(0x180)]='TrieRouter',this[_0x371687(0x2c4)]=new Node2();}['add'](_0x134e0e,_0x175805,_0x1ba146){const _0x139915=a0_0x1566c6,_0xf0fbf7=checkOptionalParameter(_0x175805);if(_0xf0fbf7){for(const _0x3eef3b of _0xf0fbf7){this[_0x139915(0x2c4)]['insert'](_0x134e0e,_0x3eef3b,_0x1ba146);}return;}this[_0x139915(0x2c4)][_0x139915(0x1c0)](_0x134e0e,_0x175805,_0x1ba146);}['match'](_0x2df356,_0x245a21){const _0x556930=a0_0x1566c6;return this[_0x556930(0x2c4)][_0x556930(0x191)](_0x2df356,_0x245a21);}},Hono2=class extends Hono{constructor(_0x1d4b03={}){const _0x4c8e66=a0_0x1566c6;super(_0x1d4b03),this[_0x4c8e66(0x2a2)]=_0x1d4b03[_0x4c8e66(0x2a2)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0x59b1c9){const _0x50a3a8=a0_0x1566c6;if(wasmReady)return wasmModule;try{const _0x15e567=_0x59b1c9||_0x50a3a8(0x28f),_0x1ae002=await import(_0x15e567);return typeof _0x1ae002[_0x50a3a8(0x209)]===_0x50a3a8(0x184)&&await _0x1ae002[_0x50a3a8(0x209)](),wasmModule=_0x1ae002,wasmReady=!![],wasmModule;}catch(_0x168411){console[_0x50a3a8(0x1f6)](_0x50a3a8(0x1e4),_0x168411),wasmReady=![];throw _0x168411;}}async function parseVlessHeader(_0x1acbab){const _0x9a92d7=a0_0x1566c6;if(!wasmReady)throw new Error('WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.');if(!wasmModule||typeof wasmModule[_0x9a92d7(0x25e)]!==_0x9a92d7(0x184))throw new Error(_0x9a92d7(0x29f));return await wasmModule[_0x9a92d7(0x25e)](_0x1acbab);}function renderAdminLogin(_0x28c56b,_0xb73f1a){const _0x3fb6b2=a0_0x1566c6;return _0x3fb6b2(0x262)+_0x28c56b+_0x3fb6b2(0x263)+(_0xb73f1a?'<p\x20style=\x22color:red\x22>'+escapeHtml(_0xb73f1a)+_0x3fb6b2(0x20c):'')+_0x3fb6b2(0x1d7);}function renderAdminPanel(){const _0xa2ce1=a0_0x1566c6;return _0xa2ce1(0x1cf);}function escapeHtml(_0x291c08){const _0x183be2=a0_0x1566c6;return _0x291c08[_0x183be2(0x2c1)](/[&<>'"]/g,_0x3f6f0b=>({'&':_0x183be2(0x187),'<':_0x183be2(0x1c2),'>':_0x183be2(0x1fc),'\x27':_0x183be2(0x194),'\x22':_0x183be2(0x2b7)}[_0x3f6f0b]));}function a0_0x8474(_0x3fa141,_0x4d3d0a){const _0x3dab45=a0_0x43f6();return a0_0x8474=function(_0x3128cb,_0x45fbda){_0x3128cb=_0x3128cb-0x165;let _0x43f65e=_0x3dab45[_0x3128cb];return _0x43f65e;},a0_0x8474(_0x3fa141,_0x4d3d0a);}function expiryToISO(_0x5616c4,_0x24bbbc){const _0x2db0c5=a0_0x1566c6;if(!_0x5616c4||!_0x24bbbc)return null;const _0x4af0a9=_0x24bbbc[_0x2db0c5(0x271)](':')[_0x2db0c5(0x22d)]===0x2?_0x24bbbc+_0x2db0c5(0x16a):_0x24bbbc,_0x2255da=_0x5616c4+'T'+_0x4af0a9+'Z',_0x33818f=new Date(_0x2255da);if(isNaN(_0x33818f[_0x2db0c5(0x223)]()))return null;return _0x33818f[_0x2db0c5(0x298)]();}var appPromise=null;async function getApp(){if(appPromise)return appPromise;return appPromise=((async()=>{const _0x3ab2df=new Hono2();return await registerRoutes(_0x3ab2df),_0x3ab2df;})()),appPromise;}async function registerRoutes(_0x12c2a2){const _0xdc3325=a0_0x1566c6;function _0x44935c(_0x20462f){const _0x8ae8f5=a0_0x8474;_0x20462f[_0x8ae8f5(0x250)]('X-Content-Type-Options',_0x8ae8f5(0x195)),_0x20462f['set']('Referrer-Policy',_0x8ae8f5(0x1e3)),_0x20462f[_0x8ae8f5(0x250)](_0x8ae8f5(0x2c3),_0x8ae8f5(0x2be));}_0x12c2a2[_0xdc3325(0x21c)]('/admin/login',async _0x406db3=>{const _0x24b22c=_0xdc3325,_0x108dcb=_0x406db3[_0x24b22c(0x261)],_0x3d267f=await _0x406db3['req'][_0x24b22c(0x2a1)](),_0x29e8ec=_0x3d267f[_0x24b22c(0x291)](_0x24b22c(0x1d3))?.['toString']()||'';if(!_0x108dcb[_0x24b22c(0x254)])return _0x406db3[_0x24b22c(0x1df)](_0x24b22c(0x1b9),0x1f7);if(_0x29e8ec!==_0x108dcb[_0x24b22c(0x254)])return _0x406db3['text'](_0x24b22c(0x28b),0x191);const _0x451da3=crypto['randomUUID'](),_0x5977ae=await crypto[_0x24b22c(0x1fa)][_0x24b22c(0x2ab)](_0x24b22c(0x2cc),new TextEncoder()['encode'](_0x451da3)),_0x418e33=Array['from'](new Uint8Array(_0x5977ae))[_0x24b22c(0x257)](_0x2eb135=>_0x2eb135[_0x24b22c(0x249)](0x10)[_0x24b22c(0x2b8)](0x2,'0'))[_0x24b22c(0x294)]('');try{await _0x108dcb['DB'][_0x24b22c(0x167)](_0x24b22c(0x1b4))[_0x24b22c(0x18a)](_0x24b22c(0x209),_0x418e33,Math['floor'](Date[_0x24b22c(0x1db)]()/0x3e8)+0x15180)['run']();}catch(_0x3d44d2){console['error'](_0x24b22c(0x202),_0x3d44d2);}const _0x10daaa=new Headers();return _0x10daaa[_0x24b22c(0x2d2)](_0x24b22c(0x178),_0x24b22c(0x2a8)+_0x451da3+_0x24b22c(0x265)),_0x44935c(_0x10daaa),_0x406db3[_0x24b22c(0x1df)]('OK',0xc8,{'headers':_0x10daaa});});async function _0x4d391a(_0x5c71ab){const _0x40b119=_0xdc3325,_0x2855a3=new TextEncoder(),_0x31bf68=_0x2855a3[_0x40b119(0x2b0)](_0x5c71ab),_0x2eb7fb=await crypto[_0x40b119(0x1fa)][_0x40b119(0x2ab)](_0x40b119(0x2cc),_0x31bf68);return Array[_0x40b119(0x17c)](new Uint8Array(_0x2eb7fb))[_0x40b119(0x257)](_0x1fb4bd=>_0x1fb4bd[_0x40b119(0x249)](0x10)[_0x40b119(0x2b8)](0x2,'0'))[_0x40b119(0x294)]('');}async function _0x5b0ecd(_0x4ead02){const _0x16fc0b=_0xdc3325,_0x122755=_0x4ead02['req'][_0x16fc0b(0x2a7)][_0x16fc0b(0x291)](_0x16fc0b(0x2a5))||'',_0x27624c=_0x122755['match'](/auth_token=([^;]+)/)?.[0x1];if(!_0x27624c)return![];const _0x2e8aa0=await _0x4d391a(_0x27624c);try{const _0x4a7e94=await _0x4ead02[_0x16fc0b(0x261)]['DB'][_0x16fc0b(0x167)]('SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?')[_0x16fc0b(0x18a)]('default')[_0x16fc0b(0x214)]();if(!_0x4a7e94?.[_0x16fc0b(0x28c)])return![];return _0x2e8aa0===_0x4a7e94[_0x16fc0b(0x28c)];}catch(_0x27490a){return console[_0x16fc0b(0x1f6)]('isAdminRequest\x20error',_0x27490a),![];}}async function _0xfb4b0f(_0x46ec85){const _0xc89ebf=_0xdc3325;if(!_0x46ec85['DB'])return;const _0x30bb47=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)',_0xc89ebf(0x2d1),_0xc89ebf(0x234),_0xc89ebf(0x19a)];try{const _0x99b69a=_0x30bb47[_0xc89ebf(0x257)](_0x49147a=>_0x46ec85['DB'][_0xc89ebf(0x167)](_0x49147a));await _0x46ec85['DB']['batch'](_0x99b69a);}catch(_0x512368){console[_0xc89ebf(0x1f6)](_0xc89ebf(0x219),_0x512368);}}_0x12c2a2[_0xdc3325(0x291)](_0xdc3325(0x210),async _0x34018c=>{const _0xe83353=_0xdc3325;await _0xfb4b0f(_0x34018c[_0xe83353(0x261)]);const _0x1ff0be=await _0x5b0ecd(_0x34018c),_0x26946b='/admin',_0x482591=new Headers({'Content-Type':_0xe83353(0x25b)});_0x44935c(_0x482591);if(!_0x1ff0be)return new Response(renderAdminLogin(_0x26946b+_0xe83353(0x170)),{'headers':_0x482591});return new Response(renderAdminPanel(),{'headers':_0x482591});}),_0x12c2a2['get'](_0xdc3325(0x1e2),async _0x4ad156=>{const _0x4f9d17=_0xdc3325;if(!await _0x5b0ecd(_0x4ad156))return _0x4ad156['json']({'error':_0x4f9d17(0x1e1)},0x193);const _0x5735ed=_0x4ad156['env'];await _0xfb4b0f(_0x5735ed);try{const _0x37b156=await _0x5735ed['DB'][_0x4f9d17(0x167)](_0x4f9d17(0x23f))[_0x4f9d17(0x214)](_0x4f9d17(0x2d5)),_0x56b6da=await _0x5735ed['DB'][_0x4f9d17(0x167)](_0x4f9d17(0x1de))[_0x4f9d17(0x214)]('count'),_0x1398c4=await _0x5735ed['DB']['prepare'](_0x4f9d17(0x193))[_0x4f9d17(0x214)](_0x4f9d17(0x1ae)),_0x4f2623=_0x56b6da||0x0,_0x278088=(_0x37b156||0x0)-_0x4f2623;return _0x4ad156['json']({'total_users':_0x37b156||0x0,'active_users':_0x278088,'expired_users':_0x4f2623,'total_traffic':_0x1398c4||0x0});}catch(_0x413091){const _0x34a573=_0x413091 instanceof Error?_0x413091[_0x4f9d17(0x183)]:String(_0x413091);return _0x4ad156['json']({'error':_0x34a573},0x1f4);}}),_0x12c2a2['get'](_0xdc3325(0x21b),async _0x5383b8=>{const _0x309cf6=_0xdc3325;if(!await _0x5b0ecd(_0x5383b8))return _0x5383b8[_0x309cf6(0x220)]({'error':_0x309cf6(0x1e1)},0x193);const _0x3c8b74=await _0x5383b8[_0x309cf6(0x261)]['DB'][_0x309cf6(0x167)](_0x309cf6(0x23d))[_0x309cf6(0x229)]();return _0x5383b8[_0x309cf6(0x220)](_0x3c8b74['results']||[]);}),_0x12c2a2['post']('/admin/api/users',async _0x241aa9=>{const _0x2a4bba=_0xdc3325;if(!await _0x5b0ecd(_0x241aa9))return _0x241aa9['json']({'error':_0x2a4bba(0x1e1)},0x193);const _0x4d6012=await _0x241aa9['req'][_0x2a4bba(0x220)](),{uuid:_0x549bc3,exp_date:_0x1def57,exp_time:_0x5acc16,notes:_0x3497cc,traffic_limit:_0x27fbb4,ip_limit:_0xc4e6c1}=_0x4d6012;if(!_0x549bc3||!_0x1def57||!_0x5acc16)return _0x241aa9[_0x2a4bba(0x220)]({'error':_0x2a4bba(0x181)},0x190);try{return await _0x241aa9[_0x2a4bba(0x261)]['DB'][_0x2a4bba(0x167)]('INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)')[_0x2a4bba(0x18a)](_0x549bc3,_0x1def57,_0x5acc16,_0x3497cc||null,_0x27fbb4||null,_0xc4e6c1||-0x1)[_0x2a4bba(0x1cb)](),_0x241aa9[_0x2a4bba(0x220)]({'success':!![],'uuid':_0x549bc3},0xc9);}catch(_0x38776e){const _0x1c5afa=_0x38776e instanceof Error?_0x38776e[_0x2a4bba(0x183)]:String(_0x38776e);return _0x241aa9[_0x2a4bba(0x220)]({'error':_0x1c5afa},0x190);}}),_0x12c2a2[_0xdc3325(0x1a0)](_0xdc3325(0x2c8),async _0x1653a3=>{const _0x548c33=_0xdc3325;if(!await _0x5b0ecd(_0x1653a3))return _0x1653a3[_0x548c33(0x220)]({'error':_0x548c33(0x1e1)},0x193);const _0x162dab=_0x1653a3[_0x548c33(0x1e9)][_0x548c33(0x2ae)](_0x548c33(0x2b3)),_0x1e610b=await _0x1653a3[_0x548c33(0x1e9)][_0x548c33(0x220)](),{exp_date:_0x1d0291,exp_time:_0x2169e0,notes:_0xf082b1,traffic_limit:_0x3afc95,ip_limit:_0x4a0da5,reset_traffic:_0x53ef1c}=_0x1e610b;if(!_0x1d0291||!_0x2169e0)return _0x1653a3[_0x548c33(0x220)]({'error':_0x548c33(0x18c)},0x190);try{let _0x5d88e5=_0x548c33(0x18d);if(_0x53ef1c)_0x5d88e5+=_0x548c33(0x23c);return _0x5d88e5+=_0x548c33(0x296),await _0x1653a3[_0x548c33(0x261)]['DB']['prepare'](_0x5d88e5)[_0x548c33(0x18a)](_0x1d0291,_0x2169e0,_0xf082b1||null,_0x3afc95||null,_0x4a0da5||-0x1,_0x162dab)[_0x548c33(0x1cb)](),_0x1653a3['json']({'success':!![],'uuid':_0x162dab});}catch(_0x694a15){const _0x1f7e88=_0x694a15 instanceof Error?_0x694a15[_0x548c33(0x183)]:String(_0x694a15);return _0x1653a3['json']({'error':_0x1f7e88},0x190);}}),_0x12c2a2[_0xdc3325(0x236)](_0xdc3325(0x2c8),async _0x7f87bb=>{const _0xf27a70=_0xdc3325;if(!await _0x5b0ecd(_0x7f87bb))return _0x7f87bb[_0xf27a70(0x220)]({'error':_0xf27a70(0x1e1)},0x193);const _0x135f17=_0x7f87bb['req'][_0xf27a70(0x2ae)](_0xf27a70(0x2b3));try{return await _0x7f87bb[_0xf27a70(0x261)]['DB'][_0xf27a70(0x167)]('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0xf27a70(0x18a)](_0x135f17)[_0xf27a70(0x1cb)](),_0x7f87bb[_0xf27a70(0x220)]({'success':!![],'uuid':_0x135f17});}catch(_0x2f686f){const _0x4b3e03=_0x2f686f instanceof Error?_0x2f686f[_0xf27a70(0x183)]:String(_0x2f686f);return _0x7f87bb[_0xf27a70(0x220)]({'error':_0x4b3e03},0x1f4);}}),_0x12c2a2[_0xdc3325(0x21c)](_0xdc3325(0x253),async _0x4c0d43=>{const _0x29cba2=_0xdc3325;if(!await _0x5b0ecd(_0x4c0d43))return _0x4c0d43[_0x29cba2(0x220)]({'error':_0x29cba2(0x1e1)},0x193);const _0xd46b82=_0x4c0d43[_0x29cba2(0x261)],_0x3a64c4=_0xd46b82['PROXYIPS']?_0xd46b82[_0x29cba2(0x22f)][_0x29cba2(0x271)](',')['map'](_0x913909=>_0x913909['trim']()):[_0x29cba2(0x27a)],_0x1cb686=[];for(const _0x4a4cc1 of _0x3a64c4){const [_0x21a83c,_0x34b135=_0x29cba2(0x1bf)]=_0x4a4cc1[_0x29cba2(0x271)](':');let _0x5669f2=null,_0x3d0623=0x0;const _0x352589=Date['now']();try{const _0x2652f3=new AbortController(),_0x4a01b4=setTimeout(()=>_0x2652f3[_0x29cba2(0x1d8)](),0x1388),_0x3ccc93=await fetch('https://'+_0x21a83c+':'+_0x34b135,{'signal':_0x2652f3[_0x29cba2(0x1da)]});clearTimeout(_0x4a01b4),_0x3ccc93['ok']&&(_0x5669f2=Date[_0x29cba2(0x1db)]()-_0x352589,_0x3d0623=0x1);}catch(_0x4969a1){}_0x1cb686[_0x29cba2(0x268)](_0xd46b82['DB'][_0x29cba2(0x167)](_0x29cba2(0x1b6))[_0x29cba2(0x18a)](_0x4a4cc1,_0x3d0623,_0x5669f2,Math[_0x29cba2(0x243)](Date[_0x29cba2(0x1db)]()/0x3e8)));}try{return await _0xd46b82['DB'][_0x29cba2(0x185)](_0x1cb686),_0x4c0d43[_0x29cba2(0x220)]({'success':!![]});}catch(_0x43bd58){return _0x4c0d43['json']({'error':_0x43bd58?.[_0x29cba2(0x183)]||String(_0x43bd58)},0x1f4);}}),_0x12c2a2['post'](_0xdc3325(0x1d5),async _0x1781e6=>{const _0x2a84e5=_0xdc3325;try{await _0x1781e6[_0x2a84e5(0x261)]['DB'][_0x2a84e5(0x167)](_0x2a84e5(0x27b))[_0x2a84e5(0x18a)](_0x2a84e5(0x209))[_0x2a84e5(0x1cb)]();}catch(_0x1be68e){}const _0x428b75=new Headers();return _0x428b75[_0x2a84e5(0x2d2)](_0x2a84e5(0x178),_0x2a84e5(0x284)),_0x44935c(_0x428b75),new Response(JSON['stringify']({'success':!![]}),{'headers':_0x428b75});}),_0x12c2a2[_0xdc3325(0x291)](_0xdc3325(0x1fb),async _0x352ee7=>{const _0x54a33f=_0xdc3325,{uuid:_0x6c25ea}=_0x352ee7[_0x54a33f(0x1e9)][_0x54a33f(0x2ae)](),_0x198e77=_0x352ee7[_0x54a33f(0x261)];if(!/^[0-9a-fA-F-]{36}$/[_0x54a33f(0x16f)](_0x6c25ea))return _0x352ee7[_0x54a33f(0x220)]({'error':_0x54a33f(0x1eb)},0x190);const _0x40fb09=await _0x198e77['DB']['prepare'](_0x54a33f(0x201))[_0x54a33f(0x18a)](_0x6c25ea)[_0x54a33f(0x214)]();if(!_0x40fb09)return _0x352ee7[_0x54a33f(0x220)]({'error':_0x54a33f(0x21f)},0x194);const _0x1519d2=expiryToISO(_0x40fb09[_0x54a33f(0x1a1)],_0x40fb09[_0x54a33f(0x166)]);return _0x352ee7[_0x54a33f(0x220)]({'traffic_used':_0x40fb09[_0x54a33f(0x2c9)]||0x0,'traffic_limit':_0x40fb09['traffic_limit']||null,'expiration_iso':_0x1519d2});}),_0x12c2a2['get'](_0xdc3325(0x26c),async _0x2a3b30=>{const _0x3026c0=_0xdc3325,_0x3a1078=_0x2a3b30[_0x3026c0(0x1e9)]['param']('uuid'),_0x1fe174=_0x2a3b30[_0x3026c0(0x261)];if(!/^[0-9a-fA-F-]{36}$/['test'](_0x3a1078))return _0x2a3b30['text']('Invalid\x20UUID',0x190);const _0x322454=await _0x1fe174['DB'][_0x3026c0(0x167)](_0x3026c0(0x241))[_0x3026c0(0x18a)](_0x3a1078)[_0x3026c0(0x214)]();if(!_0x322454)return _0x2a3b30['text'](_0x3026c0(0x1c6),0x193);let _0xdae01e=_0x1fe174[_0x3026c0(0x22f)]?_0x1fe174[_0x3026c0(0x22f)][_0x3026c0(0x271)](',')[0x0]:_0x3026c0(0x27a);try{const _0x366b45=await _0x1fe174['DB']['prepare']('SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201')[_0x3026c0(0x214)]();if(_0x366b45?.[_0x3026c0(0x1d4)])_0xdae01e=_0x366b45[_0x3026c0(0x1d4)];}catch(_0x96d690){}const _0x3c3470=_0x2a3b30['req']['headers'][_0x3026c0(0x291)](_0x3026c0(0x2a6))||'example.com',_0x55e4fa='https://'+_0x3c3470+'/xray/'+_0x3a1078,_0x59de23=_0x3026c0(0x2d8)+_0x3c3470+_0x3026c0(0x242)+_0x3a1078,_0x4411aa=expiryToISO(_0x322454[_0x3026c0(0x1a1)],_0x322454[_0x3026c0(0x166)]),_0x5e1da5=_0x3026c0(0x1f9)+_0x3a1078+'</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20'+_0xdae01e+_0x3026c0(0x1d2)+_0x55e4fa+'\x22>'+_0x55e4fa+'</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22'+_0x59de23+'\x22>'+_0x59de23+_0x3026c0(0x23b)+_0x3a1078+_0x3026c0(0x1ba)+(_0x322454['traffic_used']||0x0)+_0x3026c0(0x1f7)+(_0x4411aa||_0x3026c0(0x2c6))+_0x3026c0(0x230),_0x47bd50=new Headers({'Content-Type':_0x3026c0(0x25b)});return _0x44935c(_0x47bd50),new Response(_0x5e1da5,{'headers':_0x47bd50});}),_0x12c2a2[_0xdc3325(0x291)](_0xdc3325(0x227),async _0x35e7ab=>{const _0x1e52b9=_0xdc3325,_0x17dbaa=_0x35e7ab[_0x1e52b9(0x1e9)][_0x1e52b9(0x2ae)](_0x1e52b9(0x2b3));if(!/^[0-9a-fA-F-]{36}$/[_0x1e52b9(0x16f)](_0x17dbaa))return _0x35e7ab[_0x1e52b9(0x1df)]('Invalid\x20UUID',0x190);const _0x15dc6e=_0x35e7ab['req']['headers'][_0x1e52b9(0x291)](_0x1e52b9(0x2a6))||_0x1e52b9(0x1d1),_0x102d8f=[_0x1e52b9(0x266)+_0x17dbaa+'@'+_0x15dc6e+_0x1e52b9(0x24a)+_0x15dc6e+'&path=/ws#xray'],_0xcee7cd=new Headers({'Content-Type':_0x1e52b9(0x2d7)});return _0x44935c(_0xcee7cd),new Response(btoa(_0x102d8f[_0x1e52b9(0x294)]('\x0a')),{'headers':_0xcee7cd});}),_0x12c2a2[_0xdc3325(0x291)]('/sb/:uuid',async _0xa55336=>{const _0x2210d8=_0xdc3325,_0x31c577=_0xa55336[_0x2210d8(0x1e9)]['param'](_0x2210d8(0x2b3));if(!/^[0-9a-fA-F-]{36}$/[_0x2210d8(0x16f)](_0x31c577))return _0xa55336[_0x2210d8(0x1df)](_0x2210d8(0x274),0x190);const _0x3d0a3c=_0xa55336[_0x2210d8(0x1e9)][_0x2210d8(0x2a7)][_0x2210d8(0x291)]('Host')||'example.com',_0x509d42=[_0x2210d8(0x266)+_0x31c577+'@'+_0x3d0a3c+_0x2210d8(0x24a)+_0x3d0a3c+_0x2210d8(0x1aa)],_0x1d9454=new Headers({'Content-Type':_0x2210d8(0x2d7)});return _0x44935c(_0x1d9454),new Response(btoa(_0x509d42[_0x2210d8(0x294)]('\x0a')),{'headers':_0x1d9454});}),_0x12c2a2['all'](_0xdc3325(0x2bc),async _0x24b357=>{const _0x2ff70e=_0xdc3325,_0x7ccff=_0x24b357[_0x2ff70e(0x1e9)],_0x57b9e=_0x24b357[_0x2ff70e(0x261)];if(_0x7ccff['headers'][_0x2ff70e(0x291)](_0x2ff70e(0x26b))?.['toLowerCase']()!==_0x2ff70e(0x21d))return _0x24b357['text'](_0x2ff70e(0x2ce),0x190);try{if(_0x57b9e['VLESS_WASM'])try{await initWasm();}catch(_0x24695f){console['warn']('WASM\x20init\x20failed',_0x24695f);}}catch(_0x3660dc){console[_0x2ff70e(0x1f6)](_0x2ff70e(0x27d),_0x3660dc);}const _0x136912=new globalThis['WebSocketPair'](),[_0x2ad58a,_0x3e4a9b]=Object[_0x2ff70e(0x239)](_0x136912);_0x3e4a9b[_0x2ff70e(0x17d)]();let _0x27f8d0=0x0,_0x134565='';const _0x33e987=async()=>{const _0x38a0d9=_0x2ff70e;try{if(!_0x134565||_0x27f8d0<=0x0)return;_0x24b357[_0x38a0d9(0x169)]['waitUntil'](((async()=>{const _0xd0135f=_0x38a0d9;try{await _0x57b9e['DB'][_0xd0135f(0x167)]('UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?')[_0xd0135f(0x18a)](Math[_0xd0135f(0x211)](_0x27f8d0),_0x134565)[_0xd0135f(0x1cb)]();}catch(_0x4d7c2e){console[_0xd0135f(0x299)](_0xd0135f(0x200),_0x4d7c2e);}})())),_0x27f8d0=0x0;}catch(_0x561ca5){console[_0x38a0d9(0x299)](_0x38a0d9(0x264),_0x561ca5);}},_0x1478cd=setInterval(()=>{_0x33e987();},0x2710);_0x3e4a9b[_0x2ff70e(0x226)](_0x2ff70e(0x183),async _0x206f93=>{const _0x59906e=_0x2ff70e;try{const _0x49dd39=_0x206f93[_0x59906e(0x2d0)];let _0x46d65b;if(typeof _0x49dd39==='string')_0x46d65b=new TextEncoder()['encode'](_0x49dd39);else{if(_0x49dd39 instanceof ArrayBuffer)_0x46d65b=new Uint8Array(_0x49dd39);else{if(_0x49dd39 instanceof Blob)_0x46d65b=new Uint8Array(await _0x49dd39[_0x59906e(0x213)]());else return;}}_0x27f8d0+=_0x46d65b[_0x59906e(0x286)];if(!_0x134565)try{if(_0x46d65b[_0x59906e(0x286)]<0x18){}let _0x2a46fd=null;try{_0x2a46fd=await parseVlessHeader(_0x46d65b);}catch(_0x446e0e){console[_0x59906e(0x1f6)]('WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser',_0x446e0e);}if(!_0x2a46fd){const _0x18ddce=new DataView(_0x46d65b['buffer']),_0x19d76b=new Uint8Array(_0x46d65b['buffer'][_0x59906e(0x1b1)](0x1,0x11)),_0xc9740d=Array['from'](_0x19d76b)['map'](_0x4f32c7=>_0x4f32c7['toString'](0x10)['padStart'](0x2,'0'))[_0x59906e(0x294)](''),_0x2eca1b=_0xc9740d['substring'](0x0,0x8)+'-'+_0xc9740d['substring'](0x8,0xc)+'-'+_0xc9740d['substring'](0xc,0x10)+'-'+_0xc9740d[_0x59906e(0x16b)](0x10,0x14)+'-'+_0xc9740d[_0x59906e(0x16b)](0x14,0x20);_0x2a46fd={'uuid':_0x2eca1b,'command':_0x18ddce[_0x59906e(0x1a6)](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x134565=_0x2a46fd['uuid'];const _0x27baf9=await _0x57b9e['DB'][_0x59906e(0x167)]('SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0x59906e(0x18a)](_0x134565)[_0x59906e(0x214)]();if(!_0x27baf9){_0x3e4a9b[_0x59906e(0x26f)](0x3f3,_0x59906e(0x1c6));return;}const _0x15fb53=expiryToISO(_0x27baf9[_0x59906e(0x1a1)],_0x27baf9[_0x59906e(0x166)]);if(_0x15fb53&&new Date(_0x15fb53)<=new Date()){_0x3e4a9b[_0x59906e(0x26f)](0x3f0,_0x59906e(0x2aa));return;}if(_0x27baf9[_0x59906e(0x289)]&&_0x27baf9['traffic_limit']>0x0&&(_0x27baf9['traffic_used']||0x0)>=_0x27baf9[_0x59906e(0x289)]){_0x3e4a9b[_0x59906e(0x26f)](0x3f0,'Traffic\x20limit\x20exceeded');return;}try{const _0x2ed3e4=_0x7ccff[_0x59906e(0x2a7)][_0x59906e(0x291)]('CF-Connecting-IP')||_0x7ccff[_0x59906e(0x2a7)][_0x59906e(0x291)](_0x59906e(0x282))||'';if(_0x27baf9[_0x59906e(0x1f5)]&&_0x27baf9[_0x59906e(0x1f5)]>-0x1){const _0x542ecb=await _0x57b9e['DB'][_0x59906e(0x167)](_0x59906e(0x188))[_0x59906e(0x18a)](_0x134565)[_0x59906e(0x214)](),_0xe313dc=_0x542ecb?.[_0x59906e(0x2d5)]||0x0;if(_0xe313dc>=_0x27baf9[_0x59906e(0x1f5)]){_0x3e4a9b[_0x59906e(0x26f)](0x3f0,_0x59906e(0x171));return;}}_0x24b357[_0x59906e(0x169)][_0x59906e(0x222)](((async()=>{const _0x288512=_0x59906e;try{await _0x57b9e['DB'][_0x288512(0x167)](_0x288512(0x22c))[_0x288512(0x18a)](_0x134565,_0x7ccff[_0x288512(0x2a7)][_0x288512(0x291)](_0x288512(0x272))||_0x288512(0x172))[_0x288512(0x1cb)]();}catch(_0x202281){console[_0x288512(0x1f6)](_0x288512(0x22e),_0x202281);}})()));}catch(_0x585362){console[_0x59906e(0x1f6)](_0x59906e(0x27e),_0x585362);}}catch(_0x45df1b){console[_0x59906e(0x299)](_0x59906e(0x1ab),_0x45df1b),_0x3e4a9b[_0x59906e(0x26f)](0x3f3,_0x59906e(0x1b5));return;}try{_0x3e4a9b['readyState']===0x1&&_0x3e4a9b[_0x59906e(0x1be)](_0x59906e(0x19d));}catch(_0x2143bb){console[_0x59906e(0x1f6)](_0x59906e(0x1c9),_0x2143bb);}}catch(_0x2da815){console[_0x59906e(0x299)](_0x59906e(0x1ee),_0x2da815);try{_0x3e4a9b['close'](0x3f3,_0x59906e(0x21a));}catch(_0x7bfda2){}}}),_0x3e4a9b[_0x2ff70e(0x226)](_0x2ff70e(0x26f),async()=>{const _0x4dda21=_0x2ff70e;clearInterval(_0x1478cd);try{await _0x33e987();}catch(_0x4eeb7c){console[_0x4dda21(0x1f6)](_0x4dda21(0x1dc),_0x4eeb7c);}});const _0x34b398=new Headers();_0x44935c(_0x34b398);const _0x5369dd={'status':0x65,'webSocket':_0x2ad58a,'headers':_0x34b398};return new Response(null,_0x5369dd);}),_0x12c2a2[_0xdc3325(0x291)](_0xdc3325(0x216),async _0x319b78=>{const _0x1c8c2a=_0xdc3325;return _0x319b78[_0x1c8c2a(0x1df)]('Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.');});}var src_default={'fetch':async(_0x392a5b,_0x4918eb,_0x100cbd)=>{const _0x2b0c8=await getApp();return _0x2b0c8['fetch'](_0x392a5b,_0x4918eb,_0x100cbd);}};export{src_default as default,expiryToISO};