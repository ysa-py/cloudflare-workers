const a0_0x13d784=a0_0x400e;(function(_0x34f908,_0x35b2c6){const _0x2234f7=a0_0x400e,_0x4848b5=_0x34f908();while(!![]){try{const _0x3143d7=-parseInt(_0x2234f7(0x23f))/0x1*(parseInt(_0x2234f7(0x22d))/0x2)+-parseInt(_0x2234f7(0x22f))/0x3*(parseInt(_0x2234f7(0x22b))/0x4)+parseInt(_0x2234f7(0x1ed))/0x5+-parseInt(_0x2234f7(0x236))/0x6*(parseInt(_0x2234f7(0x1fb))/0x7)+-parseInt(_0x2234f7(0x100))/0x8+-parseInt(_0x2234f7(0x217))/0x9+-parseInt(_0x2234f7(0x122))/0xa*(-parseInt(_0x2234f7(0x1ea))/0xb);if(_0x3143d7===_0x35b2c6)break;else _0x4848b5['push'](_0x4848b5['shift']());}catch(_0x1ba195){_0x4848b5['push'](_0x4848b5['shift']());}}}(a0_0x26a9,0x1885d));const a0_0x4cc984=(function(){let _0xe217ad=!![];return function(_0x19299d,_0x16cc8b){const _0x2c699e=_0xe217ad?function(){const _0x4efd89=a0_0x400e;if(_0x16cc8b){const _0x5409af=_0x16cc8b[_0x4efd89(0x24e)](_0x19299d,arguments);return _0x16cc8b=null,_0x5409af;}}:function(){};return _0xe217ad=![],_0x2c699e;};}()),a0_0x5b68e1=a0_0x4cc984(this,function(){const _0x2ced78=a0_0x400e;return a0_0x5b68e1['toString']()[_0x2ced78(0x244)](_0x2ced78(0xe1))[_0x2ced78(0x1cf)]()[_0x2ced78(0x18c)](a0_0x5b68e1)[_0x2ced78(0x244)](_0x2ced78(0xe1));});function a0_0x26a9(){const _0x119d2d=['parsedBody','domain','possibleKeys','traffic_limit','DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','x-content-type-options','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/','/xray/','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22',';\x20Max-Age=','Fatal\x20error','INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)','get','ALL','</p>','read\x20from\x20private\x20field','subtle','Parse\x20error','Stringify','cachedBody','bun','</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22','warn','speed.cloudflare.com:443','text/html;charset=utf-8','first','multipart/form-data','onAbort','redirect','PROXYIPS','text','RegExpRouter','newResponse','push','flush\x20usage\x20error','next()\x20called\x20multiple\x20times','Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.','fetch','Content-Type','indexOf','stringify','(?:','slice','Invalid\x20UUID','process','getAllDecodedParams','close','set','has','toString','matchedRoutes','application/json;\x20charset=UTF-8','keepalive','SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','writer','Admin\x20not\x20configured','body','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','Traffic\x20limit\x20exceeded','\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20','other','randomUUID','expiration_time','varIndex','headers','assign','Bun','string','root','signal','VLESS_WASM',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','&path=/ws#xray','addRoute','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)','11bJUybc','auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','x-forwarded-for','585710VaCdUZ','This\x20context\x20has\x20no\x20ExecutionContext','HEAD','runtime','entries','digest','buffer','buildAllMatchers','html','toUTCString','bind','queries','handler','toUpperCase','389501BflZIy','UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22','enqueue','fire','strict','vless://','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','sort','routers','GET','toLocaleLowerCase','floor','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','$()','padStart','delete','routeIndex','WebSocketPair','INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)','bodyUsed','Set-Cookie','startsWith','message','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','gHSets','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','TrieRouter','204444bjVOas','Cannot\x20','env','sameSite','call','results','SHA-256','http://localhost','url','expiration_date','404\x20Not\x20Found','data','blob','forEach','bodyCache','maxAge','add','endsWith','__lagon__','replace','23020eaqaUN','&#39;','15874zhaNht','count','21OVUUaR','charCodeAt','raw','example.com','\x1b[32m','formData','order','12WDgPLU','res','CF-Connecting-IP','join','showRoutes','notFound','trim','https://','name','21EYAOZg','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','header','send\x20ack\x20failed','then','search','map','/xray/:uuid','includes','var','\x20WHERE\x20uuid\x20=\x20?','getReader','split','/admin/login','getWriter','apply','onError','getPath','buildMatcher','content-type','</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20','test','(((.+)+)+)+$','routerName','reduce','strict-origin-when-cross-origin','addEventListener','write\x20to\x20private\x20field','methods',';\x20Secure','Location','text/plain;charset=utf-8','status','options',':443?type=ws&host=','Missing\x20fields','_basePath','isArray','fastly','SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users','unshift','referrer','&gt;','run','set-cookie','routes','INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>',';\x20HttpOnly','context','index','object','json','444568WjmtgR','keys','score','node',';\x20Domain=','cookie','insert','substring','byteLength','render','/login','error','post','use','ensureTablesExist\x20failed','getParamValue','length','notFoundHandler','chunked','expires','text/html;\x20charset=UTF-8',';\x20Path=','req','edge-light','Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.','repeat','wasm\x20init\x20skipped',';\x20Expires=','/admin/api/health-check','WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser','finalized','stream','encoder',';\x20Partitioned','3798380ofqJDa','buildRegExp','message\x20handler\x20error','[^/]+','Referrer-Policy','batch','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','catch','_var','Forbidden','/ws','(?:|/.*)','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>','handleError','/admin/api/users','/admin/api/users/:uuid','match','./rust/pkg/vless_parser.js','default','isAdminRequest\x20error','toLowerCase','getUint8','patch','mount','all','prepare','middleware','buildRegExpStr','Host','encode','undefined','writable','token_hash','Cookie','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','uuid','arrayBuffer','executionCtx','number','not\x20found','from','jsonT','lagon','getResponse','route','\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20','parseBody','SmartRouter','/static/*','SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','write','invalid','method','abortSubscribers','path','ADMIN_KEY','IP\x20limit\x20exceeded','/sb/',',\x20traffic_used\x20=\x200','SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','WASM\x20module\x20not\x20available\x20at\x20runtime:','SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','activeRouter','router','ip_limit','Deno','Invalid','now','WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.','head','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)','/admin/api/stats','getDecodedParam','setRenderer','\x0a</body></html>','secure','children','waitUntil','Internal\x20Server\x20Error','log','dispatch','Internal\x20error','patterns','clone','responseReadable','accept','/api/user/:uuid/stats','unknown','params','event','request','put','respondWith','releaseLock','param','round','routePath','ip_port','flushUsage\x20outer','&quot;','some','443','nosniff','basePath','constructor','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','abort','&path=/ws#singbox','function','auth_token=','WASM\x20init\x20failed','matchRoute','errorHandler','No\x20active\x20router\x20has\x20been\x20determined\x20yet.','traffic_used','callbacks','append','shift','parse_vless_header','/admin','handleEvent','getSetCookie'];a0_0x26a9=function(){return _0x119d2d;};return a0_0x26a9();}a0_0x5b68e1();var splitPath=_0x2e017b=>{const _0x57047e=a0_0x400e,_0x1d7515=_0x2e017b[_0x57047e(0x24b)]('/');return _0x1d7515[0x0]===''&&_0x1d7515[_0x57047e(0x199)](),_0x1d7515;},splitRoutingPath=_0x31e38d=>{const {groups:_0x29ca72,path:_0x531de6}=extractGroupsFromPath(_0x31e38d),_0x5cb0f1=splitPath(_0x531de6);return replaceGroupMarks(_0x5cb0f1,_0x29ca72);},extractGroupsFromPath=_0x3753aa=>{const _0x45dd77=[];return _0x3753aa=_0x3753aa['replace'](/\{[^}]+\}/g,(_0x139ea5,_0x38dde1)=>{const _0x2a4719=a0_0x400e,_0x5a056a='@'+_0x38dde1;return _0x45dd77[_0x2a4719(0x1bf)]([_0x5a056a,_0x139ea5]),_0x5a056a;}),{'groups':_0x45dd77,'path':_0x3753aa};},replaceGroupMarks=(_0x4f20fe,_0x595b3e)=>{const _0x1b1f06=a0_0x400e;for(let _0x4b39c2=_0x595b3e[_0x1b1f06(0x110)]-0x1;_0x4b39c2>=0x0;_0x4b39c2--){const [_0x36580a]=_0x595b3e[_0x4b39c2];for(let _0x2770f9=_0x4f20fe['length']-0x1;_0x2770f9>=0x0;_0x2770f9--){if(_0x4f20fe[_0x2770f9][_0x1b1f06(0x247)](_0x36580a)){_0x4f20fe[_0x2770f9]=_0x4f20fe[_0x2770f9][_0x1b1f06(0x22a)](_0x36580a,_0x595b3e[_0x4b39c2][0x1]);break;}}}return _0x4f20fe;},patternCache={},getPattern=_0x45e0b2=>{const _0x5f1c0e=a0_0x400e;if(_0x45e0b2==='*')return'*';const _0x1e86ca=_0x45e0b2[_0x5f1c0e(0x132)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x1e86ca)return!patternCache[_0x45e0b2]&&(_0x1e86ca[0x2]?patternCache[_0x45e0b2]=[_0x45e0b2,_0x1e86ca[0x1],new RegExp('^'+_0x1e86ca[0x2]+'$')]:patternCache[_0x45e0b2]=[_0x45e0b2,_0x1e86ca[0x1],!![]]),patternCache[_0x45e0b2];return null;},getPath=_0x1e9c33=>{const _0x4a05e8=a0_0x400e,_0x73aca2=_0x1e9c33[_0x4a05e8(0x21f)][_0x4a05e8(0x132)](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x73aca2?_0x73aca2[0x1]:'';},getQueryStrings=_0x152e16=>{const _0x2b871d=a0_0x400e,_0x935ebf=_0x152e16['indexOf']('?',0x8);return _0x935ebf===-0x1?'':'?'+_0x152e16[_0x2b871d(0x1c8)](_0x935ebf+0x1);},getPathNoStrict=_0x301409=>{const _0x751a61=a0_0x400e,_0x307805=getPath(_0x301409);return _0x307805[_0x751a61(0x110)]>0x1&&_0x307805[_0x307805[_0x751a61(0x110)]-0x1]==='/'?_0x307805[_0x751a61(0x1c8)](0x0,-0x1):_0x307805;},mergePath=(..._0x5273e5)=>{let _0x27441c='',_0x37d78d=![];for(let _0x3f2646 of _0x5273e5){_0x27441c[_0x27441c['length']-0x1]==='/'&&(_0x27441c=_0x27441c['slice'](0x0,-0x1),_0x37d78d=!![]);_0x3f2646[0x0]!=='/'&&(_0x3f2646='/'+_0x3f2646);if(_0x3f2646==='/'&&_0x37d78d)_0x27441c=_0x27441c+'/';else _0x3f2646!=='/'&&(_0x27441c=''+_0x27441c+_0x3f2646);_0x3f2646==='/'&&_0x27441c===''&&(_0x27441c='/');}return _0x27441c;},checkOptionalParameter=_0x14e9cf=>{const _0x15cfba=a0_0x400e;if(!_0x14e9cf['match'](/\:.+\?$/))return null;const _0x141e3d=_0x14e9cf[_0x15cfba(0x24b)]('/'),_0x4b51ae=[];let _0x579ed2='';return _0x141e3d[_0x15cfba(0x224)](_0x552f50=>{const _0x5823f6=_0x15cfba;if(_0x552f50!==''&&!/\:/[_0x5823f6(0x254)](_0x552f50))_0x579ed2+='/'+_0x552f50;else{if(/\:/[_0x5823f6(0x254)](_0x552f50)){if(/\?/[_0x5823f6(0x254)](_0x552f50)){_0x4b51ae['length']===0x0&&_0x579ed2===''?_0x4b51ae[_0x5823f6(0x1bf)]('/'):_0x4b51ae[_0x5823f6(0x1bf)](_0x579ed2);const _0x34de11=_0x552f50[_0x5823f6(0x22a)]('?','');_0x579ed2+='/'+_0x34de11,_0x4b51ae[_0x5823f6(0x1bf)](_0x579ed2);}else _0x579ed2+='/'+_0x552f50;}}}),_0x4b51ae['filter']((_0x4c0bc7,_0xdd876d,_0x204b90)=>_0x204b90['indexOf'](_0x4c0bc7)===_0xdd876d);},_decodeURI=_0x13c062=>{const _0xbb9d80=a0_0x400e;if(!/[%+]/[_0xbb9d80(0x254)](_0x13c062))return _0x13c062;return _0x13c062['indexOf']('+')!==-0x1&&(_0x13c062=_0x13c062['replace'](/\+/g,'\x20')),/%/['test'](_0x13c062)?decodeURIComponent_(_0x13c062):_0x13c062;},_getQueryParam=(_0x2897ec,_0x4e301f,_0x84e9c6)=>{const _0x45ee33=a0_0x400e;let _0xe68b79;if(!_0x84e9c6&&_0x4e301f&&!/[%+]/[_0x45ee33(0x254)](_0x4e301f)){let _0x21e6c7=_0x2897ec['indexOf']('?'+_0x4e301f,0x8);_0x21e6c7===-0x1&&(_0x21e6c7=_0x2897ec['indexOf']('&'+_0x4e301f,0x8));while(_0x21e6c7!==-0x1){const _0x21c171=_0x2897ec[_0x45ee33(0x230)](_0x21e6c7+_0x4e301f['length']+0x1);if(_0x21c171===0x3d){const _0x5dbd8b=_0x21e6c7+_0x4e301f[_0x45ee33(0x110)]+0x2,_0x3c7c81=_0x2897ec[_0x45ee33(0x1c5)]('&',_0x5dbd8b);return _decodeURI(_0x2897ec['slice'](_0x5dbd8b,_0x3c7c81===-0x1?void 0x0:_0x3c7c81));}else{if(_0x21c171==0x26||isNaN(_0x21c171))return'';}_0x21e6c7=_0x2897ec[_0x45ee33(0x1c5)]('&'+_0x4e301f,_0x21e6c7+0x1);}_0xe68b79=/[%+]/[_0x45ee33(0x254)](_0x2897ec);if(!_0xe68b79)return void 0x0;}const _0x3d5342={};_0xe68b79??(_0xe68b79=/[%+]/[_0x45ee33(0x254)](_0x2897ec));let _0x157944=_0x2897ec['indexOf']('?',0x8);while(_0x157944!==-0x1){const _0x10bb27=_0x2897ec[_0x45ee33(0x1c5)]('&',_0x157944+0x1);let _0x37ff6b=_0x2897ec[_0x45ee33(0x1c5)]('=',_0x157944);_0x37ff6b>_0x10bb27&&_0x10bb27!==-0x1&&(_0x37ff6b=-0x1);let _0x5ef5d5=_0x2897ec[_0x45ee33(0x1c8)](_0x157944+0x1,_0x37ff6b===-0x1?_0x10bb27===-0x1?void 0x0:_0x10bb27:_0x37ff6b);_0xe68b79&&(_0x5ef5d5=_decodeURI(_0x5ef5d5));_0x157944=_0x10bb27;if(_0x5ef5d5==='')continue;let _0x384956;_0x37ff6b===-0x1?_0x384956='':(_0x384956=_0x2897ec[_0x45ee33(0x1c8)](_0x37ff6b+0x1,_0x10bb27===-0x1?void 0x0:_0x10bb27),_0xe68b79&&(_0x384956=_decodeURI(_0x384956)));if(_0x84e9c6){!(_0x3d5342[_0x5ef5d5]&&Array[_0x45ee33(0xf0)](_0x3d5342[_0x5ef5d5]))&&(_0x3d5342[_0x5ef5d5]=[]);;_0x3d5342[_0x5ef5d5][_0x45ee33(0x1bf)](_0x384956);}else _0x3d5342[_0x5ef5d5]??(_0x3d5342[_0x5ef5d5]=_0x384956);}return _0x4e301f?_0x3d5342[_0x4e301f]:_0x3d5342;},getQueryParam=_getQueryParam,getQueryParams=(_0x1553a1,_0x5c2b4d)=>{return _getQueryParam(_0x1553a1,_0x5c2b4d,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x3950b7,_0x2a3989)=>{const _0x2ec60a=a0_0x400e,_0x15c6b3=_0x3950b7[_0x2ec60a(0x23c)]()[_0x2ec60a(0x24b)](';');return _0x15c6b3[_0x2ec60a(0xe3)]((_0x604416,_0x5effc2)=>{const _0x535b99=_0x2ec60a;_0x5effc2=_0x5effc2[_0x535b99(0x23c)]();const _0x1ec6b7=_0x5effc2[_0x535b99(0x1c5)]('=');if(_0x1ec6b7===-0x1)return _0x604416;const _0x13afa4=_0x5effc2[_0x535b99(0x107)](0x0,_0x1ec6b7)[_0x535b99(0x23c)]();if(_0x2a3989&&_0x2a3989!==_0x13afa4||!validCookieNameRegEx['test'](_0x13afa4))return _0x604416;let _0x5e4d8e=_0x5effc2[_0x535b99(0x107)](_0x1ec6b7+0x1)[_0x535b99(0x23c)]();return _0x5e4d8e['startsWith']('\x22')&&_0x5e4d8e[_0x535b99(0x228)]('\x22')&&(_0x5e4d8e=_0x5e4d8e['slice'](0x1,-0x1)),validCookieValueRegEx[_0x535b99(0x254)](_0x5e4d8e)&&(_0x604416[_0x13afa4]=decodeURIComponent_(_0x5e4d8e)),_0x604416;},{});},_serialize=(_0x5f1af0,_0x47fc7b,_0x4bbba7={})=>{const _0x15309b=a0_0x400e;let _0x53f275=_0x5f1af0+'='+_0x47fc7b;return _0x4bbba7&&typeof _0x4bbba7[_0x15309b(0x226)]===_0x15309b(0x149)&&_0x4bbba7[_0x15309b(0x226)]>=0x0&&(_0x53f275+=_0x15309b(0x1a7)+Math[_0x15309b(0x207)](_0x4bbba7[_0x15309b(0x226)])),_0x4bbba7[_0x15309b(0x19f)]&&(_0x53f275+=_0x15309b(0x104)+_0x4bbba7[_0x15309b(0x19f)]),_0x4bbba7[_0x15309b(0x15a)]&&(_0x53f275+=_0x15309b(0x115)+_0x4bbba7[_0x15309b(0x15a)]),_0x4bbba7[_0x15309b(0x113)]&&(_0x53f275+=_0x15309b(0x11b)+_0x4bbba7['expires'][_0x15309b(0x1f6)]()),_0x4bbba7['httpOnly']&&(_0x53f275+=_0x15309b(0xfb)),_0x4bbba7[_0x15309b(0x16f)]&&(_0x53f275+=_0x15309b(0xe8)),_0x4bbba7[_0x15309b(0x21a)]&&(_0x53f275+=';\x20SameSite='+_0x4bbba7[_0x15309b(0x21a)]),_0x4bbba7['partitioned']&&(_0x53f275+=_0x15309b(0x121)),_0x53f275;},serialize=(_0x45fa90,_0x3cc46b,_0x3586c2={})=>{return _0x3cc46b=encodeURIComponent(_0x3cc46b),_serialize(_0x45fa90,_0x3cc46b,_0x3586c2);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0x255a84,_0x5745c8)=>{const _0x53b204=a0_0x400e,_0x2c5289=new String(_0x255a84);return _0x2c5289['isEscaped']=!![],_0x2c5289[_0x53b204(0x197)]=_0x5745c8,_0x2c5289;},resolveCallback=async(_0x5479e4,_0x2fea36,_0x5a6517,_0x18d436,_0x26aba6)=>{const _0x5b2092=a0_0x400e,_0x334669=_0x5479e4[_0x5b2092(0x197)];if(!_0x334669?.[_0x5b2092(0x110)])return Promise['resolve'](_0x5479e4);_0x26aba6?_0x26aba6[0x0]+=_0x5479e4:_0x26aba6=[_0x5479e4];const _0x17fba8=Promise[_0x5b2092(0x13a)](_0x334669[_0x5b2092(0x245)](_0x4c5fa8=>_0x4c5fa8({'phase':_0x2fea36,'buffer':_0x26aba6,'context':_0x18d436})))[_0x5b2092(0x243)](_0x587aa0=>Promise[_0x5b2092(0x13a)](_0x587aa0['filter'](Boolean)[_0x5b2092(0x245)](_0x10dce1=>resolveCallback(_0x10dce1,_0x2fea36,![],_0x18d436,_0x26aba6)))[_0x5b2092(0x243)](()=>_0x26aba6[0x0]));return _0x5a6517?raw(await _0x17fba8,_0x334669):_0x17fba8;},StreamingApi=class{constructor(_0x25ddaf,_0x4ba151){const _0x4d8a5a=a0_0x400e;this[_0x4d8a5a(0x159)]=[],this['writable']=_0x25ddaf,this[_0x4d8a5a(0x1d4)]=_0x25ddaf[_0x4d8a5a(0x24d)](),this[_0x4d8a5a(0x120)]=new TextEncoder();const _0x419b56=_0x4ba151[_0x4d8a5a(0x24a)]();this[_0x4d8a5a(0x178)]=new ReadableStream({async 'pull'(_0x2d73d3){const _0x2f00e4=_0x4d8a5a,{done:_0x18814b,value:_0x5624e8}=await _0x419b56['read']();_0x18814b?_0x2d73d3[_0x2f00e4(0x1cc)]():_0x2d73d3[_0x2f00e4(0x1fe)](_0x5624e8);},'cancel':()=>{const _0x825f2=_0x4d8a5a;this[_0x825f2(0x159)][_0x825f2(0x224)](_0x25f595=>_0x25f595());}});}async['write'](_0x4a08bd){const _0x3bf530=a0_0x400e;try{typeof _0x4a08bd==='string'&&(_0x4a08bd=this[_0x3bf530(0x120)][_0x3bf530(0x13f)](_0x4a08bd)),await this[_0x3bf530(0x1d4)][_0x3bf530(0x156)](_0x4a08bd);}catch(_0x554b31){}return this;}async['writeln'](_0x2ffaca){const _0x18b99a=a0_0x400e;return await this[_0x18b99a(0x156)](_0x2ffaca+'\x0a'),this;}['sleep'](_0x262e86){return new Promise(_0x1e8d42=>setTimeout(_0x1e8d42,_0x262e86));}async['close'](){const _0x4576bd=a0_0x400e;try{await this[_0x4576bd(0x1d4)]['close']();}catch(_0x4aeb6d){}}async['pipe'](_0x25396e){const _0x1c1eda=a0_0x400e;this[_0x1c1eda(0x1d4)][_0x1c1eda(0x181)](),await _0x25396e['pipeTo'](this[_0x1c1eda(0x141)],{'preventClose':!![]}),this[_0x1c1eda(0x1d4)]=this[_0x1c1eda(0x141)][_0x1c1eda(0x24d)]();}async[a0_0x13d784(0x1b9)](_0x53d2e1){const _0x3322f6=a0_0x13d784;this[_0x3322f6(0x159)][_0x3322f6(0x1bf)](_0x53d2e1);}},__accessCheck=(_0x22d3f9,_0x4145ad,_0x32c847)=>{const _0x5c5a9a=a0_0x13d784;if(!_0x4145ad['has'](_0x22d3f9))throw TypeError(_0x5c5a9a(0x218)+_0x32c847);},__privateGet=(_0x2aafa8,_0x249f09,_0x5f36d5)=>{const _0x41368f=a0_0x13d784;return __accessCheck(_0x2aafa8,_0x249f09,_0x41368f(0x1ad)),_0x5f36d5?_0x5f36d5[_0x41368f(0x21b)](_0x2aafa8):_0x249f09[_0x41368f(0x1aa)](_0x2aafa8);},__privateAdd=(_0x2eb9c0,_0x56461e,_0x1820ff)=>{const _0x134699=a0_0x13d784;if(_0x56461e[_0x134699(0x1ce)](_0x2eb9c0))throw TypeError(_0x134699(0x1d7));_0x56461e instanceof WeakSet?_0x56461e[_0x134699(0x227)](_0x2eb9c0):_0x56461e[_0x134699(0x1cd)](_0x2eb9c0,_0x1820ff);},__privateSet=(_0x16e3d8,_0xdc9c97,_0x1b6b91,_0x225762)=>{const _0x4d26cb=a0_0x13d784;return __accessCheck(_0x16e3d8,_0xdc9c97,_0x4d26cb(0xe6)),_0x225762?_0x225762[_0x4d26cb(0x21b)](_0x16e3d8,_0x1b6b91):_0xdc9c97['set'](_0x16e3d8,_0x1b6b91),_0x1b6b91;},TEXT_PLAIN='text/plain;\x20charset=UTF-8',setHeaders=(_0x41500e,_0x400ff6={})=>{const _0x3cabb9=a0_0x13d784;return Object[_0x3cabb9(0x1f1)](_0x400ff6)[_0x3cabb9(0x224)](([_0x53b085,_0x4322c3])=>_0x41500e[_0x3cabb9(0x1cd)](_0x53b085,_0x4322c3)),_0x41500e;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x456258,_0x11e7ae){const _0x3bf773=a0_0x13d784;this['env']={},this[_0x3bf773(0x12a)]={},this[_0x3bf773(0x11e)]=![],this['error']=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this['renderer']=_0x28d3e4=>this[_0x3bf773(0x1f5)](_0x28d3e4),this[_0x3bf773(0x111)]=()=>new Response(),this[_0x3bf773(0x109)]=(..._0x30058a)=>this['renderer'](..._0x30058a),this[_0x3bf773(0x16d)]=_0xe2e67e=>{this['renderer']=_0xe2e67e;},this[_0x3bf773(0x241)]=(_0x52c22a,_0xbcea61,_0x1d3073)=>{const _0x57cb15=_0x3bf773;if(_0xbcea61===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)[_0x57cb15(0x20b)](_0x52c22a);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x52c22a[_0x57cb15(0x206)]()];this[_0x57cb15(0x11e)]&&this[_0x57cb15(0x237)]['headers']['delete'](_0x52c22a);return;}_0x1d3073?.[_0x57cb15(0x198)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)[_0x57cb15(0x198)](_0x52c22a,_0xbcea61)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x57cb15(0x1cd)](_0x52c22a,_0xbcea61):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x52c22a['toLowerCase']()]=_0xbcea61),this['finalized']&&(_0x1d3073?.['append']?this[_0x57cb15(0x237)][_0x57cb15(0x1de)][_0x57cb15(0x198)](_0x52c22a,_0xbcea61):this['res']['headers'][_0x57cb15(0x1cd)](_0x52c22a,_0xbcea61));},this[_0x3bf773(0xeb)]=_0x5dfc5d=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x5dfc5d);},this['set']=(_0x19ad96,_0x2bb9c7)=>{const _0x8f9813=_0x3bf773;this['_var']??(this['_var']={}),this[_0x8f9813(0x12a)][_0x19ad96]=_0x2bb9c7;},this[_0x3bf773(0x1aa)]=_0x2f446f=>{const _0x548276=_0x3bf773;return this[_0x548276(0x12a)]?this[_0x548276(0x12a)][_0x2f446f]:void 0x0;},this['newResponse']=(_0x4b2a21,_0x592b49,_0x138ce5)=>{const _0x332aa5=_0x3bf773;if(__privateGet(this,_isFresh)&&!_0x138ce5&&!_0x592b49&&__privateGet(this,_status)===0xc8)return new Response(_0x4b2a21,{'headers':__privateGet(this,_preparedHeaders)});if(_0x592b49&&typeof _0x592b49!==_0x332aa5(0x149)){const _0x213b4d=setHeaders(new Headers(_0x592b49[_0x332aa5(0x1de)]),__privateGet(this,_preparedHeaders));return new Response(_0x4b2a21,{'headers':_0x213b4d,'status':_0x592b49[_0x332aa5(0xeb)]});}const _0x1d9dc7=typeof _0x592b49==='number'?_0x592b49:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)['headers'][_0x332aa5(0x224)]((_0x5a4025,_0x35d88b)=>{const _0x471906=_0x332aa5;__privateGet(this,_headers)?.[_0x471906(0x1cd)](_0x35d88b,_0x5a4025);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x138ce5??(_0x138ce5={});for(const [_0x4a3e5b,_0x2b1ba6]of Object[_0x332aa5(0x1f1)](_0x138ce5)){if(typeof _0x2b1ba6===_0x332aa5(0x1e1))__privateGet(this,_headers)[_0x332aa5(0x1cd)](_0x4a3e5b,_0x2b1ba6);else{__privateGet(this,_headers)[_0x332aa5(0x20b)](_0x4a3e5b);for(const _0x1f1a1e of _0x2b1ba6){__privateGet(this,_headers)[_0x332aa5(0x198)](_0x4a3e5b,_0x1f1a1e);}}}return new Response(_0x4b2a21,{'status':_0x1d9dc7,'headers':__privateGet(this,_headers)});},this[_0x3bf773(0x1d6)]=(_0x571eff,_0x53c56b,_0x1f9a9f)=>{const _0x562063=_0x3bf773;return typeof _0x53c56b==='number'?this[_0x562063(0x1be)](_0x571eff,_0x53c56b,_0x1f9a9f):this[_0x562063(0x1be)](_0x571eff,_0x53c56b);},this[_0x3bf773(0x1bc)]=(_0x3f1f83,_0x2b755a,_0x22cf27)=>{const _0x144ba7=_0x3bf773;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0x22cf27&&!_0x2b755a)return new Response(_0x3f1f83);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)[_0x144ba7(0x252)]=TEXT_PLAIN,typeof _0x2b755a==='number'?this[_0x144ba7(0x1be)](_0x3f1f83,_0x2b755a,_0x22cf27):this[_0x144ba7(0x1be)](_0x3f1f83,_0x2b755a);},this[_0x3bf773(0xff)]=(_0x4f9c2d,_0x404eb3,_0x5e61dd)=>{const _0x9a5c9f=_0x3bf773,_0x476a1e=JSON[_0x9a5c9f(0x1c6)](_0x4f9c2d);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x9a5c9f(0x252)]=_0x9a5c9f(0x1d1),typeof _0x404eb3===_0x9a5c9f(0x149)?this[_0x9a5c9f(0x1be)](_0x476a1e,_0x404eb3,_0x5e61dd):this[_0x9a5c9f(0x1be)](_0x476a1e,_0x404eb3);},this[_0x3bf773(0x14c)]=(_0x1c69ba,_0x30c216,_0x1e2e76)=>{const _0x11e167=_0x3bf773;return this[_0x11e167(0xff)](_0x1c69ba,_0x30c216,_0x1e2e76);},this['html']=(_0x4eee34,_0x2f6ea2,_0x4f634e)=>{const _0x248ebf=_0x3bf773;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x248ebf(0x252)]=_0x248ebf(0x114);if(typeof _0x4eee34===_0x248ebf(0xfe)){!(_0x4eee34 instanceof Promise)&&(_0x4eee34=_0x4eee34[_0x248ebf(0x1cf)]());if(_0x4eee34 instanceof Promise)return _0x4eee34[_0x248ebf(0x243)](_0x5469e9=>resolveCallback(_0x5469e9,HtmlEscapedCallbackPhase[_0x248ebf(0x1b0)],![],{}))[_0x248ebf(0x243)](_0x25dcdd=>{const _0x5867ca=_0x248ebf;return typeof _0x2f6ea2==='number'?this[_0x5867ca(0x1be)](_0x25dcdd,_0x2f6ea2,_0x4f634e):this[_0x5867ca(0x1be)](_0x25dcdd,_0x2f6ea2);});}return typeof _0x2f6ea2===_0x248ebf(0x149)?this[_0x248ebf(0x1be)](_0x4eee34,_0x2f6ea2,_0x4f634e):this[_0x248ebf(0x1be)](_0x4eee34,_0x2f6ea2);},this[_0x3bf773(0x1ba)]=(_0x479d0e,_0x130dca=0x12e)=>{const _0xfc5bb5=_0x3bf773;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0xfc5bb5(0x1cd)](_0xfc5bb5(0xe9),_0x479d0e),this[_0xfc5bb5(0x1be)](null,_0x130dca);},this['streamText']=(_0x4c5087,_0x333639,_0x4133e3)=>{const _0x1cfccc=_0x3bf773;return _0x4133e3??(_0x4133e3={}),this['header']('content-type',TEXT_PLAIN),this[_0x1cfccc(0x241)](_0x1cfccc(0x1a3),_0x1cfccc(0x18a)),this[_0x1cfccc(0x241)]('transfer-encoding',_0x1cfccc(0x112)),this['stream'](_0x4c5087,_0x333639,_0x4133e3);},this[_0x3bf773(0x11f)]=(_0x50205b,_0x23e4df,_0x30d24d)=>{const _0x3c4843=_0x3bf773,{readable:_0xad87b3,writable:_0x221870}=new TransformStream(),_0x593996=new StreamingApi(_0x221870,_0xad87b3);return _0x50205b(_0x593996)['finally'](()=>_0x593996['close']()),typeof _0x23e4df===_0x3c4843(0x149)?this['newResponse'](_0x593996['responseReadable'],_0x23e4df,_0x30d24d):this['newResponse'](_0x593996['responseReadable'],_0x23e4df);},this[_0x3bf773(0x105)]=(_0x15435e,_0x31cee8,_0x2ed544)=>{const _0x37f23c=_0x3bf773,_0x4db0e8=serialize(_0x15435e,_0x31cee8,_0x2ed544);this[_0x37f23c(0x241)]('set-cookie',_0x4db0e8,{'append':!![]});},this['notFound']=()=>{const _0x470d91=_0x3bf773;return this[_0x470d91(0x111)](this);},this[_0x3bf773(0x116)]=_0x456258,_0x11e7ae&&(__privateSet(this,_executionCtx,_0x11e7ae[_0x3bf773(0x148)]),this[_0x3bf773(0x219)]=_0x11e7ae[_0x3bf773(0x219)],_0x11e7ae[_0x3bf773(0x111)]&&(this[_0x3bf773(0x111)]=_0x11e7ae[_0x3bf773(0x111)]));}get[a0_0x13d784(0x17d)](){const _0x116796=a0_0x13d784;if(__privateGet(this,_executionCtx)&&_0x116796(0x180)in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error('This\x20context\x20has\x20no\x20FetchEvent');}get['executionCtx'](){const _0x520a88=a0_0x13d784;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x520a88(0x1ee));}get[a0_0x13d784(0x237)](){const _0x42d98f=a0_0x13d784;return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response(_0x42d98f(0x221),{'status':0x194}));}set[a0_0x13d784(0x237)](_0x397be3){const _0x724a74=a0_0x13d784;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x397be3){__privateGet(this,_res)[_0x724a74(0x1de)][_0x724a74(0x20b)](_0x724a74(0x252));for(const [_0x7dc13b,_0x1ddba6]of __privateGet(this,_res)[_0x724a74(0x1de)][_0x724a74(0x1f1)]()){if(_0x7dc13b===_0x724a74(0xf7)){const _0x15f0b7=__privateGet(this,_res)[_0x724a74(0x1de)][_0x724a74(0x19d)]();_0x397be3[_0x724a74(0x1de)][_0x724a74(0x20b)](_0x724a74(0xf7));for(const _0x5abd22 of _0x15f0b7){_0x397be3['headers'][_0x724a74(0x198)](_0x724a74(0xf7),_0x5abd22);}}else _0x397be3[_0x724a74(0x1de)][_0x724a74(0x1cd)](_0x7dc13b,_0x1ddba6);}}__privateSet(this,_res,_0x397be3),this[_0x724a74(0x11e)]=!![];}get[a0_0x13d784(0x248)](){const _0x462849=a0_0x13d784;return{...this[_0x462849(0x12a)]};}get[a0_0x13d784(0x1f0)](){const _0x240784=a0_0x13d784,_0x1751ea=globalThis;if(_0x1751ea?.[_0x240784(0x165)]!==void 0x0)return'deno';if(_0x1751ea?.[_0x240784(0x1e0)]!==void 0x0)return _0x240784(0x1b2);if(typeof _0x1751ea?.[_0x240784(0x20d)]===_0x240784(0x190))return'workerd';if(typeof _0x1751ea?.['EdgeRuntime']==='string')return _0x240784(0x117);if(_0x1751ea?.[_0x240784(0xf1)]!==void 0x0)return _0x240784(0xf1);if(_0x1751ea?.[_0x240784(0x229)]!==void 0x0)return _0x240784(0x14d);if(_0x1751ea?.[_0x240784(0x1ca)]?.['release']?.[_0x240784(0x23e)]===_0x240784(0x103))return _0x240784(0x103);return _0x240784(0x1da);}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x50bee1,_0x3843a3,_0x11b17f)=>{return(_0x4929b0,_0x31f3fb)=>{let _0x2ee9e1=-0x1;return _0x507207(0x0);async function _0x507207(_0xcc1cd0){const _0x293ce4=a0_0x400e;if(_0xcc1cd0<=_0x2ee9e1)throw new Error(_0x293ce4(0x1c1));_0x2ee9e1=_0xcc1cd0;let _0x5a7510,_0x4be860=![],_0x3b1f48;_0x50bee1[_0xcc1cd0]?(_0x3b1f48=_0x50bee1[_0xcc1cd0][0x0][0x0],_0x4929b0 instanceof Context&&(_0x4929b0[_0x293ce4(0x116)]['routeIndex']=_0xcc1cd0)):_0x3b1f48=_0xcc1cd0===_0x50bee1[_0x293ce4(0x110)]&&_0x31f3fb||void 0x0;if(!_0x3b1f48)_0x4929b0 instanceof Context&&_0x4929b0[_0x293ce4(0x11e)]===![]&&_0x11b17f&&(_0x5a7510=await _0x11b17f(_0x4929b0));else try{_0x5a7510=await _0x3b1f48(_0x4929b0,()=>{return _0x507207(_0xcc1cd0+0x1);});}catch(_0x3f0f39){if(_0x3f0f39 instanceof Error&&_0x4929b0 instanceof Context&&_0x3843a3)_0x4929b0[_0x293ce4(0x10b)]=_0x3f0f39,_0x5a7510=await _0x3843a3(_0x3f0f39,_0x4929b0),_0x4be860=!![];else throw _0x3f0f39;}return _0x5a7510&&(_0x4929b0[_0x293ce4(0x11e)]===![]||_0x4be860)&&(_0x4929b0[_0x293ce4(0x237)]=_0x5a7510),_0x4929b0;}};},HTTPException=class extends Error{constructor(_0x480fb7=0x1f4,_0x42fa6c){const _0x1a3e9e=a0_0x13d784;super(_0x42fa6c?.[_0x1a3e9e(0x212)]),this['res']=_0x42fa6c?.[_0x1a3e9e(0x237)],this[_0x1a3e9e(0xeb)]=_0x480fb7;}[a0_0x13d784(0x14e)](){const _0x4357d=a0_0x13d784;if(this['res'])return this[_0x4357d(0x237)];return new Response(this['message'],{'status':this[_0x4357d(0xeb)]});}},parseBody=async(_0x48b557,_0x2641ce={'all':![]})=>{const _0xa01555=a0_0x13d784,_0x36d0a1=_0x48b557[_0xa01555(0x1de)][_0xa01555(0x1aa)](_0xa01555(0x1c4));if(isFormDataContent(_0x36d0a1))return parseFormData(_0x48b557,_0x2641ce);return{};};function isFormDataContent(_0x160b00){const _0x5b17ba=a0_0x13d784;if(_0x160b00===null)return![];return _0x160b00[_0x5b17ba(0x211)](_0x5b17ba(0x1b8))||_0x160b00['startsWith']('application/x-www-form-urlencoded');}async function parseFormData(_0x3af5b6,_0x4dd5e4){const _0x3a6e74=a0_0x13d784,_0x38cd41=await _0x3af5b6[_0x3a6e74(0x234)]();if(_0x38cd41)return convertFormDataToBodyData(_0x38cd41,_0x4dd5e4);return{};}function convertFormDataToBodyData(_0x4fd6e0,_0x5cba12){const _0x1ed932=a0_0x13d784,_0x484051={};return _0x4fd6e0[_0x1ed932(0x224)]((_0x4e2801,_0x1bfa30)=>{const _0x29a557=_0x1ed932,_0x40f008=_0x5cba12['all']||_0x1bfa30[_0x29a557(0x228)]('[]');!_0x40f008?_0x484051[_0x1bfa30]=_0x4e2801:handleParsingAllValues(_0x484051,_0x1bfa30,_0x4e2801);}),_0x484051;}var handleParsingAllValues=(_0x226fbf,_0x207722,_0x13eebf)=>{if(_0x226fbf[_0x207722]&&isArrayField(_0x226fbf[_0x207722]))appendToExistingArray(_0x226fbf[_0x207722],_0x13eebf);else _0x226fbf[_0x207722]?convertToNewArray(_0x226fbf,_0x207722,_0x13eebf):_0x226fbf[_0x207722]=_0x13eebf;};function isArrayField(_0x13aee3){const _0x22a12f=a0_0x13d784;return Array[_0x22a12f(0xf0)](_0x13aee3);}var appendToExistingArray=(_0x528ef3,_0x602973)=>{const _0x2760ad=a0_0x13d784;_0x528ef3[_0x2760ad(0x1bf)](_0x602973);},convertToNewArray=(_0x13d713,_0x1631cf,_0x1753e6)=>{_0x13d713[_0x1631cf]=[_0x13d713[_0x1631cf],_0x1753e6];},__accessCheck2=(_0x1cdce0,_0x48ffb6,_0x136c93)=>{const _0x513c78=a0_0x13d784;if(!_0x48ffb6[_0x513c78(0x1ce)](_0x1cdce0))throw TypeError(_0x513c78(0x218)+_0x136c93);},__privateGet2=(_0x4e2b10,_0x4a3267,_0x56f30b)=>{const _0x22b7e9=a0_0x13d784;return __accessCheck2(_0x4e2b10,_0x4a3267,_0x22b7e9(0x1ad)),_0x56f30b?_0x56f30b[_0x22b7e9(0x21b)](_0x4e2b10):_0x4a3267['get'](_0x4e2b10);},__privateAdd2=(_0x2631c0,_0x26af6c,_0x4b2122)=>{const _0x2f4b9f=a0_0x13d784;if(_0x26af6c[_0x2f4b9f(0x1ce)](_0x2631c0))throw TypeError('Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once');_0x26af6c instanceof WeakSet?_0x26af6c[_0x2f4b9f(0x227)](_0x2631c0):_0x26af6c[_0x2f4b9f(0x1cd)](_0x2631c0,_0x4b2122);},__privateSet2=(_0x425212,_0x59468b,_0x55a45d,_0x8421dd)=>{const _0x218f53=a0_0x13d784;return __accessCheck2(_0x425212,_0x59468b,_0x218f53(0xe6)),_0x8421dd?_0x8421dd[_0x218f53(0x21b)](_0x425212,_0x55a45d):_0x59468b[_0x218f53(0x1cd)](_0x425212,_0x55a45d),_0x55a45d;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x2360d7,_0x4eb15a='/',_0x42fc1a=[[]]){const _0x536dbe=a0_0x13d784;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this['routeIndex']=0x0,this[_0x536dbe(0x225)]={},this['cachedBody']=_0x413c72=>{const {bodyCache:_0x13f0ca,raw:_0x597c75}=this,_0x2d6b00=_0x13f0ca[_0x413c72];if(_0x2d6b00)return _0x2d6b00;if(_0x13f0ca['arrayBuffer'])return((async()=>{const _0x4de6bd=a0_0x400e;return await new Response(_0x13f0ca[_0x4de6bd(0x147)])[_0x413c72]();})());return _0x13f0ca[_0x413c72]=_0x597c75[_0x413c72]();},this[_0x536dbe(0x231)]=_0x2360d7,this[_0x536dbe(0x15a)]=_0x4eb15a,__privateSet2(this,_matchResult,_0x42fc1a),__privateSet2(this,_validatedData,{});}[a0_0x13d784(0x182)](_0x1a6837){const _0x5e2868=a0_0x13d784;return _0x1a6837?this['getDecodedParam'](_0x1a6837):this[_0x5e2868(0x1cb)]();}[a0_0x13d784(0x16c)](_0x431054){const _0x560c70=a0_0x13d784,_0x522aa1=__privateGet2(this,_matchResult)[0x0][this[_0x560c70(0x20c)]][0x1][_0x431054],_0x2dfb91=this[_0x560c70(0x10f)](_0x522aa1);return _0x2dfb91?/\%/[_0x560c70(0x254)](_0x2dfb91)?decodeURIComponent_(_0x2dfb91):_0x2dfb91:void 0x0;}[a0_0x13d784(0x1cb)](){const _0x51562d=a0_0x13d784,_0x41e574={},_0x4711c8=Object[_0x51562d(0x101)](__privateGet2(this,_matchResult)[0x0][this[_0x51562d(0x20c)]][0x1]);for(const _0x9d3037 of _0x4711c8){const _0x26ce7d=this[_0x51562d(0x10f)](__privateGet2(this,_matchResult)[0x0][this[_0x51562d(0x20c)]][0x1][_0x9d3037]);_0x26ce7d&&typeof _0x26ce7d===_0x51562d(0x1e1)&&(_0x41e574[_0x9d3037]=/\%/[_0x51562d(0x254)](_0x26ce7d)?decodeURIComponent_(_0x26ce7d):_0x26ce7d);}return _0x41e574;}['getParamValue'](_0x831f08){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x831f08]:_0x831f08;}['query'](_0x562f59){const _0x2a2f96=a0_0x13d784;return getQueryParam(this[_0x2a2f96(0x21f)],_0x562f59);}[a0_0x13d784(0x1f8)](_0x486b76){const _0x282190=a0_0x13d784;return getQueryParams(this[_0x282190(0x21f)],_0x486b76);}[a0_0x13d784(0x241)](_0x217fca){const _0x225b75=a0_0x13d784;if(_0x217fca)return this[_0x225b75(0x231)][_0x225b75(0x1de)][_0x225b75(0x1aa)](_0x217fca[_0x225b75(0x136)]())??void 0x0;const _0x23708e={};return this[_0x225b75(0x231)][_0x225b75(0x1de)][_0x225b75(0x224)]((_0x48c331,_0x2035f1)=>{_0x23708e[_0x2035f1]=_0x48c331;}),_0x23708e;}['cookie'](_0x7dcf8f){const _0x29d874=a0_0x13d784,_0x590292=this[_0x29d874(0x231)][_0x29d874(0x1de)][_0x29d874(0x1aa)](_0x29d874(0x143));if(!_0x590292)return;const _0x9ddabd=parse(_0x590292);if(_0x7dcf8f){const _0x39f235=_0x9ddabd[_0x7dcf8f];return _0x39f235;}else return _0x9ddabd;}async[a0_0x13d784(0x151)](_0x5233f1){const _0x5a1f95=a0_0x13d784;if(this[_0x5a1f95(0x225)]['parsedBody'])return this[_0x5a1f95(0x225)][_0x5a1f95(0x19e)];const _0x1c96b4=await parseBody(this,_0x5233f1);return this[_0x5a1f95(0x225)]['parsedBody']=_0x1c96b4,_0x1c96b4;}[a0_0x13d784(0xff)](){const _0x464f95=a0_0x13d784;return this[_0x464f95(0x1b1)](_0x464f95(0xff));}['text'](){return this['cachedBody']('text');}[a0_0x13d784(0x147)](){const _0x17c9be=a0_0x13d784;return this[_0x17c9be(0x1b1)]('arrayBuffer');}[a0_0x13d784(0x223)](){return this['cachedBody']('blob');}[a0_0x13d784(0x234)](){const _0x21d350=a0_0x13d784;return this['cachedBody'](_0x21d350(0x234));}['addValidatedData'](_0xaad397,_0x1d7cab){__privateGet2(this,_validatedData)[_0xaad397]=_0x1d7cab;}['valid'](_0x359b86){return __privateGet2(this,_validatedData)[_0x359b86];}get[a0_0x13d784(0x21f)](){const _0x2c1818=a0_0x13d784;return this[_0x2c1818(0x231)][_0x2c1818(0x21f)];}get[a0_0x13d784(0x158)](){const _0x45184a=a0_0x13d784;return this[_0x45184a(0x231)]['method'];}get[a0_0x13d784(0x1d0)](){const _0x1ae157=a0_0x13d784;return __privateGet2(this,_matchResult)[0x0][_0x1ae157(0x245)](([[,_0x1b9b4a]])=>_0x1b9b4a);}get[a0_0x13d784(0x184)](){const _0x578e28=a0_0x13d784;return __privateGet2(this,_matchResult)[0x0][_0x578e28(0x245)](([[,_0xdadfe]])=>_0xdadfe)[this['routeIndex']][_0x578e28(0x15a)];}get[a0_0x13d784(0x1de)](){const _0x2a19af=a0_0x13d784;return this[_0x2a19af(0x231)]['headers'];}get[a0_0x13d784(0x1d6)](){const _0x3f1db2=a0_0x13d784;return this[_0x3f1db2(0x231)][_0x3f1db2(0x1d6)];}get['bodyUsed'](){const _0x3b2f6c=a0_0x13d784;return this[_0x3b2f6c(0x231)][_0x3b2f6c(0x20f)];}get['integrity'](){return this['raw']['integrity'];}get[a0_0x13d784(0x1d2)](){const _0x36728b=a0_0x13d784;return this[_0x36728b(0x231)][_0x36728b(0x1d2)];}get[a0_0x13d784(0xf4)](){const _0x8965ee=a0_0x13d784;return this[_0x8965ee(0x231)][_0x8965ee(0xf4)];}get[a0_0x13d784(0x1e3)](){const _0x1c628e=a0_0x13d784;return this[_0x1c628e(0x231)]['signal'];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0x13d784(0x1ab),METHOD_NAME_ALL_LOWERCASE=a0_0x13d784(0x13a),METHODS=['get','post',a0_0x13d784(0x17f),a0_0x13d784(0x20b),a0_0x13d784(0xec),a0_0x13d784(0x138)],MESSAGE_MATCHER_IS_ALREADY_BUILT=a0_0x13d784(0x118),UnsupportedPathError=class extends Error{},__accessCheck3=(_0x16cb7d,_0x5191b8,_0x4d3013)=>{const _0x1b9299=a0_0x13d784;if(!_0x5191b8[_0x1b9299(0x1ce)](_0x16cb7d))throw TypeError(_0x1b9299(0x218)+_0x4d3013);},__privateGet3=(_0x1bbec8,_0x3beba6,_0x4394c7)=>{const _0x30f8ce=a0_0x13d784;return __accessCheck3(_0x1bbec8,_0x3beba6,_0x30f8ce(0x1ad)),_0x4394c7?_0x4394c7[_0x30f8ce(0x21b)](_0x1bbec8):_0x3beba6['get'](_0x1bbec8);},__privateAdd3=(_0x5f32bc,_0x6664c0,_0x895938)=>{const _0x506733=a0_0x13d784;if(_0x6664c0[_0x506733(0x1ce)](_0x5f32bc))throw TypeError(_0x506733(0x1d7));_0x6664c0 instanceof WeakSet?_0x6664c0[_0x506733(0x227)](_0x5f32bc):_0x6664c0['set'](_0x5f32bc,_0x895938);},__privateSet3=(_0x1eac4b,_0x585676,_0x5dc5fd,_0x511098)=>{const _0x1ce0f2=a0_0x13d784;return __accessCheck3(_0x1eac4b,_0x585676,_0x1ce0f2(0xe6)),_0x511098?_0x511098[_0x1ce0f2(0x21b)](_0x1eac4b,_0x5dc5fd):_0x585676[_0x1ce0f2(0x1cd)](_0x1eac4b,_0x5dc5fd),_0x5dc5fd;},COMPOSED_HANDLER=Symbol('composedHandler');function defineDynamicClass(){return class{};}var notFoundHandler=_0x25d502=>{const _0xaf92be=a0_0x13d784;return _0x25d502[_0xaf92be(0x1bc)](_0xaf92be(0x221),0x194);},errorHandler=(_0x449717,_0x5bffff)=>{const _0x4da773=a0_0x13d784;if(_0x449717 instanceof HTTPException)return _0x449717[_0x4da773(0x14e)]();console[_0x4da773(0x10b)](_0x449717);const _0x573aa0=_0x4da773(0x172);return _0x5bffff['text'](_0x573aa0,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x4a10f6={}){const _0x49562c=a0_0x13d784;super(),this[_0x49562c(0xef)]='/',__privateAdd3(this,_path,'/'),this[_0x49562c(0xf8)]=[],this[_0x49562c(0x111)]=notFoundHandler,this[_0x49562c(0x194)]=errorHandler,this[_0x49562c(0x24f)]=_0x159a17=>{const _0x59bb29=_0x49562c;return this[_0x59bb29(0x194)]=_0x159a17,this;},this[_0x49562c(0x23b)]=_0x3b1ee7=>{return this['notFoundHandler']=_0x3b1ee7,this;},this[_0x49562c(0x169)]=()=>{const _0x205505=_0x49562c;return console[_0x205505(0x1b4)](_0x205505(0x128)),this;},this[_0x49562c(0x19c)]=_0x16e25f=>{const _0x1d5be9=_0x49562c;return this[_0x1d5be9(0x174)](_0x16e25f[_0x1d5be9(0x17e)],_0x16e25f,void 0x0,_0x16e25f[_0x1d5be9(0x17e)][_0x1d5be9(0x158)]);},this[_0x49562c(0x1c3)]=(_0x1f08a9,_0x3e87a0,_0x2cbc57)=>{const _0x5bfd08=_0x49562c;return this[_0x5bfd08(0x174)](_0x1f08a9,_0x2cbc57,_0x3e87a0,_0x1f08a9['method']);},this[_0x49562c(0x17e)]=(_0x44e8e6,_0x4c93f1,_0x4a1725,_0x4cd75b)=>{const _0xe68936=_0x49562c;if(_0x44e8e6 instanceof Request)return _0x4c93f1!==void 0x0&&(_0x44e8e6=new Request(_0x44e8e6,_0x4c93f1)),this[_0xe68936(0x1c3)](_0x44e8e6,_0x4a1725,_0x4cd75b);_0x44e8e6=_0x44e8e6['toString']();const _0xd61e67=/^https?:\/\//[_0xe68936(0x254)](_0x44e8e6)?_0x44e8e6:_0xe68936(0x21e)+mergePath('/',_0x44e8e6),_0x1511b9=new Request(_0xd61e67,_0x4c93f1);return this['fetch'](_0x1511b9,_0x4a1725,_0x4cd75b);},this[_0x49562c(0x1ff)]=()=>{const _0x3d390d=_0x49562c;addEventListener(_0x3d390d(0x1c3),_0x440c5d=>{const _0x4ede3=_0x3d390d;_0x440c5d[_0x4ede3(0x180)](this[_0x4ede3(0x174)](_0x440c5d[_0x4ede3(0x17e)],_0x440c5d,void 0x0,_0x440c5d[_0x4ede3(0x17e)][_0x4ede3(0x158)]));});};const _0x4fd84e=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x4fd84e[_0x49562c(0x245)](_0x4052cb=>{this[_0x4052cb]=(_0x4a80be,..._0x456448)=>{const _0x3c16b8=a0_0x400e;return typeof _0x4a80be===_0x3c16b8(0x1e1)?__privateSet3(this,_path,_0x4a80be):this['addRoute'](_0x4052cb,__privateGet3(this,_path),_0x4a80be),_0x456448[_0x3c16b8(0x245)](_0x29c40c=>{typeof _0x29c40c!=='string'&&this['addRoute'](_0x4052cb,__privateGet3(this,_path),_0x29c40c);}),this;};}),this['on']=(_0x39252a,_0x1e68e9,..._0xdefab8)=>{if(!_0x39252a)return this;__privateSet3(this,_path,_0x1e68e9);for(const _0x1e9b48 of[_0x39252a]['flat']()){_0xdefab8['map'](_0xeb98b4=>{const _0x3723f8=a0_0x400e;this[_0x3723f8(0x1e8)](_0x1e9b48[_0x3723f8(0x1fa)](),__privateGet3(this,_path),_0xeb98b4);});}return this;},this[_0x49562c(0x10d)]=(_0x5b8a70,..._0x1bc355)=>{const _0x36b5ab=_0x49562c;return typeof _0x5b8a70===_0x36b5ab(0x1e1)?__privateSet3(this,_path,_0x5b8a70):_0x1bc355[_0x36b5ab(0xf3)](_0x5b8a70),_0x1bc355[_0x36b5ab(0x245)](_0x58437a=>{this['addRoute'](METHOD_NAME_ALL,__privateGet3(this,_path),_0x58437a);}),this;};const _0x7313be=_0x4a10f6[_0x49562c(0x200)]??!![];delete _0x4a10f6[_0x49562c(0x200)],Object[_0x49562c(0x1df)](this,_0x4a10f6),this[_0x49562c(0x250)]=_0x7313be?_0x4a10f6[_0x49562c(0x250)]??getPath:getPathNoStrict;}[a0_0x13d784(0x177)](){const _0x483afb=a0_0x13d784,_0x5eedd6=new _Hono({'router':this['router'],'getPath':this['getPath']});return _0x5eedd6['routes']=this[_0x483afb(0xf8)],_0x5eedd6;}[a0_0x13d784(0x14f)](_0x760616,_0xe084d3){const _0xc9b815=a0_0x13d784,_0x53cdc0=this[_0xc9b815(0x18b)](_0x760616);if(!_0xe084d3)return _0x53cdc0;return _0xe084d3[_0xc9b815(0xf8)][_0xc9b815(0x245)](_0x33df0e=>{const _0x3bf3f8=_0xc9b815;let _0xe95045;_0xe084d3['errorHandler']===errorHandler?_0xe95045=_0x33df0e[_0x3bf3f8(0x1f9)]:(_0xe95045=async(_0x27dc9a,_0x2c4b51)=>(await compose([],_0xe084d3[_0x3bf3f8(0x194)])(_0x27dc9a,()=>_0x33df0e[_0x3bf3f8(0x1f9)](_0x27dc9a,_0x2c4b51)))[_0x3bf3f8(0x237)],_0xe95045[COMPOSED_HANDLER]=_0x33df0e[_0x3bf3f8(0x1f9)]),_0x53cdc0[_0x3bf3f8(0x1e8)](_0x33df0e[_0x3bf3f8(0x158)],_0x33df0e[_0x3bf3f8(0x15a)],_0xe95045);}),this;}[a0_0x13d784(0x18b)](_0x5edc7a){const _0x1627a5=a0_0x13d784,_0x1fb8b4=this[_0x1627a5(0x177)]();return _0x1fb8b4[_0x1627a5(0xef)]=mergePath(this[_0x1627a5(0xef)],_0x5edc7a),_0x1fb8b4;}[a0_0x13d784(0x23a)](){const _0x28b02d=a0_0x13d784,_0x499e80=0x8;this['routes'][_0x28b02d(0x245)](_0x1f80a2=>{const _0x1b7b10=_0x28b02d;console[_0x1b7b10(0x173)](_0x1b7b10(0x233)+_0x1f80a2[_0x1b7b10(0x158)]+'\x1b[0m\x20'+'\x20'[_0x1b7b10(0x119)](_0x499e80-_0x1f80a2[_0x1b7b10(0x158)]['length'])+'\x20'+_0x1f80a2[_0x1b7b10(0x15a)]);});}[a0_0x13d784(0x139)](_0x284106,_0x728595,_0x214f9f){const _0x1cddc5=a0_0x13d784,_0x433384=mergePath(this['_basePath'],_0x284106),_0x4f334c=_0x433384==='/'?0x0:_0x433384[_0x1cddc5(0x110)],_0xb78881=async(_0x1e841c,_0x400c84)=>{const _0x13184a=_0x1cddc5;let _0x3b44fa=void 0x0;try{_0x3b44fa=_0x1e841c[_0x13184a(0x148)];}catch{}const _0x50fb15=_0x214f9f?_0x214f9f(_0x1e841c):[_0x1e841c[_0x13184a(0x219)],_0x3b44fa],_0x5b47a8=Array[_0x13184a(0xf0)](_0x50fb15)?_0x50fb15:[_0x50fb15],_0x4624d8=getQueryStrings(_0x1e841c[_0x13184a(0x116)][_0x13184a(0x21f)]),_0x1f05a3=await _0x728595(new Request(new URL((_0x1e841c[_0x13184a(0x116)][_0x13184a(0x15a)][_0x13184a(0x1c8)](_0x4f334c)||'/')+_0x4624d8,_0x1e841c[_0x13184a(0x116)][_0x13184a(0x21f)]),_0x1e841c[_0x13184a(0x116)]['raw']),..._0x5b47a8);if(_0x1f05a3)return _0x1f05a3;await _0x400c84();};return this[_0x1cddc5(0x1e8)](METHOD_NAME_ALL,mergePath(_0x284106,'*'),_0xb78881),this;}get[a0_0x13d784(0xe2)](){const _0x1826e6=a0_0x13d784;return this[_0x1826e6(0x193)](_0x1826e6(0x205),'/'),this['router'][_0x1826e6(0x23e)];}[a0_0x13d784(0x1e8)](_0x1bba20,_0x2d83c4,_0x1188e6){const _0x27e77d=a0_0x13d784;_0x1bba20=_0x1bba20[_0x27e77d(0x1fa)](),_0x2d83c4=mergePath(this[_0x27e77d(0xef)],_0x2d83c4);const _0x4dd0ab={'path':_0x2d83c4,'method':_0x1bba20,'handler':_0x1188e6};this[_0x27e77d(0x163)]['add'](_0x1bba20,_0x2d83c4,[_0x1188e6,_0x4dd0ab]),this['routes']['push'](_0x4dd0ab);}[a0_0x13d784(0x193)](_0x263fee,_0x3e2de8){return this['router']['match'](_0x263fee,_0x3e2de8);}[a0_0x13d784(0x12f)](_0xb69bc6,_0x382ab0){const _0x3c42bd=a0_0x13d784;if(_0xb69bc6 instanceof Error)return this[_0x3c42bd(0x194)](_0xb69bc6,_0x382ab0);throw _0xb69bc6;}[a0_0x13d784(0x174)](_0x3e1e72,_0x5bf716,_0x3a32e4,_0xa4e1e3){const _0x3cd39e=a0_0x13d784;if(_0xa4e1e3===_0x3cd39e(0x1ef))return((async()=>new Response(null,await this[_0x3cd39e(0x174)](_0x3e1e72,_0x5bf716,_0x3a32e4,'GET')))());const _0x25f2aa=this[_0x3cd39e(0x250)](_0x3e1e72,{'env':_0x3a32e4}),_0x58e2bd=this['matchRoute'](_0xa4e1e3,_0x25f2aa),_0x2b73a5=new Context(new HonoRequest(_0x3e1e72,_0x25f2aa,_0x58e2bd),{'env':_0x3a32e4,'executionCtx':_0x5bf716,'notFoundHandler':this[_0x3cd39e(0x111)]});if(_0x58e2bd[0x0]['length']===0x1){let _0xea53cc;try{_0xea53cc=_0x58e2bd[0x0][0x0][0x0][0x0](_0x2b73a5,async()=>{const _0x4d3db9=_0x3cd39e;_0x2b73a5[_0x4d3db9(0x237)]=await this[_0x4d3db9(0x111)](_0x2b73a5);});}catch(_0x2e79c5){return this['handleError'](_0x2e79c5,_0x2b73a5);}return _0xea53cc instanceof Promise?_0xea53cc[_0x3cd39e(0x243)](_0x36d3f6=>_0x36d3f6||(_0x2b73a5[_0x3cd39e(0x11e)]?_0x2b73a5['res']:this['notFoundHandler'](_0x2b73a5)))[_0x3cd39e(0x129)](_0x13a6d3=>this[_0x3cd39e(0x12f)](_0x13a6d3,_0x2b73a5)):_0xea53cc;}const _0x40bf1b=compose(_0x58e2bd[0x0],this[_0x3cd39e(0x194)],this[_0x3cd39e(0x111)]);return((async()=>{const _0x36506d=_0x3cd39e;try{const _0x10e7e9=await _0x40bf1b(_0x2b73a5);if(!_0x10e7e9['finalized'])throw new Error(_0x36506d(0x202));return _0x10e7e9[_0x36506d(0x237)];}catch(_0x3b1a46){return this['handleError'](_0x3b1a46,_0x2b73a5);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR=a0_0x13d784(0x125),ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR=a0_0x13d784(0x12d),PATH_ERROR=Symbol();function compareKey(_0x2dc012,_0x423d66){const _0x48f4ed=a0_0x13d784;if(_0x2dc012['length']===0x1)return _0x423d66[_0x48f4ed(0x110)]===0x1?_0x2dc012<_0x423d66?-0x1:0x1:-0x1;if(_0x423d66[_0x48f4ed(0x110)]===0x1)return 0x1;if(_0x2dc012===ONLY_WILDCARD_REG_EXP_STR||_0x2dc012===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x423d66===ONLY_WILDCARD_REG_EXP_STR||_0x423d66===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x2dc012===LABEL_REG_EXP_STR)return 0x1;else{if(_0x423d66===LABEL_REG_EXP_STR)return-0x1;}return _0x2dc012['length']===_0x423d66[_0x48f4ed(0x110)]?_0x2dc012<_0x423d66?-0x1:0x1:_0x423d66[_0x48f4ed(0x110)]-_0x2dc012[_0x48f4ed(0x110)];}function a0_0x400e(_0x793b75,_0x4e7e80){const _0x372b96=a0_0x26a9();return a0_0x400e=function(_0x5b68e1,_0x4cc984){_0x5b68e1=_0x5b68e1-0xe1;let _0x26a9a3=_0x372b96[_0x5b68e1];return _0x26a9a3;},a0_0x400e(_0x793b75,_0x4e7e80);}var Node=class{constructor(){this['children']={};}[a0_0x13d784(0x106)](_0x672100,_0x590e15,_0x44b763,_0x2b6bcb,_0x3dfd6f){const _0x981d3a=a0_0x13d784;if(_0x672100[_0x981d3a(0x110)]===0x0){if(this[_0x981d3a(0xfd)]!==void 0x0)throw PATH_ERROR;if(_0x3dfd6f)return;this[_0x981d3a(0xfd)]=_0x590e15;return;}const [_0x1d9303,..._0x4082cd]=_0x672100,_0x3e74c0=_0x1d9303==='*'?_0x4082cd[_0x981d3a(0x110)]===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x1d9303==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x1d9303[_0x981d3a(0x132)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x3c438b;if(_0x3e74c0){const _0x4736b6=_0x3e74c0[0x1];let _0x54c814=_0x3e74c0[0x2]||LABEL_REG_EXP_STR;if(_0x4736b6&&_0x3e74c0[0x2]){_0x54c814=_0x54c814[_0x981d3a(0x22a)](/^\((?!\?:)(?=[^)]+\)$)/,_0x981d3a(0x1c7));if(/\((?!\?:)/[_0x981d3a(0x254)](_0x54c814))throw PATH_ERROR;}_0x3c438b=this['children'][_0x54c814];if(!_0x3c438b){if(Object[_0x981d3a(0x101)](this[_0x981d3a(0x170)])[_0x981d3a(0x188)](_0x30dc5b=>_0x30dc5b!==ONLY_WILDCARD_REG_EXP_STR&&_0x30dc5b!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x3dfd6f)return;_0x3c438b=this[_0x981d3a(0x170)][_0x54c814]=new Node(),_0x4736b6!==''&&(_0x3c438b['varIndex']=_0x2b6bcb['varIndex']++);}!_0x3dfd6f&&_0x4736b6!==''&&_0x44b763[_0x981d3a(0x1bf)]([_0x4736b6,_0x3c438b[_0x981d3a(0x1dd)]]);}else{_0x3c438b=this['children'][_0x1d9303];if(!_0x3c438b){if(Object['keys'](this['children'])[_0x981d3a(0x188)](_0x4fc37c=>_0x4fc37c[_0x981d3a(0x110)]>0x1&&_0x4fc37c!==ONLY_WILDCARD_REG_EXP_STR&&_0x4fc37c!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x3dfd6f)return;_0x3c438b=this[_0x981d3a(0x170)][_0x1d9303]=new Node();}}_0x3c438b[_0x981d3a(0x106)](_0x4082cd,_0x590e15,_0x44b763,_0x2b6bcb,_0x3dfd6f);}[a0_0x13d784(0x13d)](){const _0xf133f2=a0_0x13d784,_0x4e5017=Object[_0xf133f2(0x101)](this[_0xf133f2(0x170)])[_0xf133f2(0x203)](compareKey),_0x153e3f=_0x4e5017['map'](_0x2dee12=>{const _0x4c0865=_0xf133f2,_0x4b67bf=this[_0x4c0865(0x170)][_0x2dee12];return(typeof _0x4b67bf[_0x4c0865(0x1dd)]===_0x4c0865(0x149)?'('+_0x2dee12+')@'+_0x4b67bf[_0x4c0865(0x1dd)]:_0x2dee12)+_0x4b67bf[_0x4c0865(0x13d)]();});typeof this[_0xf133f2(0xfd)]===_0xf133f2(0x149)&&_0x153e3f[_0xf133f2(0xf3)]('#'+this[_0xf133f2(0xfd)]);if(_0x153e3f['length']===0x0)return'';if(_0x153e3f['length']===0x1)return _0x153e3f[0x0];return _0xf133f2(0x1c7)+_0x153e3f['join']('|')+')';}},Trie=class{constructor(){const _0x1917d6=a0_0x13d784;this['context']={'varIndex':0x0},this[_0x1917d6(0x1e2)]=new Node();}[a0_0x13d784(0x106)](_0x7a65a6,_0x12f5dd,_0x22d9bf){const _0x59fc88=a0_0x13d784,_0x5f2a53=[],_0x2264ca=[];for(let _0x4bb329=0x0;;){let _0x326299=![];_0x7a65a6=_0x7a65a6[_0x59fc88(0x22a)](/\{[^}]+\}/g,_0x1eefbc=>{const _0xdae5fc='@\x5c'+_0x4bb329;return _0x2264ca[_0x4bb329]=[_0xdae5fc,_0x1eefbc],_0x4bb329++,_0x326299=!![],_0xdae5fc;});if(!_0x326299)break;}const _0x13c765=_0x7a65a6['match'](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x1945ec=_0x2264ca['length']-0x1;_0x1945ec>=0x0;_0x1945ec--){const [_0x1cc401]=_0x2264ca[_0x1945ec];for(let _0x46b1a0=_0x13c765[_0x59fc88(0x110)]-0x1;_0x46b1a0>=0x0;_0x46b1a0--){if(_0x13c765[_0x46b1a0][_0x59fc88(0x1c5)](_0x1cc401)!==-0x1){_0x13c765[_0x46b1a0]=_0x13c765[_0x46b1a0]['replace'](_0x1cc401,_0x2264ca[_0x1945ec][0x1]);break;}}}return this[_0x59fc88(0x1e2)][_0x59fc88(0x106)](_0x13c765,_0x12f5dd,_0x5f2a53,this[_0x59fc88(0xfc)],_0x22d9bf),_0x5f2a53;}['buildRegExp'](){const _0x4e864f=a0_0x13d784;let _0x24c55f=this['root'][_0x4e864f(0x13d)]();if(_0x24c55f==='')return[/^$/,[],[]];let _0x1bcf04=0x0;const _0x4b817d=[],_0x439fec=[];return _0x24c55f=_0x24c55f[_0x4e864f(0x22a)](/#(\d+)|@(\d+)|\.\*\$/g,(_0x154628,_0x490aad,_0x42b390)=>{const _0x59bcad=_0x4e864f;if(typeof _0x490aad!==_0x59bcad(0x140))return _0x4b817d[++_0x1bcf04]=Number(_0x490aad),_0x59bcad(0x209);if(typeof _0x42b390!=='undefined')return _0x439fec[Number(_0x42b390)]=++_0x1bcf04,'';return'';}),[new RegExp('^'+_0x24c55f),_0x4b817d,_0x439fec];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x13d784(0x245)](_0x2e4da6=>_0x2e4da6['toUpperCase']()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0xc92a57){const _0x59ec0b=a0_0x13d784;return wildcardRegExpCache[_0xc92a57]??(wildcardRegExpCache[_0xc92a57]=new RegExp(_0xc92a57==='*'?'':'^'+_0xc92a57[_0x59ec0b(0x22a)](/\/\*/,_0x59ec0b(0x12d))+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x55aa51){const _0xd7888a=a0_0x13d784,_0x232d4f=new Trie(),_0x2159ef=[];if(_0x55aa51['length']===0x0)return nullMatcher;const _0x44e0b2=_0x55aa51[_0xd7888a(0x245)](_0x54bcae=>[!/\*|\/:/[_0xd7888a(0x254)](_0x54bcae[0x0]),..._0x54bcae])['sort'](([_0x266a78,_0x228fdc],[_0x4b1299,_0x603d67])=>_0x266a78?0x1:_0x4b1299?-0x1:_0x228fdc[_0xd7888a(0x110)]-_0x603d67['length']),_0x6a1378={};for(let _0x39b399=0x0,_0x3aac8d=-0x1,_0x3360a1=_0x44e0b2[_0xd7888a(0x110)];_0x39b399<_0x3360a1;_0x39b399++){const [_0x13b771,_0x5cea09,_0x15f0ae]=_0x44e0b2[_0x39b399];_0x13b771?_0x6a1378[_0x5cea09]=[_0x15f0ae['map'](([_0x45eec9])=>[_0x45eec9,{}]),emptyParam]:_0x3aac8d++;let _0x3d3eda;try{_0x3d3eda=_0x232d4f[_0xd7888a(0x106)](_0x5cea09,_0x3aac8d,_0x13b771);}catch(_0x3eda99){throw _0x3eda99===PATH_ERROR?new UnsupportedPathError(_0x5cea09):_0x3eda99;}if(_0x13b771)continue;_0x2159ef[_0x3aac8d]=_0x15f0ae[_0xd7888a(0x245)](([_0x5e6743,_0x178fab])=>{const _0x40917f={};_0x178fab-=0x1;for(;_0x178fab>=0x0;_0x178fab--){const [_0x275972,_0x1b040f]=_0x3d3eda[_0x178fab];_0x40917f[_0x275972]=_0x1b040f;}return[_0x5e6743,_0x40917f];});}const [_0x196053,_0x3af7e6,_0x55d713]=_0x232d4f[_0xd7888a(0x123)]();for(let _0x2eb062=0x0,_0x5417e1=_0x2159ef['length'];_0x2eb062<_0x5417e1;_0x2eb062++){for(let _0x560b31=0x0,_0x1e144d=_0x2159ef[_0x2eb062][_0xd7888a(0x110)];_0x560b31<_0x1e144d;_0x560b31++){const _0x2a9898=_0x2159ef[_0x2eb062][_0x560b31]?.[0x1];if(!_0x2a9898)continue;const _0x8151aa=Object[_0xd7888a(0x101)](_0x2a9898);for(let _0x397603=0x0,_0x395a06=_0x8151aa[_0xd7888a(0x110)];_0x397603<_0x395a06;_0x397603++){_0x2a9898[_0x8151aa[_0x397603]]=_0x55d713[_0x2a9898[_0x8151aa[_0x397603]]];}}}const _0x15f0f1=[];for(const _0x26c361 in _0x3af7e6){_0x15f0f1[_0x26c361]=_0x2159ef[_0x3af7e6[_0x26c361]];}return[_0x196053,_0x15f0f1,_0x6a1378];}function findMiddleware(_0x7d42b0,_0x483399){const _0x42bcc1=a0_0x13d784;if(!_0x7d42b0)return void 0x0;for(const _0x39bc87 of Object[_0x42bcc1(0x101)](_0x7d42b0)[_0x42bcc1(0x203)]((_0x19b44e,_0x34b00b)=>_0x34b00b['length']-_0x19b44e[_0x42bcc1(0x110)])){if(buildWildcardRegExp(_0x39bc87)[_0x42bcc1(0x254)](_0x483399))return[..._0x7d42b0[_0x39bc87]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x34be38=a0_0x13d784;this[_0x34be38(0x23e)]=_0x34be38(0x1bd),this['middleware']={[METHOD_NAME_ALL]:{}},this['routes']={[METHOD_NAME_ALL]:{}};}[a0_0x13d784(0x227)](_0x3e8979,_0x131e43,_0x25178c){const _0x5a89a2=a0_0x13d784;var _0x51bd19;const {middleware:_0xb6f9d5,routes:_0x184d27}=this;if(!_0xb6f9d5||!_0x184d27)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames['indexOf'](_0x3e8979)===-0x1&&methodNames[_0x5a89a2(0x1bf)](_0x3e8979);if(!_0xb6f9d5[_0x3e8979]){;[_0xb6f9d5,_0x184d27][_0x5a89a2(0x224)](_0x19091b=>{const _0x23ae75=_0x5a89a2;_0x19091b[_0x3e8979]={},Object['keys'](_0x19091b[METHOD_NAME_ALL])[_0x23ae75(0x224)](_0x6cf2fd=>{_0x19091b[_0x3e8979][_0x6cf2fd]=[..._0x19091b[METHOD_NAME_ALL][_0x6cf2fd]];});});}_0x131e43==='/*'&&(_0x131e43='*');const _0x243880=(_0x131e43[_0x5a89a2(0x132)](/\/:/g)||[])[_0x5a89a2(0x110)];if(/\*$/[_0x5a89a2(0x254)](_0x131e43)){const _0x204300=buildWildcardRegExp(_0x131e43);_0x3e8979===METHOD_NAME_ALL?Object[_0x5a89a2(0x101)](_0xb6f9d5)['forEach'](_0x4f64af=>{var _0x265108;(_0x265108=_0xb6f9d5[_0x4f64af])[_0x131e43]||(_0x265108[_0x131e43]=findMiddleware(_0xb6f9d5[_0x4f64af],_0x131e43)||findMiddleware(_0xb6f9d5[METHOD_NAME_ALL],_0x131e43)||[]);}):(_0x51bd19=_0xb6f9d5[_0x3e8979])[_0x131e43]||(_0x51bd19[_0x131e43]=findMiddleware(_0xb6f9d5[_0x3e8979],_0x131e43)||findMiddleware(_0xb6f9d5[METHOD_NAME_ALL],_0x131e43)||[]);Object[_0x5a89a2(0x101)](_0xb6f9d5)['forEach'](_0x1c7dc3=>{const _0x10a9a9=_0x5a89a2;(_0x3e8979===METHOD_NAME_ALL||_0x3e8979===_0x1c7dc3)&&Object[_0x10a9a9(0x101)](_0xb6f9d5[_0x1c7dc3])['forEach'](_0x75142a=>{const _0x4b942a=_0x10a9a9;_0x204300[_0x4b942a(0x254)](_0x75142a)&&_0xb6f9d5[_0x1c7dc3][_0x75142a][_0x4b942a(0x1bf)]([_0x25178c,_0x243880]);});}),Object['keys'](_0x184d27)['forEach'](_0x19b0b8=>{const _0x3837e7=_0x5a89a2;(_0x3e8979===METHOD_NAME_ALL||_0x3e8979===_0x19b0b8)&&Object[_0x3837e7(0x101)](_0x184d27[_0x19b0b8])[_0x3837e7(0x224)](_0x2abe6c=>_0x204300[_0x3837e7(0x254)](_0x2abe6c)&&_0x184d27[_0x19b0b8][_0x2abe6c][_0x3837e7(0x1bf)]([_0x25178c,_0x243880]));});return;}const _0x52f657=checkOptionalParameter(_0x131e43)||[_0x131e43];for(let _0x3546e5=0x0,_0x13accd=_0x52f657[_0x5a89a2(0x110)];_0x3546e5<_0x13accd;_0x3546e5++){const _0x2a2b47=_0x52f657[_0x3546e5];Object[_0x5a89a2(0x101)](_0x184d27)[_0x5a89a2(0x224)](_0x2bbe6e=>{const _0x117b70=_0x5a89a2;var _0x3c3655;(_0x3e8979===METHOD_NAME_ALL||_0x3e8979===_0x2bbe6e)&&((_0x3c3655=_0x184d27[_0x2bbe6e])[_0x2a2b47]||(_0x3c3655[_0x2a2b47]=[...findMiddleware(_0xb6f9d5[_0x2bbe6e],_0x2a2b47)||findMiddleware(_0xb6f9d5[METHOD_NAME_ALL],_0x2a2b47)||[]]),_0x184d27[_0x2bbe6e][_0x2a2b47][_0x117b70(0x1bf)]([_0x25178c,_0x243880-_0x13accd+_0x3546e5+0x1]));});}}[a0_0x13d784(0x132)](_0x3dfaca,_0x2f7ddb){const _0x5aced0=a0_0x13d784;clearWildcardRegExpCache();const _0x1c2be1=this[_0x5aced0(0x1f4)]();return this[_0x5aced0(0x132)]=(_0x35716b,_0x53be0c)=>{const _0x47e7f1=_0x5aced0,_0x10621b=_0x1c2be1[_0x35716b],_0x15fb7c=_0x10621b[0x2][_0x53be0c];if(_0x15fb7c)return _0x15fb7c;const _0x21ba70=_0x53be0c[_0x47e7f1(0x132)](_0x10621b[0x0]);if(!_0x21ba70)return[[],emptyParam];const _0x16bf38=_0x21ba70[_0x47e7f1(0x1c5)]('',0x1);return[_0x10621b[0x1][_0x16bf38],_0x21ba70];},this[_0x5aced0(0x132)](_0x3dfaca,_0x2f7ddb);}[a0_0x13d784(0x1f4)](){const _0x538f5a=a0_0x13d784,_0x4cfdf4={};return methodNames[_0x538f5a(0x224)](_0x5d4c54=>{const _0x5d1547=_0x538f5a;_0x4cfdf4[_0x5d4c54]=this[_0x5d1547(0x251)](_0x5d4c54)||_0x4cfdf4[METHOD_NAME_ALL];}),this[_0x538f5a(0x13c)]=this[_0x538f5a(0xf8)]=void 0x0,_0x4cfdf4;}[a0_0x13d784(0x251)](_0x364806){const _0x280c6d=a0_0x13d784,_0x80571d=[];let _0x1051ea=_0x364806===METHOD_NAME_ALL;return[this[_0x280c6d(0x13c)],this['routes']]['forEach'](_0x370140=>{const _0x4a2149=_0x280c6d,_0x12b4f7=_0x370140[_0x364806]?Object[_0x4a2149(0x101)](_0x370140[_0x364806])['map'](_0x46621b=>[_0x46621b,_0x370140[_0x364806][_0x46621b]]):[];if(_0x12b4f7[_0x4a2149(0x110)]!==0x0)_0x1051ea||(_0x1051ea=!![]),_0x80571d['push'](..._0x12b4f7);else _0x364806!==METHOD_NAME_ALL&&_0x80571d['push'](...Object[_0x4a2149(0x101)](_0x370140[METHOD_NAME_ALL])[_0x4a2149(0x245)](_0x3018e2=>[_0x3018e2,_0x370140[METHOD_NAME_ALL][_0x3018e2]]));}),!_0x1051ea?null:buildMatcherFromPreprocessedRoutes(_0x80571d);}},SmartRouter=class{constructor(_0x3652ab){const _0x24aa4e=a0_0x13d784;this[_0x24aa4e(0x23e)]=_0x24aa4e(0x152),this[_0x24aa4e(0x204)]=[],this['routes']=[],Object[_0x24aa4e(0x1df)](this,_0x3652ab);}['add'](_0x3d35af,_0x5e90a5,_0x2e91e8){const _0xaac8c4=a0_0x13d784;if(!this[_0xaac8c4(0xf8)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this[_0xaac8c4(0xf8)][_0xaac8c4(0x1bf)]([_0x3d35af,_0x5e90a5,_0x2e91e8]);}['match'](_0x5d6281,_0x401a78){const _0x36307f=a0_0x13d784;if(!this[_0x36307f(0xf8)])throw new Error(_0x36307f(0x1a8));const {routers:_0x442259,routes:_0x5316e6}=this,_0x1a1af6=_0x442259[_0x36307f(0x110)];let _0x398bcc=0x0,_0x4aba8e;for(;_0x398bcc<_0x1a1af6;_0x398bcc++){const _0x21550b=_0x442259[_0x398bcc];try{_0x5316e6['forEach'](_0x297873=>{const _0x430aac=_0x36307f;_0x21550b[_0x430aac(0x227)](..._0x297873);}),_0x4aba8e=_0x21550b[_0x36307f(0x132)](_0x5d6281,_0x401a78);}catch(_0x42c11f){if(_0x42c11f instanceof UnsupportedPathError)continue;throw _0x42c11f;}this[_0x36307f(0x132)]=_0x21550b[_0x36307f(0x132)]['bind'](_0x21550b),this['routers']=[_0x21550b],this[_0x36307f(0xf8)]=void 0x0;break;}if(_0x398bcc===_0x1a1af6)throw new Error('Fatal\x20error');return this['name']='SmartRouter\x20+\x20'+this[_0x36307f(0x162)][_0x36307f(0x23e)],_0x4aba8e;}get[a0_0x13d784(0x162)](){const _0x18c293=a0_0x13d784;if(this[_0x18c293(0xf8)]||this[_0x18c293(0x204)]['length']!==0x1)throw new Error(_0x18c293(0x195));return this[_0x18c293(0x204)][0x0];}},Node2=class{constructor(_0x1174e1,_0x12d1b9,_0x4e6997){const _0x206ef1=a0_0x13d784;this['order']=0x0,this[_0x206ef1(0x17c)]={},this[_0x206ef1(0x170)]=_0x4e6997||{},this[_0x206ef1(0xe7)]=[],this['name']='';if(_0x1174e1&&_0x12d1b9){const _0x5ede47={};_0x5ede47[_0x1174e1]={'handler':_0x12d1b9,'possibleKeys':[],'score':0x0,'name':this[_0x206ef1(0x23e)]},this[_0x206ef1(0xe7)]=[_0x5ede47];}this['patterns']=[];}[a0_0x13d784(0x106)](_0x47ac17,_0x55f093,_0xebbc8b){const _0x267674=a0_0x13d784;this['name']=_0x47ac17+'\x20'+_0x55f093,this[_0x267674(0x235)]=++this[_0x267674(0x235)];let _0x2c1b7f=this;const _0xad3252=splitRoutingPath(_0x55f093),_0x353b1c=[],_0x59b0b9=[];for(let _0x40f928=0x0,_0x7a768=_0xad3252[_0x267674(0x110)];_0x40f928<_0x7a768;_0x40f928++){const _0x3a4aa9=_0xad3252[_0x40f928];if(Object[_0x267674(0x101)](_0x2c1b7f[_0x267674(0x170)])[_0x267674(0x247)](_0x3a4aa9)){_0x59b0b9[_0x267674(0x1bf)](..._0x2c1b7f[_0x267674(0x176)]),_0x2c1b7f=_0x2c1b7f['children'][_0x3a4aa9];const _0x5f0b3f=getPattern(_0x3a4aa9);_0x5f0b3f&&_0x353b1c[_0x267674(0x1bf)](_0x5f0b3f[0x1]);continue;}_0x2c1b7f[_0x267674(0x170)][_0x3a4aa9]=new Node2();const _0x5382c9=getPattern(_0x3a4aa9);_0x5382c9&&(_0x2c1b7f[_0x267674(0x176)][_0x267674(0x1bf)](_0x5382c9),_0x59b0b9[_0x267674(0x1bf)](..._0x2c1b7f[_0x267674(0x176)]),_0x353b1c[_0x267674(0x1bf)](_0x5382c9[0x1])),_0x59b0b9[_0x267674(0x1bf)](..._0x2c1b7f[_0x267674(0x176)]),_0x2c1b7f=_0x2c1b7f['children'][_0x3a4aa9];}!_0x2c1b7f[_0x267674(0xe7)][_0x267674(0x110)]&&(_0x2c1b7f[_0x267674(0xe7)]=[]);const _0x11f2fb={},_0x5469ca={'handler':_0xebbc8b,'possibleKeys':_0x353b1c['filter']((_0x551c18,_0x98b55f,_0x2f8a09)=>_0x2f8a09[_0x267674(0x1c5)](_0x551c18)===_0x98b55f),'name':this['name'],'score':this[_0x267674(0x235)]};return _0x11f2fb[_0x47ac17]=_0x5469ca,_0x2c1b7f[_0x267674(0xe7)]['push'](_0x11f2fb),_0x2c1b7f;}[a0_0x13d784(0x214)](_0xbbdc09,_0x44d3bd,_0x2e8606,_0x2926b1){const _0x156588=a0_0x13d784,_0x58998d=[];for(let _0x2d7fc=0x0,_0x2c6852=_0xbbdc09[_0x156588(0xe7)][_0x156588(0x110)];_0x2d7fc<_0x2c6852;_0x2d7fc++){const _0xa0961e=_0xbbdc09[_0x156588(0xe7)][_0x2d7fc],_0x59bbdf=_0xa0961e[_0x44d3bd]||_0xa0961e[METHOD_NAME_ALL],_0x284784={};_0x59bbdf!==void 0x0&&(_0x59bbdf[_0x156588(0x17c)]={},_0x59bbdf[_0x156588(0x1a0)]['forEach'](_0x472b40=>{const _0x291ea4=_0x156588,_0xf4d97e=_0x284784[_0x59bbdf['name']];_0x59bbdf['params'][_0x472b40]=_0x2926b1[_0x472b40]&&!_0xf4d97e?_0x2926b1[_0x472b40]:_0x2e8606[_0x472b40]??_0x2926b1[_0x472b40],_0x284784[_0x59bbdf[_0x291ea4(0x23e)]]=!![];}),_0x58998d['push'](_0x59bbdf));}return _0x58998d;}[a0_0x13d784(0x244)](_0x5514a4,_0x4f47ba){const _0x65bc0c=a0_0x13d784,_0x2f2b11=[];this[_0x65bc0c(0x17c)]={};const _0x455498=this;let _0x79d850=[_0x455498];const _0x454b7c=splitPath(_0x4f47ba);for(let _0x6c5948=0x0,_0x402978=_0x454b7c[_0x65bc0c(0x110)];_0x6c5948<_0x402978;_0x6c5948++){const _0x49630d=_0x454b7c[_0x6c5948],_0x339650=_0x6c5948===_0x402978-0x1,_0x518824=[];for(let _0x407b0e=0x0,_0x1c7988=_0x79d850[_0x65bc0c(0x110)];_0x407b0e<_0x1c7988;_0x407b0e++){const _0x2b932f=_0x79d850[_0x407b0e],_0x3fe961=_0x2b932f['children'][_0x49630d];_0x3fe961&&(_0x3fe961[_0x65bc0c(0x17c)]=_0x2b932f['params'],_0x339650===!![]?(_0x3fe961[_0x65bc0c(0x170)]['*']&&_0x2f2b11[_0x65bc0c(0x1bf)](...this[_0x65bc0c(0x214)](_0x3fe961['children']['*'],_0x5514a4,_0x2b932f[_0x65bc0c(0x17c)],{})),_0x2f2b11[_0x65bc0c(0x1bf)](...this['gHSets'](_0x3fe961,_0x5514a4,_0x2b932f[_0x65bc0c(0x17c)],{}))):_0x518824['push'](_0x3fe961));for(let _0x26162e=0x0,_0x582ecc=_0x2b932f[_0x65bc0c(0x176)][_0x65bc0c(0x110)];_0x26162e<_0x582ecc;_0x26162e++){const _0xf312b6=_0x2b932f[_0x65bc0c(0x176)][_0x26162e],_0xa6a6e6={..._0x2b932f[_0x65bc0c(0x17c)]};if(_0xf312b6==='*'){const _0x7da101=_0x2b932f[_0x65bc0c(0x170)]['*'];_0x7da101&&(_0x2f2b11['push'](...this[_0x65bc0c(0x214)](_0x7da101,_0x5514a4,_0x2b932f[_0x65bc0c(0x17c)],{})),_0x518824[_0x65bc0c(0x1bf)](_0x7da101));continue;}if(_0x49630d==='')continue;const [_0x248d24,_0x1c42c6,_0x38dbe1]=_0xf312b6,_0xd49f05=_0x2b932f['children'][_0x248d24],_0x2aed6f=_0x454b7c[_0x65bc0c(0x1c8)](_0x6c5948)['join']('/');if(_0x38dbe1 instanceof RegExp&&_0x38dbe1[_0x65bc0c(0x254)](_0x2aed6f)){_0xa6a6e6[_0x1c42c6]=_0x2aed6f,_0x2f2b11['push'](...this[_0x65bc0c(0x214)](_0xd49f05,_0x5514a4,_0x2b932f[_0x65bc0c(0x17c)],_0xa6a6e6));continue;}(_0x38dbe1===!![]||_0x38dbe1 instanceof RegExp&&_0x38dbe1[_0x65bc0c(0x254)](_0x49630d))&&(typeof _0x248d24==='string'&&(_0xa6a6e6[_0x1c42c6]=_0x49630d,_0x339650===!![]?(_0x2f2b11[_0x65bc0c(0x1bf)](...this[_0x65bc0c(0x214)](_0xd49f05,_0x5514a4,_0xa6a6e6,_0x2b932f['params'])),_0xd49f05[_0x65bc0c(0x170)]['*']&&_0x2f2b11[_0x65bc0c(0x1bf)](...this[_0x65bc0c(0x214)](_0xd49f05[_0x65bc0c(0x170)]['*'],_0x5514a4,_0xa6a6e6,_0x2b932f[_0x65bc0c(0x17c)]))):(_0xd49f05['params']=_0xa6a6e6,_0x518824['push'](_0xd49f05))));}}_0x79d850=_0x518824;}const _0x5c813c=_0x2f2b11['sort']((_0x11e0da,_0x3f139e)=>{const _0x44dc38=_0x65bc0c;return _0x11e0da[_0x44dc38(0x102)]-_0x3f139e['score'];});return[_0x5c813c[_0x65bc0c(0x245)](({handler:_0x2cedd1,params:_0x447552})=>[_0x2cedd1,_0x447552])];}},TrieRouter=class{constructor(){const _0x2a7003=a0_0x13d784;this[_0x2a7003(0x23e)]=_0x2a7003(0x216),this[_0x2a7003(0x103)]=new Node2();}[a0_0x13d784(0x227)](_0x3410ef,_0x49c6dc,_0x2b407e){const _0x51b979=a0_0x13d784,_0x29b424=checkOptionalParameter(_0x49c6dc);if(_0x29b424){for(const _0x4fd6b0 of _0x29b424){this[_0x51b979(0x103)][_0x51b979(0x106)](_0x3410ef,_0x4fd6b0,_0x2b407e);}return;}this['node'][_0x51b979(0x106)](_0x3410ef,_0x49c6dc,_0x2b407e);}[a0_0x13d784(0x132)](_0x4c6022,_0x28dbd4){const _0x117f4c=a0_0x13d784;return this[_0x117f4c(0x103)][_0x117f4c(0x244)](_0x4c6022,_0x28dbd4);}},Hono2=class extends Hono{constructor(_0x5cec97={}){const _0x11c594=a0_0x13d784;super(_0x5cec97),this[_0x11c594(0x163)]=_0x5cec97[_0x11c594(0x163)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0x43e167){const _0x378715=a0_0x13d784;if(wasmReady)return wasmModule;try{const _0x28caed=_0x43e167||_0x378715(0x133),_0x641f9f=await import(_0x28caed);return typeof _0x641f9f[_0x378715(0x134)]===_0x378715(0x190)&&await _0x641f9f['default'](),wasmModule=_0x641f9f,wasmReady=!![],wasmModule;}catch(_0x69fb87){console['warn'](_0x378715(0x160),_0x69fb87),wasmReady=![];throw _0x69fb87;}}async function parseVlessHeader(_0x18c80f){const _0x155d2e=a0_0x13d784;if(!wasmReady)throw new Error(_0x155d2e(0x168));if(!wasmModule||typeof wasmModule[_0x155d2e(0x19a)]!==_0x155d2e(0x190))throw new Error(_0x155d2e(0x208));return await wasmModule[_0x155d2e(0x19a)](_0x18c80f);}function renderAdminLogin(_0x71b5be,_0x225bc3){const _0xb84208=a0_0x13d784;return _0xb84208(0x1fd)+_0x71b5be+_0xb84208(0x150)+(_0x225bc3?'<p\x20style=\x22color:red\x22>'+escapeHtml(_0x225bc3)+_0xb84208(0x1ac):'')+_0xb84208(0x16e);}function renderAdminPanel(){const _0x25a3bd=a0_0x13d784;return _0x25a3bd(0x18d);}function escapeHtml(_0x47420d){const _0x51e866=a0_0x13d784;return _0x47420d[_0x51e866(0x22a)](/[&<>'"]/g,_0x841fd=>({'&':'&amp;','<':'&lt;','>':_0x51e866(0xf5),'\x27':_0x51e866(0x22c),'\x22':_0x51e866(0x187)}[_0x841fd]));}function expiryToISO(_0x1e04a2,_0x191d4f){const _0x11e82b=a0_0x13d784;if(!_0x1e04a2||!_0x191d4f)return null;const _0x60b5fc=_0x191d4f[_0x11e82b(0x24b)](':')[_0x11e82b(0x110)]===0x2?_0x191d4f+':00':_0x191d4f,_0x2b0cfc=_0x1e04a2+'T'+_0x60b5fc+'Z',_0x460342=new Date(_0x2b0cfc);if(isNaN(_0x460342['getTime']()))return null;return _0x460342['toISOString']();}var app=new Hono2();function addSecurityHeaders(_0xb54c0f){const _0x24b174=a0_0x13d784;_0xb54c0f['set']('X-Content-Type-Options',_0x24b174(0x18a)),_0xb54c0f['set'](_0x24b174(0x126),_0x24b174(0xe4)),_0xb54c0f[_0x24b174(0x1cd)]('Permissions-Policy','camera=(),\x20microphone=()');}app[a0_0x13d784(0x10c)](a0_0x13d784(0x24c),async _0x5ea3f5=>{const _0x5cc383=a0_0x13d784,_0x3c9b53=_0x5ea3f5[_0x5cc383(0x219)],_0x472adc=await _0x5ea3f5['req'][_0x5cc383(0x234)](),_0x489394=_0x472adc['get']('password')?.['toString']()||'';if(!_0x3c9b53[_0x5cc383(0x15b)])return _0x5ea3f5['text'](_0x5cc383(0x1d5),0x1f7);if(_0x489394!==_0x3c9b53['ADMIN_KEY'])return _0x5ea3f5['text'](_0x5cc383(0x166),0x191);const _0x24d76a=crypto[_0x5cc383(0x1db)](),_0x2dcbd4=await crypto[_0x5cc383(0x1ae)][_0x5cc383(0x1f2)](_0x5cc383(0x21d),new TextEncoder()[_0x5cc383(0x13f)](_0x24d76a)),_0x16ff15=Array[_0x5cc383(0x14b)](new Uint8Array(_0x2dcbd4))[_0x5cc383(0x245)](_0x36ab3e=>_0x36ab3e[_0x5cc383(0x1cf)](0x10)[_0x5cc383(0x20a)](0x2,'0'))[_0x5cc383(0x239)]('');try{await _0x3c9b53['DB']['prepare'](_0x5cc383(0xf9))[_0x5cc383(0x1f7)](_0x5cc383(0x134),_0x16ff15,Math[_0x5cc383(0x207)](Date['now']()/0x3e8)+0x15180)['run']();}catch(_0x3b2f5e){console[_0x5cc383(0x10b)]('admin\x20session\x20store\x20failed',_0x3b2f5e);}const _0x4e9761=new Headers();return _0x4e9761[_0x5cc383(0x198)](_0x5cc383(0x210),_0x5cc383(0x191)+_0x24d76a+_0x5cc383(0x1e5)),addSecurityHeaders(_0x4e9761),_0x5ea3f5[_0x5cc383(0x1bc)]('OK',0xc8,{'headers':_0x4e9761});});async function hashSHA256Hex(_0x3edda6){const _0x58c877=a0_0x13d784,_0x269686=new TextEncoder(),_0x227a1d=_0x269686[_0x58c877(0x13f)](_0x3edda6),_0x4f6df9=await crypto['subtle'][_0x58c877(0x1f2)](_0x58c877(0x21d),_0x227a1d);return Array['from'](new Uint8Array(_0x4f6df9))[_0x58c877(0x245)](_0x257cd0=>_0x257cd0[_0x58c877(0x1cf)](0x10)[_0x58c877(0x20a)](0x2,'0'))['join']('');}async function isAdminRequest(_0x37aa59){const _0x4831d0=a0_0x13d784,_0x2ee5a5=_0x37aa59[_0x4831d0(0x116)][_0x4831d0(0x1de)]['get'](_0x4831d0(0x105))||'',_0x278697=_0x2ee5a5[_0x4831d0(0x132)](/auth_token=([^;]+)/)?.[0x1];if(!_0x278697)return![];const _0x181af7=await hashSHA256Hex(_0x278697);try{const _0x11f38e=await _0x37aa59[_0x4831d0(0x219)]['DB'][_0x4831d0(0x13b)](_0x4831d0(0x161))[_0x4831d0(0x1f7)](_0x4831d0(0x134))[_0x4831d0(0x1b7)]();if(!_0x11f38e?.[_0x4831d0(0x142)])return![];return _0x181af7===_0x11f38e[_0x4831d0(0x142)];}catch(_0x5c631d){return console[_0x4831d0(0x1b4)](_0x4831d0(0x135),_0x5c631d),![];}}async function ensureTablesExist(_0x1e5ebe){const _0x387f12=a0_0x13d784;if(!_0x1e5ebe['DB'])return;const _0x48b675=[_0x387f12(0x1e9),_0x387f12(0x145),'CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)',_0x387f12(0x1e6)];try{const _0x407e78=_0x48b675[_0x387f12(0x245)](_0x577cab=>_0x1e5ebe['DB']['prepare'](_0x577cab));await _0x1e5ebe['DB'][_0x387f12(0x127)](_0x407e78);}catch(_0x583749){console[_0x387f12(0x1b4)](_0x387f12(0x10e),_0x583749);}}app['get'](a0_0x13d784(0x19b),async _0x2306fe=>{const _0x21173a=a0_0x13d784;await ensureTablesExist(_0x2306fe['env']);const _0x9e3b8b=await isAdminRequest(_0x2306fe),_0x16c759=_0x21173a(0x19b),_0x99a233=new Headers({'Content-Type':'text/html;charset=utf-8'});addSecurityHeaders(_0x99a233);if(!_0x9e3b8b)return new Response(renderAdminLogin(_0x16c759+_0x21173a(0x10a)),{'headers':_0x99a233});return new Response(renderAdminPanel(),{'headers':_0x99a233});}),app[a0_0x13d784(0x1aa)](a0_0x13d784(0x16b),async _0x577b8a=>{const _0x1135b1=a0_0x13d784;if(!await isAdminRequest(_0x577b8a))return _0x577b8a['json']({'error':'Forbidden'},0x193);const _0xf02dd7=_0x577b8a['env'];await ensureTablesExist(_0xf02dd7);try{const _0x4490c5=await _0xf02dd7['DB'][_0x1135b1(0x13b)](_0x1135b1(0x240))[_0x1135b1(0x1b7)](_0x1135b1(0x22e)),_0x3ae0cc=await _0xf02dd7['DB'][_0x1135b1(0x13b)](_0x1135b1(0x16a))[_0x1135b1(0x1b7)]('count'),_0x525e4c=await _0xf02dd7['DB']['prepare'](_0x1135b1(0xf2))[_0x1135b1(0x1b7)]('sum'),_0xe2798e=_0x3ae0cc||0x0,_0x361056=(_0x4490c5||0x0)-_0xe2798e;return _0x577b8a['json']({'total_users':_0x4490c5||0x0,'active_users':_0x361056,'expired_users':_0xe2798e,'total_traffic':_0x525e4c||0x0});}catch(_0x467d4c){const _0x2efc9b=_0x467d4c instanceof Error?_0x467d4c[_0x1135b1(0x212)]:String(_0x467d4c);return _0x577b8a[_0x1135b1(0xff)]({'error':_0x2efc9b},0x1f4);}}),app[a0_0x13d784(0x1aa)]('/admin/api/users',async _0x50d5e4=>{const _0xfcb75e=a0_0x13d784;if(!await isAdminRequest(_0x50d5e4))return _0x50d5e4['json']({'error':_0xfcb75e(0x12b)},0x193);const _0x5643c5=await _0x50d5e4[_0xfcb75e(0x219)]['DB']['prepare']('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')['all']();return _0x50d5e4[_0xfcb75e(0xff)](_0x5643c5[_0xfcb75e(0x21c)]||[]);}),app[a0_0x13d784(0x10c)](a0_0x13d784(0x130),async _0x27f35f=>{const _0x3bff85=a0_0x13d784;if(!await isAdminRequest(_0x27f35f))return _0x27f35f[_0x3bff85(0xff)]({'error':'Forbidden'},0x193);const _0x41a37e=await _0x27f35f['req']['json'](),{uuid:_0x5d5050,exp_date:_0x52be59,exp_time:_0x3c85e0,notes:_0x5bcfb6,traffic_limit:_0x49e660,ip_limit:_0x3edfd0}=_0x41a37e;if(!_0x5d5050||!_0x52be59||!_0x3c85e0)return _0x27f35f[_0x3bff85(0xff)]({'error':_0x3bff85(0xee)},0x190);try{return await _0x27f35f[_0x3bff85(0x219)]['DB'][_0x3bff85(0x13b)](_0x3bff85(0x1a9))[_0x3bff85(0x1f7)](_0x5d5050,_0x52be59,_0x3c85e0,_0x5bcfb6||null,_0x49e660||null,_0x3edfd0||-0x1)['run'](),_0x27f35f[_0x3bff85(0xff)]({'success':!![],'uuid':_0x5d5050},0xc9);}catch(_0xa1179f){const _0x378419=_0xa1179f instanceof Error?_0xa1179f[_0x3bff85(0x212)]:String(_0xa1179f);return _0x27f35f['json']({'error':_0x378419},0x190);}}),app[a0_0x13d784(0x17f)](a0_0x13d784(0x131),async _0x3cd140=>{const _0x38c4d7=a0_0x13d784;if(!await isAdminRequest(_0x3cd140))return _0x3cd140[_0x38c4d7(0xff)]({'error':_0x38c4d7(0x12b)},0x193);const _0x313118=_0x3cd140['req']['param'](_0x38c4d7(0x146)),_0x6c1832=await _0x3cd140[_0x38c4d7(0x116)][_0x38c4d7(0xff)](),{exp_date:_0x25377c,exp_time:_0xaaa9d0,notes:_0x353e51,traffic_limit:_0x4b6a9c,ip_limit:_0x24be96,reset_traffic:_0x252b3e}=_0x6c1832;if(!_0x25377c||!_0xaaa9d0)return _0x3cd140[_0x38c4d7(0xff)]({'error':'Missing\x20date/time'},0x190);try{let _0x44b6d3='UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?';if(_0x252b3e)_0x44b6d3+=_0x38c4d7(0x15e);return _0x44b6d3+=_0x38c4d7(0x249),await _0x3cd140[_0x38c4d7(0x219)]['DB'][_0x38c4d7(0x13b)](_0x44b6d3)[_0x38c4d7(0x1f7)](_0x25377c,_0xaaa9d0,_0x353e51||null,_0x4b6a9c||null,_0x24be96||-0x1,_0x313118)[_0x38c4d7(0xf6)](),_0x3cd140[_0x38c4d7(0xff)]({'success':!![],'uuid':_0x313118});}catch(_0x4622f4){const _0x24093e=_0x4622f4 instanceof Error?_0x4622f4[_0x38c4d7(0x212)]:String(_0x4622f4);return _0x3cd140['json']({'error':_0x24093e},0x190);}}),app['delete'](a0_0x13d784(0x131),async _0x330ef1=>{const _0x1f12da=a0_0x13d784;if(!await isAdminRequest(_0x330ef1))return _0x330ef1[_0x1f12da(0xff)]({'error':'Forbidden'},0x193);const _0x219c2f=_0x330ef1[_0x1f12da(0x116)][_0x1f12da(0x182)](_0x1f12da(0x146));try{return await _0x330ef1[_0x1f12da(0x219)]['DB']['prepare'](_0x1f12da(0x1a2))[_0x1f12da(0x1f7)](_0x219c2f)[_0x1f12da(0xf6)](),_0x330ef1['json']({'success':!![],'uuid':_0x219c2f});}catch(_0x14c7f9){const _0x5acb6a=_0x14c7f9 instanceof Error?_0x14c7f9[_0x1f12da(0x212)]:String(_0x14c7f9);return _0x330ef1[_0x1f12da(0xff)]({'error':_0x5acb6a},0x1f4);}}),app[a0_0x13d784(0x10c)](a0_0x13d784(0x11c),async _0x13f3bd=>{const _0x2317f0=a0_0x13d784;if(!await isAdminRequest(_0x13f3bd))return _0x13f3bd[_0x2317f0(0xff)]({'error':_0x2317f0(0x12b)},0x193);const _0x2a714a=_0x13f3bd[_0x2317f0(0x219)],_0x15dc5b=_0x2a714a['PROXYIPS']?_0x2a714a[_0x2317f0(0x1bb)]['split'](',')[_0x2317f0(0x245)](_0x5155ab=>_0x5155ab[_0x2317f0(0x23c)]()):[_0x2317f0(0x1b5)],_0xe2b125=[];for(const _0x346081 of _0x15dc5b){const [_0x1b68e0,_0x3cf009=_0x2317f0(0x189)]=_0x346081[_0x2317f0(0x24b)](':');let _0x4ce971=null,_0xdb0460=0x0;const _0x1f7147=Date[_0x2317f0(0x167)]();try{const _0x43b387=new AbortController(),_0x2635dd=setTimeout(()=>_0x43b387[_0x2317f0(0x18e)](),0x1388),_0x496bf0=await fetch('https://'+_0x1b68e0+':'+_0x3cf009,{'signal':_0x43b387[_0x2317f0(0x1e3)]});clearTimeout(_0x2635dd),_0x496bf0['ok']&&(_0x4ce971=Date[_0x2317f0(0x167)]()-_0x1f7147,_0xdb0460=0x1);}catch(_0xc3fb23){}_0xe2b125[_0x2317f0(0x1bf)](_0x2a714a['DB'][_0x2317f0(0x13b)](_0x2317f0(0x155))['bind'](_0x346081,_0xdb0460,_0x4ce971,Math[_0x2317f0(0x207)](Date[_0x2317f0(0x167)]()/0x3e8)));}try{return await _0x2a714a['DB']['batch'](_0xe2b125),_0x13f3bd[_0x2317f0(0xff)]({'success':!![]});}catch(_0x5d9dd5){return _0x13f3bd[_0x2317f0(0xff)]({'error':_0x5d9dd5?.[_0x2317f0(0x212)]||String(_0x5d9dd5)},0x1f4);}}),app[a0_0x13d784(0x10c)]('/admin/logout',async _0x56c20a=>{const _0x39caff=a0_0x13d784;try{await _0x56c20a['env']['DB']['prepare']('DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?')[_0x39caff(0x1f7)]('default')[_0x39caff(0xf6)]();}catch(_0x35fd9e){}const _0x1b353e=new Headers();return _0x1b353e[_0x39caff(0x198)](_0x39caff(0x210),_0x39caff(0x1eb)),addSecurityHeaders(_0x1b353e),new Response(JSON['stringify']({'success':!![]}),{'headers':_0x1b353e});}),app[a0_0x13d784(0x1aa)](a0_0x13d784(0x17a),async _0x5a62ff=>{const _0x59a810=a0_0x13d784,{uuid:_0x37cc57}=_0x5a62ff[_0x59a810(0x116)][_0x59a810(0x182)](),_0x236e94=_0x5a62ff['env'];if(!/^[0-9a-fA-F-]{36}$/[_0x59a810(0x254)](_0x37cc57))return _0x5a62ff[_0x59a810(0xff)]({'error':_0x59a810(0x157)},0x190);const _0x4766dd=await _0x236e94['DB'][_0x59a810(0x13b)](_0x59a810(0x144))['bind'](_0x37cc57)[_0x59a810(0x1b7)]();if(!_0x4766dd)return _0x5a62ff[_0x59a810(0xff)]({'error':_0x59a810(0x14a)},0x194);const _0x14bb70=expiryToISO(_0x4766dd['expiration_date'],_0x4766dd[_0x59a810(0x1dc)]);return _0x5a62ff[_0x59a810(0xff)]({'traffic_used':_0x4766dd['traffic_used']||0x0,'traffic_limit':_0x4766dd['traffic_limit']||null,'expiration_iso':_0x14bb70});}),app[a0_0x13d784(0x1aa)]('/:uuid',async _0x5a2ab1=>{const _0x415054=a0_0x13d784,_0x40ded3=_0x5a2ab1['req']['param'](_0x415054(0x146)),_0x20a41f=_0x5a2ab1[_0x415054(0x219)];if(!/^[0-9a-fA-F-]{36}$/['test'](_0x40ded3))return _0x5a2ab1['text'](_0x415054(0x1c9),0x190);const _0x3c309f=await _0x20a41f['DB'][_0x415054(0x13b)](_0x415054(0x15f))[_0x415054(0x1f7)](_0x40ded3)[_0x415054(0x1b7)]();if(!_0x3c309f)return _0x5a2ab1[_0x415054(0x1bc)]('Authentication\x20failed',0x193);let _0x2f45c5=_0x20a41f[_0x415054(0x1bb)]?_0x20a41f['PROXYIPS'][_0x415054(0x24b)](',')[0x0]:'speed.cloudflare.com:443';try{const _0x3ce4d7=await _0x20a41f['DB'][_0x415054(0x13b)](_0x415054(0x154))[_0x415054(0x1b7)]();if(_0x3ce4d7?.[_0x415054(0x185)])_0x2f45c5=_0x3ce4d7['ip_port'];}catch(_0x36cae1){}const _0x51c30b=_0x5a2ab1[_0x415054(0x116)][_0x415054(0x1de)][_0x415054(0x1aa)](_0x415054(0x13e))||_0x415054(0x232),_0x467cda=_0x415054(0x23d)+_0x51c30b+_0x415054(0x1a5)+_0x40ded3,_0x30d61f=_0x415054(0x23d)+_0x51c30b+_0x415054(0x15d)+_0x40ded3,_0x11f95f=expiryToISO(_0x3c309f[_0x415054(0x220)],_0x3c309f[_0x415054(0x1dc)]),_0x50f5af=_0x415054(0x12e)+_0x40ded3+_0x415054(0x253)+_0x2f45c5+_0x415054(0x1a6)+_0x467cda+'\x22>'+_0x467cda+_0x415054(0x1b3)+_0x30d61f+'\x22>'+_0x30d61f+_0x415054(0x1a4)+_0x40ded3+_0x415054(0x213)+(_0x3c309f['traffic_used']||0x0)+_0x415054(0x1d9)+(_0x11f95f||'Unlimited')+_0x415054(0xfa),_0x31b6f7=new Headers({'Content-Type':_0x415054(0x1b6)});return addSecurityHeaders(_0x31b6f7),new Response(_0x50f5af,{'headers':_0x31b6f7});}),app[a0_0x13d784(0x1aa)](a0_0x13d784(0x246),async _0x4c8269=>{const _0x2b2985=a0_0x13d784,_0x349d8a=_0x4c8269['req'][_0x2b2985(0x182)](_0x2b2985(0x146));if(!/^[0-9a-fA-F-]{36}$/[_0x2b2985(0x254)](_0x349d8a))return _0x4c8269[_0x2b2985(0x1bc)](_0x2b2985(0x1c9),0x190);const _0x30635a=_0x4c8269[_0x2b2985(0x116)][_0x2b2985(0x1de)][_0x2b2985(0x1aa)]('Host')||_0x2b2985(0x232),_0x11e4ab=[_0x2b2985(0x201)+_0x349d8a+'@'+_0x30635a+_0x2b2985(0xed)+_0x30635a+_0x2b2985(0x1e7)],_0x46dc06=new Headers({'Content-Type':_0x2b2985(0xea)});return addSecurityHeaders(_0x46dc06),new Response(btoa(_0x11e4ab[_0x2b2985(0x239)]('\x0a')),{'headers':_0x46dc06});}),app[a0_0x13d784(0x1aa)]('/sb/:uuid',async _0x4698ef=>{const _0x306c44=a0_0x13d784,_0x2486b6=_0x4698ef[_0x306c44(0x116)][_0x306c44(0x182)]('uuid');if(!/^[0-9a-fA-F-]{36}$/[_0x306c44(0x254)](_0x2486b6))return _0x4698ef[_0x306c44(0x1bc)](_0x306c44(0x1c9),0x190);const _0x4ef4e3=_0x4698ef[_0x306c44(0x116)][_0x306c44(0x1de)][_0x306c44(0x1aa)](_0x306c44(0x13e))||_0x306c44(0x232),_0x41cab7=[_0x306c44(0x201)+_0x2486b6+'@'+_0x4ef4e3+':443?type=ws&host='+_0x4ef4e3+_0x306c44(0x18f)],_0x4dc6c4=new Headers({'Content-Type':_0x306c44(0xea)});return addSecurityHeaders(_0x4dc6c4),new Response(btoa(_0x41cab7[_0x306c44(0x239)]('\x0a')),{'headers':_0x4dc6c4});}),app[a0_0x13d784(0x13a)](a0_0x13d784(0x12c),async _0x1f1e0c=>{const _0x10c2cb=a0_0x13d784,_0x5f0bee=_0x1f1e0c[_0x10c2cb(0x116)],_0x15f9c4=_0x1f1e0c['env'];if(_0x5f0bee['headers'][_0x10c2cb(0x1aa)]('upgrade')?.[_0x10c2cb(0x136)]()!=='websocket')return _0x1f1e0c[_0x10c2cb(0x1bc)]('Must\x20upgrade\x20to\x20WebSocket',0x190);try{if(_0x15f9c4[_0x10c2cb(0x1e4)])try{await initWasm();}catch(_0x1c818e){console[_0x10c2cb(0x1b4)](_0x10c2cb(0x192),_0x1c818e);}}catch(_0x332c7b){console[_0x10c2cb(0x1b4)](_0x10c2cb(0x11a),_0x332c7b);}const _0x3f0362=new globalThis[(_0x10c2cb(0x20d))](),[_0x5d41fe,_0x55d429]=Object['values'](_0x3f0362);_0x55d429[_0x10c2cb(0x179)]();let _0x1d8fda=0x0,_0x4862d4='';const _0x2cdfb3=async()=>{const _0x1fb865=_0x10c2cb;try{if(!_0x4862d4||_0x1d8fda<=0x0)return;_0x1f1e0c[_0x1fb865(0x148)][_0x1fb865(0x171)](((async()=>{const _0x59c380=_0x1fb865;try{await _0x15f9c4['DB'][_0x59c380(0x13b)](_0x59c380(0x1fc))[_0x59c380(0x1f7)](Math[_0x59c380(0x183)](_0x1d8fda),_0x4862d4)[_0x59c380(0xf6)]();}catch(_0x264fda){console['error'](_0x59c380(0x1c0),_0x264fda);}})())),_0x1d8fda=0x0;}catch(_0xef40db){console[_0x1fb865(0x10b)](_0x1fb865(0x186),_0xef40db);}},_0x3214bd=setInterval(()=>{_0x2cdfb3();},0x2710);_0x55d429[_0x10c2cb(0xe5)](_0x10c2cb(0x212),async _0x2f19f6=>{const _0x235db7=_0x10c2cb;try{const _0x8f8d72=_0x2f19f6[_0x235db7(0x222)];let _0x3d8306;if(typeof _0x8f8d72===_0x235db7(0x1e1))_0x3d8306=new TextEncoder()[_0x235db7(0x13f)](_0x8f8d72);else{if(_0x8f8d72 instanceof ArrayBuffer)_0x3d8306=new Uint8Array(_0x8f8d72);else{if(_0x8f8d72 instanceof Blob)_0x3d8306=new Uint8Array(await _0x8f8d72[_0x235db7(0x147)]());else return;}}_0x1d8fda+=_0x3d8306[_0x235db7(0x108)];if(!_0x4862d4)try{if(_0x3d8306['byteLength']<0x18){}let _0x199ca4=null;try{_0x199ca4=await parseVlessHeader(_0x3d8306);}catch(_0xef2949){console[_0x235db7(0x1b4)](_0x235db7(0x11d),_0xef2949);}if(!_0x199ca4){const _0x3782ad=new DataView(_0x3d8306[_0x235db7(0x1f3)]),_0x56c670=new Uint8Array(_0x3d8306[_0x235db7(0x1f3)][_0x235db7(0x1c8)](0x1,0x11)),_0x4a1194=Array[_0x235db7(0x14b)](_0x56c670)[_0x235db7(0x245)](_0x3c4502=>_0x3c4502[_0x235db7(0x1cf)](0x10)[_0x235db7(0x20a)](0x2,'0'))[_0x235db7(0x239)](''),_0xcb8583=_0x4a1194[_0x235db7(0x107)](0x0,0x8)+'-'+_0x4a1194['substring'](0x8,0xc)+'-'+_0x4a1194[_0x235db7(0x107)](0xc,0x10)+'-'+_0x4a1194[_0x235db7(0x107)](0x10,0x14)+'-'+_0x4a1194['substring'](0x14,0x20);_0x199ca4={'uuid':_0xcb8583,'command':_0x3782ad[_0x235db7(0x137)](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x4862d4=_0x199ca4[_0x235db7(0x146)];const _0x21d534=await _0x15f9c4['DB'][_0x235db7(0x13b)](_0x235db7(0x1d3))[_0x235db7(0x1f7)](_0x4862d4)['first']();if(!_0x21d534){_0x55d429['close'](0x3f3,'Authentication\x20failed');return;}const _0x3cf480=expiryToISO(_0x21d534[_0x235db7(0x220)],_0x21d534[_0x235db7(0x1dc)]);if(_0x3cf480&&new Date(_0x3cf480)<=new Date()){_0x55d429[_0x235db7(0x1cc)](0x3f0,'Expired');return;}if(_0x21d534['traffic_limit']&&_0x21d534['traffic_limit']>0x0&&(_0x21d534[_0x235db7(0x196)]||0x0)>=_0x21d534[_0x235db7(0x1a1)]){_0x55d429[_0x235db7(0x1cc)](0x3f0,_0x235db7(0x1d8));return;}try{const _0x4c05e7=_0x5f0bee[_0x235db7(0x1de)][_0x235db7(0x1aa)](_0x235db7(0x238))||_0x5f0bee['headers'][_0x235db7(0x1aa)](_0x235db7(0x1ec))||'';if(_0x21d534[_0x235db7(0x164)]&&_0x21d534[_0x235db7(0x164)]>-0x1){const _0x8d0073=await _0x15f9c4['DB'][_0x235db7(0x13b)](_0x235db7(0x215))[_0x235db7(0x1f7)](_0x4862d4)['first'](),_0x416eb8=_0x8d0073?.[_0x235db7(0x22e)]||0x0;if(_0x416eb8>=_0x21d534[_0x235db7(0x164)]){_0x55d429['close'](0x3f0,_0x235db7(0x15c));return;}}_0x1f1e0c[_0x235db7(0x148)]['waitUntil'](((async()=>{const _0x2a89ef=_0x235db7;try{await _0x15f9c4['DB'][_0x2a89ef(0x13b)](_0x2a89ef(0x20e))[_0x2a89ef(0x1f7)](_0x4862d4,_0x5f0bee[_0x2a89ef(0x1de)][_0x2a89ef(0x1aa)](_0x2a89ef(0x238))||_0x2a89ef(0x17b))[_0x2a89ef(0xf6)]();}catch(_0x5c4de9){console[_0x2a89ef(0x1b4)]('user_ip\x20upsert\x20failed',_0x5c4de9);}})()));}catch(_0x48ed8a){console[_0x235db7(0x1b4)]('ip_limit\x20check\x20err',_0x48ed8a);}}catch(_0x21c45a){console[_0x235db7(0x10b)]('initial\x20header\x20parse\x20error',_0x21c45a),_0x55d429[_0x235db7(0x1cc)](0x3f3,_0x235db7(0x1af));return;}try{_0x55d429['readyState']===0x1&&_0x55d429['send']('ACK');}catch(_0x4d5942){console[_0x235db7(0x1b4)](_0x235db7(0x242),_0x4d5942);}}catch(_0x20564b){console['error'](_0x235db7(0x124),_0x20564b);try{_0x55d429[_0x235db7(0x1cc)](0x3f3,_0x235db7(0x175));}catch(_0x4c5ea4){}}}),_0x55d429[_0x10c2cb(0xe5)](_0x10c2cb(0x1cc),async()=>{const _0x2057a9=_0x10c2cb;clearInterval(_0x3214bd);try{await _0x2cdfb3();}catch(_0x4d2701){console[_0x2057a9(0x1b4)]('flush\x20on\x20close\x20failed',_0x4d2701);}});const _0x16e45e=new Headers();addSecurityHeaders(_0x16e45e);const _0x45e05={'status':0x65,'webSocket':_0x5d41fe,'headers':_0x16e45e};return new Response(null,_0x45e05);}),app['get'](a0_0x13d784(0x153),async _0x383c08=>{const _0x27729f=a0_0x13d784;return _0x383c08[_0x27729f(0x1bc)](_0x27729f(0x1c2));});var src_default={'fetch':app[a0_0x13d784(0x1c3)]};export{src_default as default,expiryToISO};