const a0_0x571941=a0_0x5e55;(function(_0x33aef6,_0x39471a){const _0x3a21fc=a0_0x5e55,_0x2a9e7f=_0x33aef6();while(!![]){try{const _0x18ae47=parseInt(_0x3a21fc(0x2b0))/0x1*(-parseInt(_0x3a21fc(0x282))/0x2)+parseInt(_0x3a21fc(0x1af))/0x3+parseInt(_0x3a21fc(0x2c7))/0x4*(parseInt(_0x3a21fc(0x219))/0x5)+-parseInt(_0x3a21fc(0x231))/0x6*(-parseInt(_0x3a21fc(0x234))/0x7)+parseInt(_0x3a21fc(0x27d))/0x8+parseInt(_0x3a21fc(0x27f))/0x9*(-parseInt(_0x3a21fc(0x1c9))/0xa)+parseInt(_0x3a21fc(0x259))/0xb*(parseInt(_0x3a21fc(0x27b))/0xc);if(_0x18ae47===_0x39471a)break;else _0x2a9e7f['push'](_0x2a9e7f['shift']());}catch(_0x32692f){_0x2a9e7f['push'](_0x2a9e7f['shift']());}}}(a0_0x430b,0x500a5));const a0_0x3ce3fd=(function(){let _0x216aeb=!![];return function(_0x4663ff,_0x274502){const _0x3f6b1a=_0x216aeb?function(){const _0x5b40e8=a0_0x5e55;if(_0x274502){const _0x56308e=_0x274502[_0x5b40e8(0x279)](_0x4663ff,arguments);return _0x274502=null,_0x56308e;}}:function(){};return _0x216aeb=![],_0x3f6b1a;};}()),a0_0x12c49a=a0_0x3ce3fd(this,function(){const _0x537423=a0_0x5e55;return a0_0x12c49a[_0x537423(0x22e)]()['search'](_0x537423(0x2a2))[_0x537423(0x22e)]()[_0x537423(0x278)](a0_0x12c49a)[_0x537423(0x2ad)](_0x537423(0x2a2));});a0_0x12c49a();var splitPath=_0x15e8aa=>{const _0x46b760=a0_0x5e55,_0x93b909=_0x15e8aa[_0x46b760(0x2ee)]('/');return _0x93b909[0x0]===''&&_0x93b909[_0x46b760(0x26d)](),_0x93b909;},splitRoutingPath=_0x5a23e7=>{const {groups:_0x221b86,path:_0x1719cd}=extractGroupsFromPath(_0x5a23e7),_0x1735da=splitPath(_0x1719cd);return replaceGroupMarks(_0x1735da,_0x221b86);},extractGroupsFromPath=_0x32306f=>{const _0x38c744=[];return _0x32306f=_0x32306f['replace'](/\{[^}]+\}/g,(_0x53f142,_0x3fea0a)=>{const _0x16c8ea=a0_0x5e55,_0x642f02='@'+_0x3fea0a;return _0x38c744[_0x16c8ea(0x30f)]([_0x642f02,_0x53f142]),_0x642f02;}),{'groups':_0x38c744,'path':_0x32306f};},replaceGroupMarks=(_0x2aa720,_0x55d688)=>{const _0x17bc37=a0_0x5e55;for(let _0x5643db=_0x55d688['length']-0x1;_0x5643db>=0x0;_0x5643db--){const [_0x2b7cc7]=_0x55d688[_0x5643db];for(let _0x5c8389=_0x2aa720[_0x17bc37(0x2d2)]-0x1;_0x5c8389>=0x0;_0x5c8389--){if(_0x2aa720[_0x5c8389][_0x17bc37(0x1da)](_0x2b7cc7)){_0x2aa720[_0x5c8389]=_0x2aa720[_0x5c8389][_0x17bc37(0x1bb)](_0x2b7cc7,_0x55d688[_0x5643db][0x1]);break;}}}return _0x2aa720;},patternCache={},getPattern=_0x241f68=>{const _0x1f9a21=a0_0x5e55;if(_0x241f68==='*')return'*';const _0x3ccadc=_0x241f68[_0x1f9a21(0x2a8)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x3ccadc)return!patternCache[_0x241f68]&&(_0x3ccadc[0x2]?patternCache[_0x241f68]=[_0x241f68,_0x3ccadc[0x1],new RegExp('^'+_0x3ccadc[0x2]+'$')]:patternCache[_0x241f68]=[_0x241f68,_0x3ccadc[0x1],!![]]),patternCache[_0x241f68];return null;},getPath=_0x523cab=>{const _0x5b8652=a0_0x5e55,_0x46c3d2=_0x523cab[_0x5b8652(0x2cb)]['match'](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x46c3d2?_0x46c3d2[0x1]:'';},getQueryStrings=_0x3c6447=>{const _0x2a5d39=a0_0x5e55,_0x44e03b=_0x3c6447[_0x2a5d39(0x214)]('?',0x8);return _0x44e03b===-0x1?'':'?'+_0x3c6447[_0x2a5d39(0x303)](_0x44e03b+0x1);},getPathNoStrict=_0x515972=>{const _0x1fb240=a0_0x5e55,_0x544603=getPath(_0x515972);return _0x544603[_0x1fb240(0x2d2)]>0x1&&_0x544603[_0x544603['length']-0x1]==='/'?_0x544603['slice'](0x0,-0x1):_0x544603;},mergePath=(..._0x1088e2)=>{const _0x2b9821=a0_0x5e55;let _0x469986='',_0x536866=![];for(let _0x4a1641 of _0x1088e2){_0x469986[_0x469986[_0x2b9821(0x2d2)]-0x1]==='/'&&(_0x469986=_0x469986['slice'](0x0,-0x1),_0x536866=!![]);_0x4a1641[0x0]!=='/'&&(_0x4a1641='/'+_0x4a1641);if(_0x4a1641==='/'&&_0x536866)_0x469986=_0x469986+'/';else _0x4a1641!=='/'&&(_0x469986=''+_0x469986+_0x4a1641);_0x4a1641==='/'&&_0x469986===''&&(_0x469986='/');}return _0x469986;},checkOptionalParameter=_0x51d6d9=>{const _0x18a2a5=a0_0x5e55;if(!_0x51d6d9[_0x18a2a5(0x2a8)](/\:.+\?$/))return null;const _0x4fb0dc=_0x51d6d9[_0x18a2a5(0x2ee)]('/'),_0x52f085=[];let _0x562dc9='';return _0x4fb0dc[_0x18a2a5(0x2f2)](_0x161d4e=>{const _0x228456=_0x18a2a5;if(_0x161d4e!==''&&!/\:/[_0x228456(0x1e7)](_0x161d4e))_0x562dc9+='/'+_0x161d4e;else{if(/\:/[_0x228456(0x1e7)](_0x161d4e)){if(/\?/['test'](_0x161d4e)){_0x52f085['length']===0x0&&_0x562dc9===''?_0x52f085[_0x228456(0x30f)]('/'):_0x52f085[_0x228456(0x30f)](_0x562dc9);const _0x43339b=_0x161d4e['replace']('?','');_0x562dc9+='/'+_0x43339b,_0x52f085[_0x228456(0x30f)](_0x562dc9);}else _0x562dc9+='/'+_0x161d4e;}}}),_0x52f085[_0x18a2a5(0x21b)]((_0x1d63f9,_0x931c3c,_0x48bdbe)=>_0x48bdbe[_0x18a2a5(0x214)](_0x1d63f9)===_0x931c3c);},_decodeURI=_0x46544c=>{const _0x206f31=a0_0x5e55;if(!/[%+]/[_0x206f31(0x1e7)](_0x46544c))return _0x46544c;return _0x46544c['indexOf']('+')!==-0x1&&(_0x46544c=_0x46544c[_0x206f31(0x1bb)](/\+/g,'\x20')),/%/[_0x206f31(0x1e7)](_0x46544c)?decodeURIComponent_(_0x46544c):_0x46544c;},_getQueryParam=(_0x232fb6,_0x51152,_0x308fa1)=>{const _0x10a00=a0_0x5e55;let _0xdecfb5;if(!_0x308fa1&&_0x51152&&!/[%+]/[_0x10a00(0x1e7)](_0x51152)){let _0x52618b=_0x232fb6[_0x10a00(0x214)]('?'+_0x51152,0x8);_0x52618b===-0x1&&(_0x52618b=_0x232fb6[_0x10a00(0x214)]('&'+_0x51152,0x8));while(_0x52618b!==-0x1){const _0x13697d=_0x232fb6[_0x10a00(0x2b1)](_0x52618b+_0x51152[_0x10a00(0x2d2)]+0x1);if(_0x13697d===0x3d){const _0xbb2ed4=_0x52618b+_0x51152[_0x10a00(0x2d2)]+0x2,_0x24b968=_0x232fb6[_0x10a00(0x214)]('&',_0xbb2ed4);return _decodeURI(_0x232fb6[_0x10a00(0x303)](_0xbb2ed4,_0x24b968===-0x1?void 0x0:_0x24b968));}else{if(_0x13697d==0x26||isNaN(_0x13697d))return'';}_0x52618b=_0x232fb6[_0x10a00(0x214)]('&'+_0x51152,_0x52618b+0x1);}_0xdecfb5=/[%+]/[_0x10a00(0x1e7)](_0x232fb6);if(!_0xdecfb5)return void 0x0;}const _0x295e50={};_0xdecfb5??(_0xdecfb5=/[%+]/[_0x10a00(0x1e7)](_0x232fb6));let _0x23db74=_0x232fb6[_0x10a00(0x214)]('?',0x8);while(_0x23db74!==-0x1){const _0x2d8992=_0x232fb6['indexOf']('&',_0x23db74+0x1);let _0x49a1dd=_0x232fb6['indexOf']('=',_0x23db74);_0x49a1dd>_0x2d8992&&_0x2d8992!==-0x1&&(_0x49a1dd=-0x1);let _0x15856e=_0x232fb6[_0x10a00(0x303)](_0x23db74+0x1,_0x49a1dd===-0x1?_0x2d8992===-0x1?void 0x0:_0x2d8992:_0x49a1dd);_0xdecfb5&&(_0x15856e=_decodeURI(_0x15856e));_0x23db74=_0x2d8992;if(_0x15856e==='')continue;let _0x3fc3c5;_0x49a1dd===-0x1?_0x3fc3c5='':(_0x3fc3c5=_0x232fb6[_0x10a00(0x303)](_0x49a1dd+0x1,_0x2d8992===-0x1?void 0x0:_0x2d8992),_0xdecfb5&&(_0x3fc3c5=_decodeURI(_0x3fc3c5)));if(_0x308fa1){!(_0x295e50[_0x15856e]&&Array['isArray'](_0x295e50[_0x15856e]))&&(_0x295e50[_0x15856e]=[]);;_0x295e50[_0x15856e]['push'](_0x3fc3c5);}else _0x295e50[_0x15856e]??(_0x295e50[_0x15856e]=_0x3fc3c5);}return _0x51152?_0x295e50[_0x51152]:_0x295e50;},getQueryParam=_getQueryParam,getQueryParams=(_0x268f7d,_0x4e89fb)=>{return _getQueryParam(_0x268f7d,_0x4e89fb,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x4885a4,_0x343f30)=>{const _0x691dde=a0_0x5e55,_0x1aab81=_0x4885a4['trim']()[_0x691dde(0x2ee)](';');return _0x1aab81[_0x691dde(0x1fd)]((_0x45ad4d,_0x5cb6b0)=>{const _0x6936c7=_0x691dde;_0x5cb6b0=_0x5cb6b0[_0x6936c7(0x2b5)]();const _0x248482=_0x5cb6b0[_0x6936c7(0x214)]('=');if(_0x248482===-0x1)return _0x45ad4d;const _0x177c34=_0x5cb6b0[_0x6936c7(0x232)](0x0,_0x248482)[_0x6936c7(0x2b5)]();if(_0x343f30&&_0x343f30!==_0x177c34||!validCookieNameRegEx[_0x6936c7(0x1e7)](_0x177c34))return _0x45ad4d;let _0x4be10b=_0x5cb6b0[_0x6936c7(0x232)](_0x248482+0x1)['trim']();return _0x4be10b[_0x6936c7(0x2ff)]('\x22')&&_0x4be10b[_0x6936c7(0x28a)]('\x22')&&(_0x4be10b=_0x4be10b[_0x6936c7(0x303)](0x1,-0x1)),validCookieValueRegEx[_0x6936c7(0x1e7)](_0x4be10b)&&(_0x45ad4d[_0x177c34]=decodeURIComponent_(_0x4be10b)),_0x45ad4d;},{});},_serialize=(_0x1ba6c9,_0xd280b6,_0x29ee11={})=>{const _0x395727=a0_0x5e55;let _0x4eb8ff=_0x1ba6c9+'='+_0xd280b6;return _0x29ee11&&typeof _0x29ee11[_0x395727(0x1ac)]===_0x395727(0x2bd)&&_0x29ee11[_0x395727(0x1ac)]>=0x0&&(_0x4eb8ff+=';\x20Max-Age='+Math['floor'](_0x29ee11[_0x395727(0x1ac)])),_0x29ee11['domain']&&(_0x4eb8ff+=_0x395727(0x1f4)+_0x29ee11[_0x395727(0x311)]),_0x29ee11[_0x395727(0x2d4)]&&(_0x4eb8ff+=_0x395727(0x26b)+_0x29ee11['path']),_0x29ee11[_0x395727(0x272)]&&(_0x4eb8ff+=_0x395727(0x2d6)+_0x29ee11[_0x395727(0x272)][_0x395727(0x2a4)]()),_0x29ee11['httpOnly']&&(_0x4eb8ff+=_0x395727(0x2b8)),_0x29ee11['secure']&&(_0x4eb8ff+=';\x20Secure'),_0x29ee11['sameSite']&&(_0x4eb8ff+=';\x20SameSite='+_0x29ee11[_0x395727(0x1c3)]),_0x29ee11[_0x395727(0x25c)]&&(_0x4eb8ff+=';\x20Partitioned'),_0x4eb8ff;},serialize=(_0x55aca6,_0x26459f,_0xc53dd4={})=>{return _0x26459f=encodeURIComponent(_0x26459f),_serialize(_0x55aca6,_0x26459f,_0xc53dd4);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0xb8512,_0x4dff67)=>{const _0x48d74b=a0_0x5e55,_0x4e7ef1=new String(_0xb8512);return _0x4e7ef1['isEscaped']=!![],_0x4e7ef1[_0x48d74b(0x1b0)]=_0x4dff67,_0x4e7ef1;},resolveCallback=async(_0x5c83a8,_0x42034f,_0x3ddc36,_0x363613,_0x2bb77b)=>{const _0x1d584d=a0_0x5e55,_0xb8dd3=_0x5c83a8['callbacks'];if(!_0xb8dd3?.[_0x1d584d(0x2d2)])return Promise[_0x1d584d(0x1b2)](_0x5c83a8);_0x2bb77b?_0x2bb77b[0x0]+=_0x5c83a8:_0x2bb77b=[_0x5c83a8];const _0x542914=Promise[_0x1d584d(0x2d5)](_0xb8dd3[_0x1d584d(0x24d)](_0x1b8dd0=>_0x1b8dd0({'phase':_0x42034f,'buffer':_0x2bb77b,'context':_0x363613})))[_0x1d584d(0x2bf)](_0x361bc9=>Promise[_0x1d584d(0x2d5)](_0x361bc9[_0x1d584d(0x21b)](Boolean)[_0x1d584d(0x24d)](_0x3a43bc=>resolveCallback(_0x3a43bc,_0x42034f,![],_0x363613,_0x2bb77b)))[_0x1d584d(0x2bf)](()=>_0x2bb77b[0x0]));return _0x3ddc36?raw(await _0x542914,_0xb8dd3):_0x542914;},StreamingApi=class{constructor(_0x2ae111,_0x4632cf){const _0x2d1768=a0_0x5e55;this[_0x2d1768(0x27e)]=[],this['writable']=_0x2ae111,this[_0x2d1768(0x29c)]=_0x2ae111['getWriter'](),this[_0x2d1768(0x247)]=new TextEncoder();const _0x46a473=_0x4632cf['getReader']();this['responseReadable']=new ReadableStream({async 'pull'(_0x296c70){const _0x5c223e=_0x2d1768,{done:_0x2e4e5b,value:_0x406110}=await _0x46a473[_0x5c223e(0x1e5)]();_0x2e4e5b?_0x296c70[_0x5c223e(0x241)]():_0x296c70[_0x5c223e(0x2c6)](_0x406110);},'cancel':()=>{const _0x2b0170=_0x2d1768;this[_0x2b0170(0x27e)]['forEach'](_0x4e9624=>_0x4e9624());}});}async[a0_0x571941(0x22c)](_0x4a8e96){const _0x4f588f=a0_0x571941;try{typeof _0x4a8e96==='string'&&(_0x4a8e96=this[_0x4f588f(0x247)][_0x4f588f(0x271)](_0x4a8e96)),await this[_0x4f588f(0x29c)][_0x4f588f(0x22c)](_0x4a8e96);}catch(_0x14383c){}return this;}async[a0_0x571941(0x236)](_0x584494){const _0x2b7152=a0_0x571941;return await this[_0x2b7152(0x22c)](_0x584494+'\x0a'),this;}[a0_0x571941(0x30a)](_0x1a03d1){return new Promise(_0x21b41c=>setTimeout(_0x21b41c,_0x1a03d1));}async[a0_0x571941(0x241)](){const _0x13cf8c=a0_0x571941;try{await this[_0x13cf8c(0x29c)][_0x13cf8c(0x241)]();}catch(_0x2edd54){}}async[a0_0x571941(0x280)](_0x5020f4){const _0x2f3873=a0_0x571941;this[_0x2f3873(0x29c)][_0x2f3873(0x257)](),await _0x5020f4['pipeTo'](this[_0x2f3873(0x1b1)],{'preventClose':!![]}),this[_0x2f3873(0x29c)]=this[_0x2f3873(0x1b1)][_0x2f3873(0x2a1)]();}async[a0_0x571941(0x2a3)](_0x3b9732){const _0x5575b5=a0_0x571941;this['abortSubscribers'][_0x5575b5(0x30f)](_0x3b9732);}},__accessCheck=(_0x12f261,_0x3d048e,_0x357c3a)=>{const _0x1021b4=a0_0x571941;if(!_0x3d048e[_0x1021b4(0x20f)](_0x12f261))throw TypeError(_0x1021b4(0x1ad)+_0x357c3a);},__privateGet=(_0x1d28e8,_0x853df1,_0x19a637)=>{const _0x5de527=a0_0x571941;return __accessCheck(_0x1d28e8,_0x853df1,'read\x20from\x20private\x20field'),_0x19a637?_0x19a637['call'](_0x1d28e8):_0x853df1[_0x5de527(0x2e8)](_0x1d28e8);},__privateAdd=(_0x4a5476,_0x20cb7b,_0x4a57c7)=>{const _0x1dff87=a0_0x571941;if(_0x20cb7b[_0x1dff87(0x20f)](_0x4a5476))throw TypeError(_0x1dff87(0x1fb));_0x20cb7b instanceof WeakSet?_0x20cb7b[_0x1dff87(0x27c)](_0x4a5476):_0x20cb7b[_0x1dff87(0x2bb)](_0x4a5476,_0x4a57c7);},__privateSet=(_0x3ab422,_0x5ee9c4,_0x378f17,_0x3efb3b)=>{const _0x3da74a=a0_0x571941;return __accessCheck(_0x3ab422,_0x5ee9c4,'write\x20to\x20private\x20field'),_0x3efb3b?_0x3efb3b[_0x3da74a(0x1d7)](_0x3ab422,_0x378f17):_0x5ee9c4[_0x3da74a(0x2bb)](_0x3ab422,_0x378f17),_0x378f17;},TEXT_PLAIN=a0_0x571941(0x1ae),setHeaders=(_0x44cb87,_0x7fd990={})=>{const _0x119ecc=a0_0x571941;return Object[_0x119ecc(0x28c)](_0x7fd990)[_0x119ecc(0x2f2)](([_0x425552,_0x5b0557])=>_0x44cb87[_0x119ecc(0x2bb)](_0x425552,_0x5b0557)),_0x44cb87;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x5eeffe,_0x4343dd){const _0x58838a=a0_0x571941;this[_0x58838a(0x23c)]={},this[_0x58838a(0x304)]={},this[_0x58838a(0x24c)]=![],this[_0x58838a(0x2dc)]=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this['renderer']=_0x57d4ab=>this[_0x58838a(0x284)](_0x57d4ab),this[_0x58838a(0x1dc)]=()=>new Response(),this['render']=(..._0x55371f)=>this[_0x58838a(0x1ff)](..._0x55371f),this[_0x58838a(0x221)]=_0x362701=>{this['renderer']=_0x362701;},this[_0x58838a(0x1f0)]=(_0x44f319,_0x58f83c,_0x306e9d)=>{const _0x3a6835=_0x58838a;if(_0x58f83c===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)[_0x3a6835(0x2aa)](_0x44f319);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x44f319[_0x3a6835(0x1f1)]()];this[_0x3a6835(0x24c)]&&this[_0x3a6835(0x260)]['headers'][_0x3a6835(0x2aa)](_0x44f319);return;}_0x306e9d?.['append']?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)[_0x3a6835(0x1c7)](_0x44f319,_0x58f83c)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x3a6835(0x2bb)](_0x44f319,_0x58f83c):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x44f319['toLowerCase']()]=_0x58f83c),this['finalized']&&(_0x306e9d?.['append']?this[_0x3a6835(0x260)]['headers']['append'](_0x44f319,_0x58f83c):this[_0x3a6835(0x260)]['headers'][_0x3a6835(0x2bb)](_0x44f319,_0x58f83c));},this['status']=_0x11f16a=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x11f16a);},this['set']=(_0x474db,_0x5a7f99)=>{const _0x3d8ae8=_0x58838a;this[_0x3d8ae8(0x304)]??(this['_var']={}),this[_0x3d8ae8(0x304)][_0x474db]=_0x5a7f99;},this[_0x58838a(0x2e8)]=_0x251a77=>{const _0x2202d9=_0x58838a;return this['_var']?this[_0x2202d9(0x304)][_0x251a77]:void 0x0;},this[_0x58838a(0x1bd)]=(_0x432177,_0x5c17ba,_0x24343e)=>{const _0x55ad32=_0x58838a;if(__privateGet(this,_isFresh)&&!_0x24343e&&!_0x5c17ba&&__privateGet(this,_status)===0xc8)return new Response(_0x432177,{'headers':__privateGet(this,_preparedHeaders)});if(_0x5c17ba&&typeof _0x5c17ba!=='number'){const _0x54be01=setHeaders(new Headers(_0x5c17ba[_0x55ad32(0x226)]),__privateGet(this,_preparedHeaders));return new Response(_0x432177,{'headers':_0x54be01,'status':_0x5c17ba[_0x55ad32(0x20e)]});}const _0x5c1d3c=typeof _0x5c17ba==='number'?_0x5c17ba:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)[_0x55ad32(0x226)][_0x55ad32(0x2f2)]((_0x18ae93,_0x3d096f)=>{const _0x27b0a7=_0x55ad32;__privateGet(this,_headers)?.[_0x27b0a7(0x2bb)](_0x3d096f,_0x18ae93);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x24343e??(_0x24343e={});for(const [_0x4f014f,_0x298fa0]of Object[_0x55ad32(0x28c)](_0x24343e)){if(typeof _0x298fa0==='string')__privateGet(this,_headers)['set'](_0x4f014f,_0x298fa0);else{__privateGet(this,_headers)['delete'](_0x4f014f);for(const _0x370273 of _0x298fa0){__privateGet(this,_headers)[_0x55ad32(0x1c7)](_0x4f014f,_0x370273);}}}return new Response(_0x432177,{'status':_0x5c1d3c,'headers':__privateGet(this,_headers)});},this[_0x58838a(0x267)]=(_0x419c99,_0x4a0a56,_0x56b513)=>{const _0x136b62=_0x58838a;return typeof _0x4a0a56===_0x136b62(0x2bd)?this[_0x136b62(0x1bd)](_0x419c99,_0x4a0a56,_0x56b513):this['newResponse'](_0x419c99,_0x4a0a56);},this[_0x58838a(0x2d1)]=(_0x46dfc8,_0x6cd3cb,_0xbc081c)=>{const _0x5ecf7d=_0x58838a;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0xbc081c&&!_0x6cd3cb)return new Response(_0x46dfc8);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)[_0x5ecf7d(0x1ec)]=TEXT_PLAIN,typeof _0x6cd3cb===_0x5ecf7d(0x2bd)?this[_0x5ecf7d(0x1bd)](_0x46dfc8,_0x6cd3cb,_0xbc081c):this['newResponse'](_0x46dfc8,_0x6cd3cb);},this[_0x58838a(0x2c8)]=(_0x6ed31d,_0x5e1a3b,_0x3b4086)=>{const _0x460a29=_0x58838a,_0x282906=JSON['stringify'](_0x6ed31d);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x460a29(0x1ec)]='application/json;\x20charset=UTF-8',typeof _0x5e1a3b==='number'?this['newResponse'](_0x282906,_0x5e1a3b,_0x3b4086):this[_0x460a29(0x1bd)](_0x282906,_0x5e1a3b);},this[_0x58838a(0x258)]=(_0x10f138,_0x292aa3,_0x38da2b)=>{const _0x20678b=_0x58838a;return this[_0x20678b(0x2c8)](_0x10f138,_0x292aa3,_0x38da2b);},this[_0x58838a(0x284)]=(_0x151f95,_0x52c73b,_0x1af1a2)=>{const _0x31e2e6=_0x58838a;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x31e2e6(0x1ec)]=_0x31e2e6(0x2cc);if(typeof _0x151f95===_0x31e2e6(0x2da)){!(_0x151f95 instanceof Promise)&&(_0x151f95=_0x151f95[_0x31e2e6(0x22e)]());if(_0x151f95 instanceof Promise)return _0x151f95['then'](_0x5f0126=>resolveCallback(_0x5f0126,HtmlEscapedCallbackPhase[_0x31e2e6(0x24e)],![],{}))[_0x31e2e6(0x2bf)](_0x526c70=>{const _0x1b6df5=_0x31e2e6;return typeof _0x52c73b===_0x1b6df5(0x2bd)?this['newResponse'](_0x526c70,_0x52c73b,_0x1af1a2):this['newResponse'](_0x526c70,_0x52c73b);});}return typeof _0x52c73b===_0x31e2e6(0x2bd)?this[_0x31e2e6(0x1bd)](_0x151f95,_0x52c73b,_0x1af1a2):this[_0x31e2e6(0x1bd)](_0x151f95,_0x52c73b);},this['redirect']=(_0x1965aa,_0x335930=0x12e)=>{const _0x3a7375=_0x58838a;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0x3a7375(0x2bb)](_0x3a7375(0x2a9),_0x1965aa),this['newResponse'](null,_0x335930);},this[_0x58838a(0x2dd)]=(_0x4e7dc1,_0x4c66fb,_0x4f9598)=>{const _0x273054=_0x58838a;return _0x4f9598??(_0x4f9598={}),this[_0x273054(0x1f0)](_0x273054(0x1ec),TEXT_PLAIN),this[_0x273054(0x1f0)](_0x273054(0x22b),_0x273054(0x224)),this[_0x273054(0x1f0)](_0x273054(0x305),_0x273054(0x263)),this[_0x273054(0x25d)](_0x4e7dc1,_0x4c66fb,_0x4f9598);},this['stream']=(_0x247d41,_0x54e376,_0x297780)=>{const _0xe04403=_0x58838a,{readable:_0x56db1e,writable:_0x487d5c}=new TransformStream(),_0x594cdd=new StreamingApi(_0x487d5c,_0x56db1e);return _0x247d41(_0x594cdd)['finally'](()=>_0x594cdd[_0xe04403(0x241)]()),typeof _0x54e376===_0xe04403(0x2bd)?this[_0xe04403(0x1bd)](_0x594cdd[_0xe04403(0x281)],_0x54e376,_0x297780):this['newResponse'](_0x594cdd[_0xe04403(0x281)],_0x54e376);},this['cookie']=(_0x21152c,_0x4d5d4f,_0x4ab425)=>{const _0x5567f0=_0x58838a,_0x407845=serialize(_0x21152c,_0x4d5d4f,_0x4ab425);this[_0x5567f0(0x1f0)](_0x5567f0(0x26f),_0x407845,{'append':!![]});},this[_0x58838a(0x2d0)]=()=>{const _0x1ceac3=_0x58838a;return this[_0x1ceac3(0x1dc)](this);},this[_0x58838a(0x25a)]=_0x5eeffe,_0x4343dd&&(__privateSet(this,_executionCtx,_0x4343dd['executionCtx']),this[_0x58838a(0x23c)]=_0x4343dd[_0x58838a(0x23c)],_0x4343dd[_0x58838a(0x1dc)]&&(this[_0x58838a(0x1dc)]=_0x4343dd['notFoundHandler']));}get['event'](){const _0x56062c=a0_0x571941;if(__privateGet(this,_executionCtx)&&'respondWith'in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x56062c(0x2fc));}get[a0_0x571941(0x215)](){const _0x5d4b1e=a0_0x571941;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x5d4b1e(0x262));}get[a0_0x571941(0x260)](){return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response('404\x20Not\x20Found',{'status':0x194}));}set[a0_0x571941(0x260)](_0x1f85a9){const _0x288230=a0_0x571941;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x1f85a9){__privateGet(this,_res)[_0x288230(0x226)]['delete']('content-type');for(const [_0x37a098,_0x306929]of __privateGet(this,_res)[_0x288230(0x226)][_0x288230(0x28c)]()){if(_0x37a098==='set-cookie'){const _0x375bd4=__privateGet(this,_res)[_0x288230(0x226)][_0x288230(0x1bc)]();_0x1f85a9[_0x288230(0x226)][_0x288230(0x2aa)](_0x288230(0x26f));for(const _0x5dbafd of _0x375bd4){_0x1f85a9[_0x288230(0x226)]['append'](_0x288230(0x26f),_0x5dbafd);}}else _0x1f85a9[_0x288230(0x226)][_0x288230(0x2bb)](_0x37a098,_0x306929);}}__privateSet(this,_res,_0x1f85a9),this['finalized']=!![];}get[a0_0x571941(0x20a)](){return{...this['_var']};}get['runtime'](){const _0x4b82c6=a0_0x571941,_0x29d626=globalThis;if(_0x29d626?.[_0x4b82c6(0x1c0)]!==void 0x0)return'deno';if(_0x29d626?.['Bun']!==void 0x0)return _0x4b82c6(0x2d8);if(typeof _0x29d626?.[_0x4b82c6(0x299)]===_0x4b82c6(0x22f))return _0x4b82c6(0x1d5);if(typeof _0x29d626?.['EdgeRuntime']===_0x4b82c6(0x1d4))return _0x4b82c6(0x1ee);if(_0x29d626?.['fastly']!==void 0x0)return _0x4b82c6(0x2b4);if(_0x29d626?.[_0x4b82c6(0x302)]!==void 0x0)return _0x4b82c6(0x298);if(_0x29d626?.[_0x4b82c6(0x25e)]?.[_0x4b82c6(0x1eb)]?.['name']===_0x4b82c6(0x2e5))return _0x4b82c6(0x2e5);return _0x4b82c6(0x23f);}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x50ddd8,_0x2a7948,_0x26f418)=>{return(_0x169bdd,_0x2c47bd)=>{let _0x34ce2c=-0x1;return _0x16c2b8(0x0);async function _0x16c2b8(_0x2da2bf){const _0x5eb158=a0_0x5e55;if(_0x2da2bf<=_0x34ce2c)throw new Error(_0x5eb158(0x21d));_0x34ce2c=_0x2da2bf;let _0xf2676c,_0x268db8=![],_0x530171;_0x50ddd8[_0x2da2bf]?(_0x530171=_0x50ddd8[_0x2da2bf][0x0][0x0],_0x169bdd instanceof Context&&(_0x169bdd[_0x5eb158(0x25a)][_0x5eb158(0x1e2)]=_0x2da2bf)):_0x530171=_0x2da2bf===_0x50ddd8[_0x5eb158(0x2d2)]&&_0x2c47bd||void 0x0;if(!_0x530171)_0x169bdd instanceof Context&&_0x169bdd[_0x5eb158(0x24c)]===![]&&_0x26f418&&(_0xf2676c=await _0x26f418(_0x169bdd));else try{_0xf2676c=await _0x530171(_0x169bdd,()=>{return _0x16c2b8(_0x2da2bf+0x1);});}catch(_0x3b9602){if(_0x3b9602 instanceof Error&&_0x169bdd instanceof Context&&_0x2a7948)_0x169bdd[_0x5eb158(0x2dc)]=_0x3b9602,_0xf2676c=await _0x2a7948(_0x3b9602,_0x169bdd),_0x268db8=!![];else throw _0x3b9602;}return _0xf2676c&&(_0x169bdd[_0x5eb158(0x24c)]===![]||_0x268db8)&&(_0x169bdd[_0x5eb158(0x260)]=_0xf2676c),_0x169bdd;}};},HTTPException=class extends Error{constructor(_0x5db534=0x1f4,_0x5c517b){const _0x414b59=a0_0x571941;super(_0x5c517b?.['message']),this[_0x414b59(0x260)]=_0x5c517b?.['res'],this[_0x414b59(0x20e)]=_0x5db534;}[a0_0x571941(0x1e1)](){const _0x378818=a0_0x571941;if(this[_0x378818(0x260)])return this['res'];return new Response(this['message'],{'status':this[_0x378818(0x20e)]});}},parseBody=async(_0x494570,_0x482555={'all':![]})=>{const _0x2c457e=a0_0x571941,_0x579998=_0x494570[_0x2c457e(0x226)]['get']('Content-Type');if(isFormDataContent(_0x579998))return parseFormData(_0x494570,_0x482555);return{};};function isFormDataContent(_0x4c36eb){const _0x499652=a0_0x571941;if(_0x4c36eb===null)return![];return _0x4c36eb['startsWith'](_0x499652(0x306))||_0x4c36eb[_0x499652(0x2ff)]('application/x-www-form-urlencoded');}async function parseFormData(_0xaa0ce5,_0x1a4d69){const _0x5eefd5=a0_0x571941,_0x514f92=await _0xaa0ce5[_0x5eefd5(0x2e4)]();if(_0x514f92)return convertFormDataToBodyData(_0x514f92,_0x1a4d69);return{};}function convertFormDataToBodyData(_0x4533b6,_0xa971d0){const _0x46c455=a0_0x571941,_0x386e48={};return _0x4533b6[_0x46c455(0x2f2)]((_0x107e3c,_0x37c277)=>{const _0x46cab5=_0x46c455,_0x2b4fbb=_0xa971d0['all']||_0x37c277[_0x46cab5(0x28a)]('[]');!_0x2b4fbb?_0x386e48[_0x37c277]=_0x107e3c:handleParsingAllValues(_0x386e48,_0x37c277,_0x107e3c);}),_0x386e48;}var handleParsingAllValues=(_0x1918a3,_0x22a424,_0x33bec5)=>{if(_0x1918a3[_0x22a424]&&isArrayField(_0x1918a3[_0x22a424]))appendToExistingArray(_0x1918a3[_0x22a424],_0x33bec5);else _0x1918a3[_0x22a424]?convertToNewArray(_0x1918a3,_0x22a424,_0x33bec5):_0x1918a3[_0x22a424]=_0x33bec5;};function isArrayField(_0xb5c49){const _0xad4678=a0_0x571941;return Array[_0xad4678(0x2b9)](_0xb5c49);}var appendToExistingArray=(_0x1eb34c,_0x129b27)=>{const _0x1b0b2e=a0_0x571941;_0x1eb34c[_0x1b0b2e(0x30f)](_0x129b27);},convertToNewArray=(_0x1567e4,_0x196b23,_0x2c0076)=>{_0x1567e4[_0x196b23]=[_0x1567e4[_0x196b23],_0x2c0076];},__accessCheck2=(_0x23c100,_0x421066,_0x3e6dfd)=>{const _0x4eb651=a0_0x571941;if(!_0x421066[_0x4eb651(0x20f)](_0x23c100))throw TypeError(_0x4eb651(0x1ad)+_0x3e6dfd);},__privateGet2=(_0x2daa4a,_0x1a35cb,_0x35c975)=>{const _0x24d093=a0_0x571941;return __accessCheck2(_0x2daa4a,_0x1a35cb,_0x24d093(0x252)),_0x35c975?_0x35c975[_0x24d093(0x1d7)](_0x2daa4a):_0x1a35cb[_0x24d093(0x2e8)](_0x2daa4a);},__privateAdd2=(_0x4f6434,_0x294cf4,_0x43b962)=>{const _0x4ea73b=a0_0x571941;if(_0x294cf4[_0x4ea73b(0x20f)](_0x4f6434))throw TypeError(_0x4ea73b(0x1fb));_0x294cf4 instanceof WeakSet?_0x294cf4[_0x4ea73b(0x27c)](_0x4f6434):_0x294cf4[_0x4ea73b(0x2bb)](_0x4f6434,_0x43b962);},__privateSet2=(_0x19a9df,_0x168fdb,_0x5b70cf,_0x31d4f9)=>{const _0x531bde=a0_0x571941;return __accessCheck2(_0x19a9df,_0x168fdb,_0x531bde(0x23e)),_0x31d4f9?_0x31d4f9[_0x531bde(0x1d7)](_0x19a9df,_0x5b70cf):_0x168fdb[_0x531bde(0x2bb)](_0x19a9df,_0x5b70cf),_0x5b70cf;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x53b9e1,_0x4f3e05='/',_0x18c465=[[]]){const _0x2b5572=a0_0x571941;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this[_0x2b5572(0x1e2)]=0x0,this[_0x2b5572(0x300)]={},this[_0x2b5572(0x1f7)]=_0x2eda11=>{const {bodyCache:_0x2cac15,raw:_0x51d0ee}=this,_0x53e3a6=_0x2cac15[_0x2eda11];if(_0x53e3a6)return _0x53e3a6;if(_0x2cac15['arrayBuffer'])return((async()=>{const _0x3bed57=a0_0x5e55;return await new Response(_0x2cac15[_0x3bed57(0x2c9)])[_0x2eda11]();})());return _0x2cac15[_0x2eda11]=_0x51d0ee[_0x2eda11]();},this['raw']=_0x53b9e1,this[_0x2b5572(0x2d4)]=_0x4f3e05,__privateSet2(this,_matchResult,_0x18c465),__privateSet2(this,_validatedData,{});}[a0_0x571941(0x1e6)](_0x90f698){const _0x52443b=a0_0x571941;return _0x90f698?this['getDecodedParam'](_0x90f698):this[_0x52443b(0x2c0)]();}[a0_0x571941(0x2ed)](_0x1f137c){const _0x585a62=a0_0x571941,_0x232862=__privateGet2(this,_matchResult)[0x0][this[_0x585a62(0x1e2)]][0x1][_0x1f137c],_0x564bb2=this['getParamValue'](_0x232862);return _0x564bb2?/\%/[_0x585a62(0x1e7)](_0x564bb2)?decodeURIComponent_(_0x564bb2):_0x564bb2:void 0x0;}[a0_0x571941(0x2c0)](){const _0x320fe3=a0_0x571941,_0x58b9d9={},_0xf528b4=Object[_0x320fe3(0x28f)](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1]);for(const _0x51047e of _0xf528b4){const _0x5ebd3a=this[_0x320fe3(0x1cb)](__privateGet2(this,_matchResult)[0x0][this[_0x320fe3(0x1e2)]][0x1][_0x51047e]);_0x5ebd3a&&typeof _0x5ebd3a===_0x320fe3(0x1d4)&&(_0x58b9d9[_0x51047e]=/\%/[_0x320fe3(0x1e7)](_0x5ebd3a)?decodeURIComponent_(_0x5ebd3a):_0x5ebd3a);}return _0x58b9d9;}[a0_0x571941(0x1cb)](_0x16dad5){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x16dad5]:_0x16dad5;}['query'](_0x55d034){const _0x8c3f74=a0_0x571941;return getQueryParam(this[_0x8c3f74(0x2cb)],_0x55d034);}['queries'](_0x4d2a68){const _0x103921=a0_0x571941;return getQueryParams(this[_0x103921(0x2cb)],_0x4d2a68);}['header'](_0xafa123){const _0x5b7afa=a0_0x571941;if(_0xafa123)return this['raw'][_0x5b7afa(0x226)][_0x5b7afa(0x2e8)](_0xafa123['toLowerCase']())??void 0x0;const _0x672d2d={};return this[_0x5b7afa(0x261)][_0x5b7afa(0x226)][_0x5b7afa(0x2f2)]((_0x487686,_0x132cd4)=>{_0x672d2d[_0x132cd4]=_0x487686;}),_0x672d2d;}[a0_0x571941(0x218)](_0x11f69f){const _0x29316c=a0_0x571941,_0x3edcb0=this[_0x29316c(0x261)][_0x29316c(0x226)][_0x29316c(0x2e8)](_0x29316c(0x1d6));if(!_0x3edcb0)return;const _0x1157bc=parse(_0x3edcb0);if(_0x11f69f){const _0x25f2a6=_0x1157bc[_0x11f69f];return _0x25f2a6;}else return _0x1157bc;}async['parseBody'](_0x2a4272){const _0x31d6fa=a0_0x571941;if(this[_0x31d6fa(0x300)]['parsedBody'])return this[_0x31d6fa(0x300)][_0x31d6fa(0x1d0)];const _0x5342a3=await parseBody(this,_0x2a4272);return this[_0x31d6fa(0x300)][_0x31d6fa(0x1d0)]=_0x5342a3,_0x5342a3;}[a0_0x571941(0x2c8)](){const _0x4b670c=a0_0x571941;return this[_0x4b670c(0x1f7)]('json');}[a0_0x571941(0x2d1)](){const _0x383a7e=a0_0x571941;return this[_0x383a7e(0x1f7)](_0x383a7e(0x2d1));}[a0_0x571941(0x2c9)](){const _0x4b480b=a0_0x571941;return this[_0x4b480b(0x1f7)](_0x4b480b(0x2c9));}['blob'](){const _0x40e2f8=a0_0x571941;return this[_0x40e2f8(0x1f7)]('blob');}['formData'](){const _0x1cc974=a0_0x571941;return this[_0x1cc974(0x1f7)](_0x1cc974(0x2e4));}[a0_0x571941(0x201)](_0x14fd7d,_0x2af451){__privateGet2(this,_validatedData)[_0x14fd7d]=_0x2af451;}['valid'](_0x7bbe90){return __privateGet2(this,_validatedData)[_0x7bbe90];}get['url'](){const _0x38b13e=a0_0x571941;return this[_0x38b13e(0x261)][_0x38b13e(0x2cb)];}get[a0_0x571941(0x1c5)](){const _0x33b650=a0_0x571941;return this[_0x33b650(0x261)]['method'];}get[a0_0x571941(0x2ac)](){const _0x1bdf14=a0_0x571941;return __privateGet2(this,_matchResult)[0x0][_0x1bdf14(0x24d)](([[,_0x25ed4e]])=>_0x25ed4e);}get[a0_0x571941(0x24b)](){const _0x123e4c=a0_0x571941;return __privateGet2(this,_matchResult)[0x0][_0x123e4c(0x24d)](([[,_0xf6b4b7]])=>_0xf6b4b7)[this[_0x123e4c(0x1e2)]][_0x123e4c(0x2d4)];}get[a0_0x571941(0x226)](){return this['raw']['headers'];}get[a0_0x571941(0x267)](){const _0x963ce4=a0_0x571941;return this[_0x963ce4(0x261)]['body'];}get[a0_0x571941(0x1b4)](){const _0xe3b730=a0_0x571941;return this[_0xe3b730(0x261)]['bodyUsed'];}get[a0_0x571941(0x265)](){const _0x1fa8ee=a0_0x571941;return this['raw'][_0x1fa8ee(0x265)];}get['keepalive'](){const _0x590690=a0_0x571941;return this[_0x590690(0x261)]['keepalive'];}get['referrer'](){const _0x78cf40=a0_0x571941;return this['raw'][_0x78cf40(0x1c1)];}get[a0_0x571941(0x283)](){const _0x1a6889=a0_0x571941;return this[_0x1a6889(0x261)][_0x1a6889(0x283)];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL='ALL',METHOD_NAME_ALL_LOWERCASE=a0_0x571941(0x2d5),METHODS=[a0_0x571941(0x2e8),a0_0x571941(0x25f),'put',a0_0x571941(0x2aa),a0_0x571941(0x315),a0_0x571941(0x2fe)],MESSAGE_MATCHER_IS_ALREADY_BUILT='Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.',UnsupportedPathError=class extends Error{},__accessCheck3=(_0x5b5694,_0x22864f,_0x182233)=>{const _0x236a04=a0_0x571941;if(!_0x22864f[_0x236a04(0x20f)](_0x5b5694))throw TypeError(_0x236a04(0x1ad)+_0x182233);},__privateGet3=(_0x45c42f,_0x756395,_0x2ba671)=>{const _0x3a3ab3=a0_0x571941;return __accessCheck3(_0x45c42f,_0x756395,'read\x20from\x20private\x20field'),_0x2ba671?_0x2ba671[_0x3a3ab3(0x1d7)](_0x45c42f):_0x756395['get'](_0x45c42f);},__privateAdd3=(_0xc4c75a,_0x24b6d1,_0x1e9b70)=>{const _0x464320=a0_0x571941;if(_0x24b6d1['has'](_0xc4c75a))throw TypeError(_0x464320(0x1fb));_0x24b6d1 instanceof WeakSet?_0x24b6d1[_0x464320(0x27c)](_0xc4c75a):_0x24b6d1[_0x464320(0x2bb)](_0xc4c75a,_0x1e9b70);},__privateSet3=(_0x2c9fa0,_0x3fc656,_0x240cf8,_0x36dcc9)=>{const _0x4e413f=a0_0x571941;return __accessCheck3(_0x2c9fa0,_0x3fc656,_0x4e413f(0x23e)),_0x36dcc9?_0x36dcc9[_0x4e413f(0x1d7)](_0x2c9fa0,_0x240cf8):_0x3fc656[_0x4e413f(0x2bb)](_0x2c9fa0,_0x240cf8),_0x240cf8;},COMPOSED_HANDLER=Symbol(a0_0x571941(0x243));function defineDynamicClass(){return class{};}var notFoundHandler=_0x1a8dde=>{const _0x579c4f=a0_0x571941;return _0x1a8dde[_0x579c4f(0x2d1)](_0x579c4f(0x228),0x194);},errorHandler=(_0x568fa2,_0x7a1f2f)=>{const _0xb95c15=a0_0x571941;if(_0x568fa2 instanceof HTTPException)return _0x568fa2[_0xb95c15(0x1e1)]();console[_0xb95c15(0x2dc)](_0x568fa2);const _0x1cc5b1='Internal\x20Server\x20Error';return _0x7a1f2f[_0xb95c15(0x2d1)](_0x1cc5b1,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x1c15f8={}){const _0x3e8fb6=a0_0x571941;super(),this[_0x3e8fb6(0x245)]='/',__privateAdd3(this,_path,'/'),this[_0x3e8fb6(0x2ca)]=[],this['notFoundHandler']=notFoundHandler,this[_0x3e8fb6(0x291)]=errorHandler,this[_0x3e8fb6(0x1e0)]=_0x2b53c1=>{const _0x3dab3c=_0x3e8fb6;return this[_0x3dab3c(0x291)]=_0x2b53c1,this;},this[_0x3e8fb6(0x2d0)]=_0x154e00=>{const _0x162a08=_0x3e8fb6;return this[_0x162a08(0x1dc)]=_0x154e00,this;},this[_0x3e8fb6(0x275)]=()=>{const _0x41a19c=_0x3e8fb6;return console[_0x41a19c(0x313)](_0x41a19c(0x25b)),this;},this['handleEvent']=_0x2becfb=>{const _0x297797=_0x3e8fb6;return this[_0x297797(0x1ef)](_0x2becfb[_0x297797(0x2eb)],_0x2becfb,void 0x0,_0x2becfb['request']['method']);},this[_0x3e8fb6(0x24f)]=(_0x2ee2ac,_0x509f2b,_0x556aad)=>{const _0x3d151d=_0x3e8fb6;return this[_0x3d151d(0x1ef)](_0x2ee2ac,_0x556aad,_0x509f2b,_0x2ee2ac[_0x3d151d(0x1c5)]);},this['request']=(_0xa67703,_0x45f2fd,_0x1e933b,_0x3fb68d)=>{const _0x917e5e=_0x3e8fb6;if(_0xa67703 instanceof Request)return _0x45f2fd!==void 0x0&&(_0xa67703=new Request(_0xa67703,_0x45f2fd)),this[_0x917e5e(0x24f)](_0xa67703,_0x1e933b,_0x3fb68d);_0xa67703=_0xa67703[_0x917e5e(0x22e)]();const _0x36bdfe=/^https?:\/\//[_0x917e5e(0x1e7)](_0xa67703)?_0xa67703:_0x917e5e(0x1b6)+mergePath('/',_0xa67703),_0x59b5c1=new Request(_0x36bdfe,_0x45f2fd);return this['fetch'](_0x59b5c1,_0x1e933b,_0x3fb68d);},this[_0x3e8fb6(0x1db)]=()=>{const _0x3bf7eb=_0x3e8fb6;addEventListener(_0x3bf7eb(0x24f),_0x5b2144=>{const _0x55d30d=_0x3bf7eb;_0x5b2144[_0x55d30d(0x229)](this[_0x55d30d(0x1ef)](_0x5b2144['request'],_0x5b2144,void 0x0,_0x5b2144['request'][_0x55d30d(0x1c5)]));});};const _0x277b9b=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x277b9b['map'](_0x2db0fa=>{this[_0x2db0fa]=(_0x4655e2,..._0x58fad7)=>{const _0x85f4f9=a0_0x5e55;return typeof _0x4655e2===_0x85f4f9(0x1d4)?__privateSet3(this,_path,_0x4655e2):this[_0x85f4f9(0x2cf)](_0x2db0fa,__privateGet3(this,_path),_0x4655e2),_0x58fad7[_0x85f4f9(0x24d)](_0x595c5a=>{const _0x145f3a=_0x85f4f9;typeof _0x595c5a!==_0x145f3a(0x1d4)&&this[_0x145f3a(0x2cf)](_0x2db0fa,__privateGet3(this,_path),_0x595c5a);}),this;};}),this['on']=(_0x26ba5b,_0x1249f4,..._0x23c6b8)=>{const _0x5905dc=_0x3e8fb6;if(!_0x26ba5b)return this;__privateSet3(this,_path,_0x1249f4);for(const _0x89d664 of[_0x26ba5b][_0x5905dc(0x2db)]()){_0x23c6b8[_0x5905dc(0x24d)](_0x294df9=>{const _0x438db8=_0x5905dc;this[_0x438db8(0x2cf)](_0x89d664['toUpperCase'](),__privateGet3(this,_path),_0x294df9);});}return this;},this[_0x3e8fb6(0x310)]=(_0x1336d9,..._0x2d9c76)=>{const _0x32fedc=_0x3e8fb6;return typeof _0x1336d9===_0x32fedc(0x1d4)?__privateSet3(this,_path,_0x1336d9):_0x2d9c76[_0x32fedc(0x276)](_0x1336d9),_0x2d9c76[_0x32fedc(0x24d)](_0x131990=>{const _0xe4c62f=_0x32fedc;this[_0xe4c62f(0x2cf)](METHOD_NAME_ALL,__privateGet3(this,_path),_0x131990);}),this;};const _0x5cee06=_0x1c15f8[_0x3e8fb6(0x1b9)]??!![];delete _0x1c15f8['strict'],Object['assign'](this,_0x1c15f8),this[_0x3e8fb6(0x20b)]=_0x5cee06?_0x1c15f8['getPath']??getPath:getPathNoStrict;}['clone'](){const _0x7b696c=a0_0x571941,_0x4ceb31=new _Hono({'router':this[_0x7b696c(0x2a7)],'getPath':this[_0x7b696c(0x20b)]});return _0x4ceb31['routes']=this[_0x7b696c(0x2ca)],_0x4ceb31;}[a0_0x571941(0x2b6)](_0x108fb5,_0x3277a4){const _0x3e76cf=a0_0x571941,_0x2ac719=this['basePath'](_0x108fb5);if(!_0x3277a4)return _0x2ac719;return _0x3277a4[_0x3e76cf(0x2ca)][_0x3e76cf(0x24d)](_0x3ca50b=>{const _0x43f1dd=_0x3e76cf;let _0x1eca3e;_0x3277a4[_0x43f1dd(0x291)]===errorHandler?_0x1eca3e=_0x3ca50b[_0x43f1dd(0x233)]:(_0x1eca3e=async(_0x11b946,_0x3b97ef)=>(await compose([],_0x3277a4[_0x43f1dd(0x291)])(_0x11b946,()=>_0x3ca50b[_0x43f1dd(0x233)](_0x11b946,_0x3b97ef)))[_0x43f1dd(0x260)],_0x1eca3e[COMPOSED_HANDLER]=_0x3ca50b['handler']),_0x2ac719[_0x43f1dd(0x2cf)](_0x3ca50b[_0x43f1dd(0x1c5)],_0x3ca50b[_0x43f1dd(0x2d4)],_0x1eca3e);}),this;}['basePath'](_0x3e1501){const _0x5107cc=a0_0x571941,_0x11d729=this[_0x5107cc(0x1d9)]();return _0x11d729[_0x5107cc(0x245)]=mergePath(this['_basePath'],_0x3e1501),_0x11d729;}[a0_0x571941(0x212)](){const _0x339a5f=a0_0x571941,_0x45bf10=0x8;this['routes'][_0x339a5f(0x24d)](_0x5961d5=>{const _0x6c741c=_0x339a5f;console[_0x6c741c(0x222)](_0x6c741c(0x2f1)+_0x5961d5['method']+_0x6c741c(0x21e)+'\x20'[_0x6c741c(0x227)](_0x45bf10-_0x5961d5[_0x6c741c(0x1c5)]['length'])+'\x20'+_0x5961d5[_0x6c741c(0x2d4)]);});}['mount'](_0x5f0ec0,_0x5e65cb,_0x5f0a2e){const _0x15ecd5=a0_0x571941,_0x26f347=mergePath(this[_0x15ecd5(0x245)],_0x5f0ec0),_0x5ebadd=_0x26f347==='/'?0x0:_0x26f347['length'],_0x27da6f=async(_0x1a1862,_0x1ca853)=>{const _0x2cb8ce=_0x15ecd5;let _0x162659=void 0x0;try{_0x162659=_0x1a1862[_0x2cb8ce(0x215)];}catch{}const _0x283670=_0x5f0a2e?_0x5f0a2e(_0x1a1862):[_0x1a1862[_0x2cb8ce(0x23c)],_0x162659],_0x4d48c1=Array[_0x2cb8ce(0x2b9)](_0x283670)?_0x283670:[_0x283670],_0x492f90=getQueryStrings(_0x1a1862[_0x2cb8ce(0x25a)][_0x2cb8ce(0x2cb)]),_0x386c09=await _0x5e65cb(new Request(new URL((_0x1a1862[_0x2cb8ce(0x25a)]['path'][_0x2cb8ce(0x303)](_0x5ebadd)||'/')+_0x492f90,_0x1a1862[_0x2cb8ce(0x25a)][_0x2cb8ce(0x2cb)]),_0x1a1862[_0x2cb8ce(0x25a)][_0x2cb8ce(0x261)]),..._0x4d48c1);if(_0x386c09)return _0x386c09;await _0x1ca853();};return this[_0x15ecd5(0x2cf)](METHOD_NAME_ALL,mergePath(_0x5f0ec0,'*'),_0x27da6f),this;}get[a0_0x571941(0x2ea)](){const _0x266900=a0_0x571941;return this[_0x266900(0x317)]('GET','/'),this[_0x266900(0x2a7)][_0x266900(0x207)];}[a0_0x571941(0x2cf)](_0x2d466c,_0x182b89,_0x20b776){const _0x3308a4=a0_0x571941;_0x2d466c=_0x2d466c[_0x3308a4(0x26a)](),_0x182b89=mergePath(this['_basePath'],_0x182b89);const _0x202451={'path':_0x182b89,'method':_0x2d466c,'handler':_0x20b776};this[_0x3308a4(0x2a7)][_0x3308a4(0x27c)](_0x2d466c,_0x182b89,[_0x20b776,_0x202451]),this[_0x3308a4(0x2ca)][_0x3308a4(0x30f)](_0x202451);}[a0_0x571941(0x317)](_0x2a9bbd,_0x54930e){const _0x67d4f3=a0_0x571941;return this[_0x67d4f3(0x2a7)]['match'](_0x2a9bbd,_0x54930e);}[a0_0x571941(0x2ba)](_0x2bf64d,_0x1cbb24){const _0x2fdee2=a0_0x571941;if(_0x2bf64d instanceof Error)return this[_0x2fdee2(0x291)](_0x2bf64d,_0x1cbb24);throw _0x2bf64d;}[a0_0x571941(0x1ef)](_0x1bffa6,_0x2e629d,_0x574993,_0x2c9772){const _0x2ffbe6=a0_0x571941;if(_0x2c9772===_0x2ffbe6(0x1d1))return((async()=>new Response(null,await this['dispatch'](_0x1bffa6,_0x2e629d,_0x574993,_0x2ffbe6(0x2d3))))());const _0x355746=this[_0x2ffbe6(0x20b)](_0x1bffa6,{'env':_0x574993}),_0x1e7d2b=this[_0x2ffbe6(0x317)](_0x2c9772,_0x355746),_0x47ba14=new Context(new HonoRequest(_0x1bffa6,_0x355746,_0x1e7d2b),{'env':_0x574993,'executionCtx':_0x2e629d,'notFoundHandler':this[_0x2ffbe6(0x1dc)]});if(_0x1e7d2b[0x0]['length']===0x1){let _0x565b6e;try{_0x565b6e=_0x1e7d2b[0x0][0x0][0x0][0x0](_0x47ba14,async()=>{const _0x18abae=_0x2ffbe6;_0x47ba14[_0x18abae(0x260)]=await this[_0x18abae(0x1dc)](_0x47ba14);});}catch(_0x3fc19a){return this[_0x2ffbe6(0x2ba)](_0x3fc19a,_0x47ba14);}return _0x565b6e instanceof Promise?_0x565b6e['then'](_0x360980=>_0x360980||(_0x47ba14[_0x2ffbe6(0x24c)]?_0x47ba14[_0x2ffbe6(0x260)]:this[_0x2ffbe6(0x1dc)](_0x47ba14)))[_0x2ffbe6(0x213)](_0x5e0fdc=>this['handleError'](_0x5e0fdc,_0x47ba14)):_0x565b6e;}const _0x58d72e=compose(_0x1e7d2b[0x0],this[_0x2ffbe6(0x291)],this[_0x2ffbe6(0x1dc)]);return((async()=>{const _0x4fdb35=_0x2ffbe6;try{const _0x1c1e06=await _0x58d72e(_0x47ba14);if(!_0x1c1e06[_0x4fdb35(0x24c)])throw new Error(_0x4fdb35(0x204));return _0x1c1e06[_0x4fdb35(0x260)];}catch(_0x57a264){return this[_0x4fdb35(0x2ba)](_0x57a264,_0x47ba14);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR=a0_0x571941(0x274),ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR=a0_0x571941(0x30e),PATH_ERROR=Symbol();function compareKey(_0x1c438b,_0x594195){const _0x3544c3=a0_0x571941;if(_0x1c438b[_0x3544c3(0x2d2)]===0x1)return _0x594195['length']===0x1?_0x1c438b<_0x594195?-0x1:0x1:-0x1;if(_0x594195['length']===0x1)return 0x1;if(_0x1c438b===ONLY_WILDCARD_REG_EXP_STR||_0x1c438b===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x594195===ONLY_WILDCARD_REG_EXP_STR||_0x594195===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x1c438b===LABEL_REG_EXP_STR)return 0x1;else{if(_0x594195===LABEL_REG_EXP_STR)return-0x1;}return _0x1c438b['length']===_0x594195[_0x3544c3(0x2d2)]?_0x1c438b<_0x594195?-0x1:0x1:_0x594195[_0x3544c3(0x2d2)]-_0x1c438b[_0x3544c3(0x2d2)];}var Node=class{constructor(){const _0x5427b7=a0_0x571941;this[_0x5427b7(0x216)]={};}[a0_0x571941(0x1e3)](_0x38d4ed,_0x47ab2a,_0xf17593,_0x2e5a19,_0x44751a){const _0x40b1cd=a0_0x571941;if(_0x38d4ed[_0x40b1cd(0x2d2)]===0x0){if(this[_0x40b1cd(0x2ab)]!==void 0x0)throw PATH_ERROR;if(_0x44751a)return;this['index']=_0x47ab2a;return;}const [_0x143696,..._0x2941e8]=_0x38d4ed,_0x47f277=_0x143696==='*'?_0x2941e8[_0x40b1cd(0x2d2)]===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x143696==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x143696['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x4e2be5;if(_0x47f277){const _0x2e2d33=_0x47f277[0x1];let _0x850317=_0x47f277[0x2]||LABEL_REG_EXP_STR;if(_0x2e2d33&&_0x47f277[0x2]){_0x850317=_0x850317[_0x40b1cd(0x1bb)](/^\((?!\?:)(?=[^)]+\)$)/,_0x40b1cd(0x2f0));if(/\((?!\?:)/['test'](_0x850317))throw PATH_ERROR;}_0x4e2be5=this[_0x40b1cd(0x216)][_0x850317];if(!_0x4e2be5){if(Object['keys'](this[_0x40b1cd(0x216)])[_0x40b1cd(0x2ae)](_0x516fc5=>_0x516fc5!==ONLY_WILDCARD_REG_EXP_STR&&_0x516fc5!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x44751a)return;_0x4e2be5=this['children'][_0x850317]=new Node(),_0x2e2d33!==''&&(_0x4e2be5[_0x40b1cd(0x1cf)]=_0x2e5a19[_0x40b1cd(0x1cf)]++);}!_0x44751a&&_0x2e2d33!==''&&_0xf17593['push']([_0x2e2d33,_0x4e2be5['varIndex']]);}else{_0x4e2be5=this[_0x40b1cd(0x216)][_0x143696];if(!_0x4e2be5){if(Object['keys'](this[_0x40b1cd(0x216)])[_0x40b1cd(0x2ae)](_0x4ce9b0=>_0x4ce9b0[_0x40b1cd(0x2d2)]>0x1&&_0x4ce9b0!==ONLY_WILDCARD_REG_EXP_STR&&_0x4ce9b0!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x44751a)return;_0x4e2be5=this[_0x40b1cd(0x216)][_0x143696]=new Node();}}_0x4e2be5['insert'](_0x2941e8,_0x47ab2a,_0xf17593,_0x2e5a19,_0x44751a);}[a0_0x571941(0x2e9)](){const _0x3f9e78=a0_0x571941,_0x389e4c=Object[_0x3f9e78(0x28f)](this[_0x3f9e78(0x216)])[_0x3f9e78(0x2fa)](compareKey),_0x22e51f=_0x389e4c['map'](_0x2b44b9=>{const _0x541857=_0x3f9e78,_0x24cf43=this[_0x541857(0x216)][_0x2b44b9];return(typeof _0x24cf43['varIndex']===_0x541857(0x2bd)?'('+_0x2b44b9+')@'+_0x24cf43[_0x541857(0x1cf)]:_0x2b44b9)+_0x24cf43[_0x541857(0x2e9)]();});typeof this[_0x3f9e78(0x2ab)]===_0x3f9e78(0x2bd)&&_0x22e51f[_0x3f9e78(0x276)]('#'+this['index']);if(_0x22e51f[_0x3f9e78(0x2d2)]===0x0)return'';if(_0x22e51f[_0x3f9e78(0x2d2)]===0x1)return _0x22e51f[0x0];return _0x3f9e78(0x2f0)+_0x22e51f[_0x3f9e78(0x2f6)]('|')+')';}},Trie=class{constructor(){const _0xe828d4=a0_0x571941;this[_0xe828d4(0x240)]={'varIndex':0x0},this[_0xe828d4(0x2af)]=new Node();}['insert'](_0x4e40a8,_0x7e7da6,_0x1628aa){const _0x1f0c43=a0_0x571941,_0x576444=[],_0x5dce2b=[];for(let _0x2005e3=0x0;;){let _0x4b4440=![];_0x4e40a8=_0x4e40a8[_0x1f0c43(0x1bb)](/\{[^}]+\}/g,_0x1a9ab1=>{const _0x9fac3f='@\x5c'+_0x2005e3;return _0x5dce2b[_0x2005e3]=[_0x9fac3f,_0x1a9ab1],_0x2005e3++,_0x4b4440=!![],_0x9fac3f;});if(!_0x4b4440)break;}const _0x8d1732=_0x4e40a8[_0x1f0c43(0x2a8)](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x5bb1e8=_0x5dce2b['length']-0x1;_0x5bb1e8>=0x0;_0x5bb1e8--){const [_0x14ba06]=_0x5dce2b[_0x5bb1e8];for(let _0x18ffa5=_0x8d1732[_0x1f0c43(0x2d2)]-0x1;_0x18ffa5>=0x0;_0x18ffa5--){if(_0x8d1732[_0x18ffa5][_0x1f0c43(0x214)](_0x14ba06)!==-0x1){_0x8d1732[_0x18ffa5]=_0x8d1732[_0x18ffa5]['replace'](_0x14ba06,_0x5dce2b[_0x5bb1e8][0x1]);break;}}}return this[_0x1f0c43(0x2af)]['insert'](_0x8d1732,_0x7e7da6,_0x576444,this[_0x1f0c43(0x240)],_0x1628aa),_0x576444;}[a0_0x571941(0x1c2)](){const _0x7f8e8c=a0_0x571941;let _0x210926=this[_0x7f8e8c(0x2af)][_0x7f8e8c(0x2e9)]();if(_0x210926==='')return[/^$/,[],[]];let _0x59339f=0x0;const _0x52549e=[],_0x540446=[];return _0x210926=_0x210926[_0x7f8e8c(0x1bb)](/#(\d+)|@(\d+)|\.\*\$/g,(_0x24cc7f,_0x2ee156,_0x4c4c7c)=>{const _0x357f9e=_0x7f8e8c;if(typeof _0x2ee156!==_0x357f9e(0x2f5))return _0x52549e[++_0x59339f]=Number(_0x2ee156),_0x357f9e(0x2ce);if(typeof _0x4c4c7c!==_0x357f9e(0x2f5))return _0x540446[Number(_0x4c4c7c)]=++_0x59339f,'';return'';}),[new RegExp('^'+_0x210926),_0x52549e,_0x540446];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x571941(0x24d)](_0x5dcd65=>_0x5dcd65['toUpperCase']()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function a0_0x5e55(_0x32cd81,_0x10fe5e){const _0x54f38a=a0_0x430b();return a0_0x5e55=function(_0x12c49a,_0x3ce3fd){_0x12c49a=_0x12c49a-0x1ac;let _0x430b01=_0x54f38a[_0x12c49a];return _0x430b01;},a0_0x5e55(_0x32cd81,_0x10fe5e);}function buildWildcardRegExp(_0x51e778){const _0x3e417a=a0_0x571941;return wildcardRegExpCache[_0x51e778]??(wildcardRegExpCache[_0x51e778]=new RegExp(_0x51e778==='*'?'':'^'+_0x51e778[_0x3e417a(0x1bb)](/\/\*/,_0x3e417a(0x30e))+'$'));}function a0_0x430b(){const _0xd6970b=['HEAD','count','abort','string','workerd','Cookie','call','443','clone','includes','fire','notFoundHandler','Set-Cookie','/admin/api/health-check','prepare','onError','getResponse','routeIndex','insert','SHA-256','read','param','test',':443?type=ws&host=','Expired','PROXYIPS','release','content-type','ADMIN_KEY','edge-light','dispatch','header','toLocaleLowerCase','\x20WHERE\x20uuid\x20=\x20?','SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201',';\x20Domain=','buildAllMatchers','stringify','cachedBody','SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','x-forwarded-for','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','possibleKeys','reduce','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22','renderer','activeRouter','addValidatedData','methods','results','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','bind','Fatal\x20error','name','expiration_date','RegExpRouter','var','getPath','traffic_limit','/xray/','status','has','message\x20handler\x20error','Missing\x20fields','showRoutes','catch','indexOf','executionCtx','children','upgrade','cookie','5PlILXe','&lt;','filter','initial\x20header\x20parse\x20error','next()\x20called\x20multiple\x20times','\x1b[0m\x20','addEventListener','ip_limit','setRenderer','log','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','nosniff','SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','headers','repeat','404\x20Not\x20Found','respondWith','batch','x-content-type-options','write','/admin','toString','function','Referrer-Policy','1180086wczfTq','substring','handler','7geNiKy','getUint8','writeln','Internal\x20error','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','parse_vless_header','auth_token=','ip_limit\x20check\x20err','env','assign','write\x20to\x20private\x20field','other','context','close','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','composedHandler','speed.cloudflare.com:443','_basePath','user_ip\x20upsert\x20failed','encoder','flush\x20on\x20close\x20failed','Authentication\x20failed','Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.','routePath','finalized','map','Stringify','fetch','X-Content-Type-Options','/static/*','read\x20from\x20private\x20field','digest','&gt;','expiration_time','/sb/','releaseLock','jsonT','2755478Zamvpj','req','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','partitioned','stream','process','post','res','raw','This\x20context\x20has\x20no\x20ExecutionContext','chunked','/:uuid','integrity','\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20','body','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22','ensureTablesExist\x20failed','toUpperCase',';\x20Path=','strict-origin-when-cross-origin','shift','admin\x20session\x20store\x20failed','set-cookie','order','encode','expires','routers','[^/]+','head','unshift','Host','constructor','apply','SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','12NreaMT','add','907424iGAEXJ','abortSubscribers','1541529NbgdQF','pipe','responseReadable','298806xFtGmh','signal','html','Forbidden','Admin\x20not\x20configured','floor','password','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)','endsWith','/admin/api/users','entries','VLESS_WASM','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','keys','\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20','errorHandler','<p\x20style=\x22color:red\x22>','invalid','middleware','\x0a</body></html>','patterns','/ws','lagon','WebSocketPair','buildMatcher','ip_port','writer','/admin/api/users/:uuid','subtle','buffer','/api/user/:uuid/stats','getWriter','(((.+)+)+)+$','onAbort','toUTCString','run','accept','router','match','Location','delete','index','matchedRoutes','search','some','root','2YCnKwe','charCodeAt','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','fastly','trim','route','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)',';\x20HttpOnly','isArray','handleError','set','DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','number','byteLength','then','getAllDecodedParams','&#39;','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)','&quot;','text/plain;charset=utf-8','params','enqueue','1604932uXlGCs','json','arrayBuffer','routes','url','text/html;\x20charset=UTF-8','/admin/api/stats','$()','addRoute','notFound','text','length','GET','path','all',';\x20Expires=','values','bun','websocket','object','flat','error','streamText','now','flush\x20usage\x20error','token_hash','example.com','vless://','from','formData','node','waitUntil','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>','get','buildRegExpStr','routerName','request','Invalid\x20UUID','getDecodedParam','split','Missing\x20date/time','(?:','\x1b[32m','forEach','default','SmartRouter\x20+\x20','undefined','join','auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','/xray/:uuid','first','sort','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','This\x20context\x20has\x20no\x20FetchEvent','WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser','patch','startsWith','bodyCache','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','__lagon__','slice','_var','transfer-encoding','multipart/form-data','SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC','No\x20active\x20router\x20has\x20been\x20determined\x20yet.','text/html;charset=utf-8','sleep','/login','CF-Connecting-IP','message','(?:|/.*)','push','use','domain','flushUsage\x20outer','warn','Invalid','options','https://','matchRoute','data','TrieRouter',':00','maxAge','Cannot\x20','text/plain;\x20charset=UTF-8','22119nzDCoX','callbacks','writable','resolve','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','bodyUsed','traffic_used','http://localhost','gHSets','padStart','strict',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','replace','getSetCookie','newResponse','ACK','toISOString','Deno','referrer','buildRegExp','sameSite','SmartRouter','method','uuid','append','Traffic\x20limit\x20exceeded','20eHwYef','UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?','getParamValue','Unlimited','&path=/ws#singbox','Permissions-Policy','varIndex','parsedBody'];a0_0x430b=function(){return _0xd6970b;};return a0_0x430b();}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x460d2e){const _0x50255a=a0_0x571941,_0x12c629=new Trie(),_0x2a2620=[];if(_0x460d2e[_0x50255a(0x2d2)]===0x0)return nullMatcher;const _0x113db3=_0x460d2e[_0x50255a(0x24d)](_0x1d6892=>[!/\*|\/:/[_0x50255a(0x1e7)](_0x1d6892[0x0]),..._0x1d6892])['sort'](([_0x44e82d,_0x3d17c2],[_0x1ce708,_0x2e6479])=>_0x44e82d?0x1:_0x1ce708?-0x1:_0x3d17c2[_0x50255a(0x2d2)]-_0x2e6479[_0x50255a(0x2d2)]),_0xc1137d={};for(let _0x5e1a96=0x0,_0x5ee9ec=-0x1,_0x1aba71=_0x113db3[_0x50255a(0x2d2)];_0x5e1a96<_0x1aba71;_0x5e1a96++){const [_0x5aa611,_0x549a4f,_0x134a3c]=_0x113db3[_0x5e1a96];_0x5aa611?_0xc1137d[_0x549a4f]=[_0x134a3c[_0x50255a(0x24d)](([_0x1c0c7e])=>[_0x1c0c7e,{}]),emptyParam]:_0x5ee9ec++;let _0x534c01;try{_0x534c01=_0x12c629[_0x50255a(0x1e3)](_0x549a4f,_0x5ee9ec,_0x5aa611);}catch(_0x848970){throw _0x848970===PATH_ERROR?new UnsupportedPathError(_0x549a4f):_0x848970;}if(_0x5aa611)continue;_0x2a2620[_0x5ee9ec]=_0x134a3c[_0x50255a(0x24d)](([_0x285a01,_0x34063a])=>{const _0x2bab97={};_0x34063a-=0x1;for(;_0x34063a>=0x0;_0x34063a--){const [_0x2e07d9,_0x5cfb1f]=_0x534c01[_0x34063a];_0x2bab97[_0x2e07d9]=_0x5cfb1f;}return[_0x285a01,_0x2bab97];});}const [_0x2c28aa,_0x21c71b,_0x418e3d]=_0x12c629[_0x50255a(0x1c2)]();for(let _0x2384cf=0x0,_0x1b4ab6=_0x2a2620[_0x50255a(0x2d2)];_0x2384cf<_0x1b4ab6;_0x2384cf++){for(let _0x5f193a=0x0,_0x3e92b5=_0x2a2620[_0x2384cf][_0x50255a(0x2d2)];_0x5f193a<_0x3e92b5;_0x5f193a++){const _0x4c3b0f=_0x2a2620[_0x2384cf][_0x5f193a]?.[0x1];if(!_0x4c3b0f)continue;const _0x547fad=Object[_0x50255a(0x28f)](_0x4c3b0f);for(let _0x4b63b2=0x0,_0x29be39=_0x547fad[_0x50255a(0x2d2)];_0x4b63b2<_0x29be39;_0x4b63b2++){_0x4c3b0f[_0x547fad[_0x4b63b2]]=_0x418e3d[_0x4c3b0f[_0x547fad[_0x4b63b2]]];}}}const _0x4d256f=[];for(const _0x407d9b in _0x21c71b){_0x4d256f[_0x407d9b]=_0x2a2620[_0x21c71b[_0x407d9b]];}return[_0x2c28aa,_0x4d256f,_0xc1137d];}function findMiddleware(_0x3a00cb,_0x2b4818){const _0x459f8a=a0_0x571941;if(!_0x3a00cb)return void 0x0;for(const _0x3572c6 of Object['keys'](_0x3a00cb)[_0x459f8a(0x2fa)]((_0x4c078a,_0x185c0b)=>_0x185c0b[_0x459f8a(0x2d2)]-_0x4c078a['length'])){if(buildWildcardRegExp(_0x3572c6)['test'](_0x2b4818))return[..._0x3a00cb[_0x3572c6]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x27461a=a0_0x571941;this[_0x27461a(0x207)]=_0x27461a(0x209),this[_0x27461a(0x294)]={[METHOD_NAME_ALL]:{}},this[_0x27461a(0x2ca)]={[METHOD_NAME_ALL]:{}};}['add'](_0x2768e9,_0x9cc68,_0x235583){const _0x24298b=a0_0x571941;var _0x46d82e;const {middleware:_0x2f5c1a,routes:_0x501f9b}=this;if(!_0x2f5c1a||!_0x501f9b)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0x24298b(0x214)](_0x2768e9)===-0x1&&methodNames[_0x24298b(0x30f)](_0x2768e9);if(!_0x2f5c1a[_0x2768e9]){;[_0x2f5c1a,_0x501f9b][_0x24298b(0x2f2)](_0x20b3e1=>{const _0x4c68f7=_0x24298b;_0x20b3e1[_0x2768e9]={},Object['keys'](_0x20b3e1[METHOD_NAME_ALL])[_0x4c68f7(0x2f2)](_0x43c273=>{_0x20b3e1[_0x2768e9][_0x43c273]=[..._0x20b3e1[METHOD_NAME_ALL][_0x43c273]];});});}_0x9cc68==='/*'&&(_0x9cc68='*');const _0x39012a=(_0x9cc68[_0x24298b(0x2a8)](/\/:/g)||[])[_0x24298b(0x2d2)];if(/\*$/[_0x24298b(0x1e7)](_0x9cc68)){const _0x389766=buildWildcardRegExp(_0x9cc68);_0x2768e9===METHOD_NAME_ALL?Object[_0x24298b(0x28f)](_0x2f5c1a)[_0x24298b(0x2f2)](_0x34a7de=>{var _0x328b21;(_0x328b21=_0x2f5c1a[_0x34a7de])[_0x9cc68]||(_0x328b21[_0x9cc68]=findMiddleware(_0x2f5c1a[_0x34a7de],_0x9cc68)||findMiddleware(_0x2f5c1a[METHOD_NAME_ALL],_0x9cc68)||[]);}):(_0x46d82e=_0x2f5c1a[_0x2768e9])[_0x9cc68]||(_0x46d82e[_0x9cc68]=findMiddleware(_0x2f5c1a[_0x2768e9],_0x9cc68)||findMiddleware(_0x2f5c1a[METHOD_NAME_ALL],_0x9cc68)||[]);Object['keys'](_0x2f5c1a)[_0x24298b(0x2f2)](_0x46ff4e=>{const _0x2883bc=_0x24298b;(_0x2768e9===METHOD_NAME_ALL||_0x2768e9===_0x46ff4e)&&Object[_0x2883bc(0x28f)](_0x2f5c1a[_0x46ff4e])[_0x2883bc(0x2f2)](_0x2c1137=>{const _0x3bcf45=_0x2883bc;_0x389766[_0x3bcf45(0x1e7)](_0x2c1137)&&_0x2f5c1a[_0x46ff4e][_0x2c1137][_0x3bcf45(0x30f)]([_0x235583,_0x39012a]);});}),Object[_0x24298b(0x28f)](_0x501f9b)[_0x24298b(0x2f2)](_0x469d3a=>{const _0x4cf8af=_0x24298b;(_0x2768e9===METHOD_NAME_ALL||_0x2768e9===_0x469d3a)&&Object[_0x4cf8af(0x28f)](_0x501f9b[_0x469d3a])[_0x4cf8af(0x2f2)](_0x30e570=>_0x389766[_0x4cf8af(0x1e7)](_0x30e570)&&_0x501f9b[_0x469d3a][_0x30e570]['push']([_0x235583,_0x39012a]));});return;}const _0x57fd09=checkOptionalParameter(_0x9cc68)||[_0x9cc68];for(let _0x2a59a8=0x0,_0x40aba0=_0x57fd09[_0x24298b(0x2d2)];_0x2a59a8<_0x40aba0;_0x2a59a8++){const _0x31d534=_0x57fd09[_0x2a59a8];Object[_0x24298b(0x28f)](_0x501f9b)['forEach'](_0x4b7489=>{const _0x88365=_0x24298b;var _0x5cb9f8;(_0x2768e9===METHOD_NAME_ALL||_0x2768e9===_0x4b7489)&&((_0x5cb9f8=_0x501f9b[_0x4b7489])[_0x31d534]||(_0x5cb9f8[_0x31d534]=[...findMiddleware(_0x2f5c1a[_0x4b7489],_0x31d534)||findMiddleware(_0x2f5c1a[METHOD_NAME_ALL],_0x31d534)||[]]),_0x501f9b[_0x4b7489][_0x31d534][_0x88365(0x30f)]([_0x235583,_0x39012a-_0x40aba0+_0x2a59a8+0x1]));});}}[a0_0x571941(0x2a8)](_0x3dffef,_0x2386a2){const _0x5b792b=a0_0x571941;clearWildcardRegExpCache();const _0x10316b=this['buildAllMatchers']();return this[_0x5b792b(0x2a8)]=(_0x4ef799,_0x56d25b)=>{const _0x2ca486=_0x5b792b,_0x36d7ee=_0x10316b[_0x4ef799],_0x230fd3=_0x36d7ee[0x2][_0x56d25b];if(_0x230fd3)return _0x230fd3;const _0x2cf7=_0x56d25b[_0x2ca486(0x2a8)](_0x36d7ee[0x0]);if(!_0x2cf7)return[[],emptyParam];const _0x312a7b=_0x2cf7[_0x2ca486(0x214)]('',0x1);return[_0x36d7ee[0x1][_0x312a7b],_0x2cf7];},this[_0x5b792b(0x2a8)](_0x3dffef,_0x2386a2);}[a0_0x571941(0x1f5)](){const _0x5df79a=a0_0x571941,_0x37f683={};return methodNames[_0x5df79a(0x2f2)](_0x415d39=>{const _0x1bcc2b=_0x5df79a;_0x37f683[_0x415d39]=this[_0x1bcc2b(0x29a)](_0x415d39)||_0x37f683[METHOD_NAME_ALL];}),this[_0x5df79a(0x294)]=this[_0x5df79a(0x2ca)]=void 0x0,_0x37f683;}[a0_0x571941(0x29a)](_0x2b39f9){const _0xe8629a=a0_0x571941,_0x4c58c9=[];let _0x3aebf0=_0x2b39f9===METHOD_NAME_ALL;return[this[_0xe8629a(0x294)],this[_0xe8629a(0x2ca)]]['forEach'](_0x13e6db=>{const _0x4cc131=_0xe8629a,_0x5c194e=_0x13e6db[_0x2b39f9]?Object[_0x4cc131(0x28f)](_0x13e6db[_0x2b39f9])[_0x4cc131(0x24d)](_0x253808=>[_0x253808,_0x13e6db[_0x2b39f9][_0x253808]]):[];if(_0x5c194e['length']!==0x0)_0x3aebf0||(_0x3aebf0=!![]),_0x4c58c9[_0x4cc131(0x30f)](..._0x5c194e);else _0x2b39f9!==METHOD_NAME_ALL&&_0x4c58c9[_0x4cc131(0x30f)](...Object[_0x4cc131(0x28f)](_0x13e6db[METHOD_NAME_ALL])[_0x4cc131(0x24d)](_0x4ea5aa=>[_0x4ea5aa,_0x13e6db[METHOD_NAME_ALL][_0x4ea5aa]]));}),!_0x3aebf0?null:buildMatcherFromPreprocessedRoutes(_0x4c58c9);}},SmartRouter=class{constructor(_0x455bec){const _0x406e7c=a0_0x571941;this['name']=_0x406e7c(0x1c4),this['routers']=[],this['routes']=[],Object[_0x406e7c(0x23d)](this,_0x455bec);}[a0_0x571941(0x27c)](_0x4da15e,_0x462834,_0x3faaba){const _0x49da48=a0_0x571941;if(!this[_0x49da48(0x2ca)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this['routes']['push']([_0x4da15e,_0x462834,_0x3faaba]);}['match'](_0x231188,_0x2153ea){const _0x162f44=a0_0x571941;if(!this[_0x162f44(0x2ca)])throw new Error(_0x162f44(0x206));const {routers:_0x546a9f,routes:_0x29873d}=this,_0x6bac80=_0x546a9f['length'];let _0x176785=0x0,_0x3fe878;for(;_0x176785<_0x6bac80;_0x176785++){const _0x444d66=_0x546a9f[_0x176785];try{_0x29873d[_0x162f44(0x2f2)](_0x3813b9=>{_0x444d66['add'](..._0x3813b9);}),_0x3fe878=_0x444d66[_0x162f44(0x2a8)](_0x231188,_0x2153ea);}catch(_0x4e9823){if(_0x4e9823 instanceof UnsupportedPathError)continue;throw _0x4e9823;}this[_0x162f44(0x2a8)]=_0x444d66[_0x162f44(0x2a8)]['bind'](_0x444d66),this[_0x162f44(0x273)]=[_0x444d66],this[_0x162f44(0x2ca)]=void 0x0;break;}if(_0x176785===_0x6bac80)throw new Error(_0x162f44(0x206));return this[_0x162f44(0x207)]=_0x162f44(0x2f4)+this[_0x162f44(0x200)][_0x162f44(0x207)],_0x3fe878;}get['activeRouter'](){const _0x104db4=a0_0x571941;if(this[_0x104db4(0x2ca)]||this['routers']['length']!==0x1)throw new Error(_0x104db4(0x308));return this[_0x104db4(0x273)][0x0];}},Node2=class{constructor(_0x1aa4ee,_0x12f77f,_0x13cc25){const _0x446a6b=a0_0x571941;this[_0x446a6b(0x270)]=0x0,this[_0x446a6b(0x2c5)]={},this[_0x446a6b(0x216)]=_0x13cc25||{},this[_0x446a6b(0x202)]=[],this[_0x446a6b(0x207)]='';if(_0x1aa4ee&&_0x12f77f){const _0x5ade4e={};_0x5ade4e[_0x1aa4ee]={'handler':_0x12f77f,'possibleKeys':[],'score':0x0,'name':this[_0x446a6b(0x207)]},this[_0x446a6b(0x202)]=[_0x5ade4e];}this['patterns']=[];}[a0_0x571941(0x1e3)](_0x2e1c34,_0x9ece9f,_0x2e797c){const _0x5475e9=a0_0x571941;this[_0x5475e9(0x207)]=_0x2e1c34+'\x20'+_0x9ece9f,this['order']=++this['order'];let _0x5a8d67=this;const _0x46fd65=splitRoutingPath(_0x9ece9f),_0x468b49=[],_0x3c1e97=[];for(let _0x5a715a=0x0,_0x5aeca4=_0x46fd65[_0x5475e9(0x2d2)];_0x5a715a<_0x5aeca4;_0x5a715a++){const _0x471efe=_0x46fd65[_0x5a715a];if(Object['keys'](_0x5a8d67['children'])[_0x5475e9(0x1da)](_0x471efe)){_0x3c1e97['push'](..._0x5a8d67[_0x5475e9(0x296)]),_0x5a8d67=_0x5a8d67[_0x5475e9(0x216)][_0x471efe];const _0x398ffb=getPattern(_0x471efe);_0x398ffb&&_0x468b49[_0x5475e9(0x30f)](_0x398ffb[0x1]);continue;}_0x5a8d67[_0x5475e9(0x216)][_0x471efe]=new Node2();const _0x13d5a9=getPattern(_0x471efe);_0x13d5a9&&(_0x5a8d67[_0x5475e9(0x296)][_0x5475e9(0x30f)](_0x13d5a9),_0x3c1e97[_0x5475e9(0x30f)](..._0x5a8d67[_0x5475e9(0x296)]),_0x468b49[_0x5475e9(0x30f)](_0x13d5a9[0x1])),_0x3c1e97[_0x5475e9(0x30f)](..._0x5a8d67[_0x5475e9(0x296)]),_0x5a8d67=_0x5a8d67[_0x5475e9(0x216)][_0x471efe];}!_0x5a8d67[_0x5475e9(0x202)][_0x5475e9(0x2d2)]&&(_0x5a8d67['methods']=[]);const _0x4d5bca={},_0x5ccf49={'handler':_0x2e797c,'possibleKeys':_0x468b49['filter']((_0x1ac275,_0x346c57,_0x59e74a)=>_0x59e74a[_0x5475e9(0x214)](_0x1ac275)===_0x346c57),'name':this['name'],'score':this[_0x5475e9(0x270)]};return _0x4d5bca[_0x2e1c34]=_0x5ccf49,_0x5a8d67[_0x5475e9(0x202)][_0x5475e9(0x30f)](_0x4d5bca),_0x5a8d67;}[a0_0x571941(0x1b7)](_0x37867a,_0x4f4055,_0x243ee2,_0x59cc51){const _0x767659=a0_0x571941,_0x586e2e=[];for(let _0xd0ea16=0x0,_0x346032=_0x37867a[_0x767659(0x202)]['length'];_0xd0ea16<_0x346032;_0xd0ea16++){const _0x533a9d=_0x37867a['methods'][_0xd0ea16],_0x40a706=_0x533a9d[_0x4f4055]||_0x533a9d[METHOD_NAME_ALL],_0x3d4002={};_0x40a706!==void 0x0&&(_0x40a706[_0x767659(0x2c5)]={},_0x40a706[_0x767659(0x1fc)][_0x767659(0x2f2)](_0x2e493f=>{const _0x402739=_0x767659,_0x275677=_0x3d4002[_0x40a706['name']];_0x40a706['params'][_0x2e493f]=_0x59cc51[_0x2e493f]&&!_0x275677?_0x59cc51[_0x2e493f]:_0x243ee2[_0x2e493f]??_0x59cc51[_0x2e493f],_0x3d4002[_0x40a706[_0x402739(0x207)]]=!![];}),_0x586e2e[_0x767659(0x30f)](_0x40a706));}return _0x586e2e;}[a0_0x571941(0x2ad)](_0xba1e99,_0x5b35b0){const _0x76ce0e=a0_0x571941,_0x461fc1=[];this[_0x76ce0e(0x2c5)]={};const _0x3b61fa=this;let _0x5235b4=[_0x3b61fa];const _0x1e535b=splitPath(_0x5b35b0);for(let _0x1280eb=0x0,_0x46d9b6=_0x1e535b[_0x76ce0e(0x2d2)];_0x1280eb<_0x46d9b6;_0x1280eb++){const _0x1b08fb=_0x1e535b[_0x1280eb],_0x516989=_0x1280eb===_0x46d9b6-0x1,_0x2c88bf=[];for(let _0x352b13=0x0,_0x3337e5=_0x5235b4['length'];_0x352b13<_0x3337e5;_0x352b13++){const _0x2f6412=_0x5235b4[_0x352b13],_0x405ed8=_0x2f6412[_0x76ce0e(0x216)][_0x1b08fb];_0x405ed8&&(_0x405ed8['params']=_0x2f6412[_0x76ce0e(0x2c5)],_0x516989===!![]?(_0x405ed8[_0x76ce0e(0x216)]['*']&&_0x461fc1[_0x76ce0e(0x30f)](...this['gHSets'](_0x405ed8[_0x76ce0e(0x216)]['*'],_0xba1e99,_0x2f6412[_0x76ce0e(0x2c5)],{})),_0x461fc1[_0x76ce0e(0x30f)](...this['gHSets'](_0x405ed8,_0xba1e99,_0x2f6412[_0x76ce0e(0x2c5)],{}))):_0x2c88bf[_0x76ce0e(0x30f)](_0x405ed8));for(let _0x2e6670=0x0,_0x2bdf36=_0x2f6412[_0x76ce0e(0x296)][_0x76ce0e(0x2d2)];_0x2e6670<_0x2bdf36;_0x2e6670++){const _0x50cb76=_0x2f6412['patterns'][_0x2e6670],_0x7875cc={..._0x2f6412[_0x76ce0e(0x2c5)]};if(_0x50cb76==='*'){const _0x3b8d51=_0x2f6412[_0x76ce0e(0x216)]['*'];_0x3b8d51&&(_0x461fc1[_0x76ce0e(0x30f)](...this[_0x76ce0e(0x1b7)](_0x3b8d51,_0xba1e99,_0x2f6412[_0x76ce0e(0x2c5)],{})),_0x2c88bf[_0x76ce0e(0x30f)](_0x3b8d51));continue;}if(_0x1b08fb==='')continue;const [_0xc2e86a,_0x466630,_0x180d91]=_0x50cb76,_0x1ec9cc=_0x2f6412[_0x76ce0e(0x216)][_0xc2e86a],_0x13d9e5=_0x1e535b['slice'](_0x1280eb)[_0x76ce0e(0x2f6)]('/');if(_0x180d91 instanceof RegExp&&_0x180d91['test'](_0x13d9e5)){_0x7875cc[_0x466630]=_0x13d9e5,_0x461fc1[_0x76ce0e(0x30f)](...this[_0x76ce0e(0x1b7)](_0x1ec9cc,_0xba1e99,_0x2f6412[_0x76ce0e(0x2c5)],_0x7875cc));continue;}(_0x180d91===!![]||_0x180d91 instanceof RegExp&&_0x180d91[_0x76ce0e(0x1e7)](_0x1b08fb))&&(typeof _0xc2e86a===_0x76ce0e(0x1d4)&&(_0x7875cc[_0x466630]=_0x1b08fb,_0x516989===!![]?(_0x461fc1['push'](...this['gHSets'](_0x1ec9cc,_0xba1e99,_0x7875cc,_0x2f6412[_0x76ce0e(0x2c5)])),_0x1ec9cc['children']['*']&&_0x461fc1[_0x76ce0e(0x30f)](...this['gHSets'](_0x1ec9cc['children']['*'],_0xba1e99,_0x7875cc,_0x2f6412[_0x76ce0e(0x2c5)]))):(_0x1ec9cc[_0x76ce0e(0x2c5)]=_0x7875cc,_0x2c88bf[_0x76ce0e(0x30f)](_0x1ec9cc))));}}_0x5235b4=_0x2c88bf;}const _0x48a8a0=_0x461fc1['sort']((_0x44ddee,_0x12c951)=>{return _0x44ddee['score']-_0x12c951['score'];});return[_0x48a8a0[_0x76ce0e(0x24d)](({handler:_0x5f3c81,params:_0x45af2f})=>[_0x5f3c81,_0x45af2f])];}},TrieRouter=class{constructor(){const _0x2788e2=a0_0x571941;this[_0x2788e2(0x207)]=_0x2788e2(0x319),this[_0x2788e2(0x2e5)]=new Node2();}[a0_0x571941(0x27c)](_0x3cfad7,_0x575202,_0x437c73){const _0xc79866=a0_0x571941,_0x341f57=checkOptionalParameter(_0x575202);if(_0x341f57){for(const _0xa8c57f of _0x341f57){this[_0xc79866(0x2e5)]['insert'](_0x3cfad7,_0xa8c57f,_0x437c73);}return;}this[_0xc79866(0x2e5)][_0xc79866(0x1e3)](_0x3cfad7,_0x575202,_0x437c73);}[a0_0x571941(0x2a8)](_0x3e1859,_0x497bfc){const _0x53a60a=a0_0x571941;return this[_0x53a60a(0x2e5)][_0x53a60a(0x2ad)](_0x3e1859,_0x497bfc);}},Hono2=class extends Hono{constructor(_0x59208f={}){const _0x18e7f4=a0_0x571941;super(_0x59208f),this['router']=_0x59208f[_0x18e7f4(0x2a7)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0xae1359){const _0x3330cd=a0_0x571941;if(wasmReady)return wasmModule;try{const _0x1d5e6d=_0xae1359||'./rust/pkg/vless_parser.js',_0xf1a184=await import(_0x1d5e6d);return typeof _0xf1a184[_0x3330cd(0x2f3)]===_0x3330cd(0x22f)&&await _0xf1a184[_0x3330cd(0x2f3)](),wasmModule=_0xf1a184,wasmReady=!![],wasmModule;}catch(_0x16fe47){console[_0x3330cd(0x313)]('WASM\x20module\x20not\x20available\x20at\x20runtime:',_0x16fe47),wasmReady=![];throw _0x16fe47;}}async function parseVlessHeader(_0x2fee40){const _0x5c71ad=a0_0x571941;if(!wasmReady)throw new Error('WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.');if(!wasmModule||typeof wasmModule[_0x5c71ad(0x239)]!==_0x5c71ad(0x22f))throw new Error(_0x5c71ad(0x1fa));return await wasmModule[_0x5c71ad(0x239)](_0x2fee40);}function renderAdminLogin(_0x1204e9,_0x19a2f1){const _0x489327=a0_0x571941;return _0x489327(0x268)+_0x1204e9+_0x489327(0x290)+(_0x19a2f1?_0x489327(0x292)+escapeHtml(_0x19a2f1)+'</p>':'')+_0x489327(0x295);}function renderAdminPanel(){const _0x515bb3=a0_0x571941;return _0x515bb3(0x2fb);}function escapeHtml(_0x75a977){const _0x40f19d=a0_0x571941;return _0x75a977[_0x40f19d(0x1bb)](/[&<>'"]/g,_0xde604e=>({'&':'&amp;','<':_0x40f19d(0x21a),'>':_0x40f19d(0x254),'\x27':_0x40f19d(0x2c1),'\x22':_0x40f19d(0x2c3)}[_0xde604e]));}function expiryToISO(_0x213962,_0x450c31){const _0x5d2ef1=a0_0x571941;if(!_0x213962||!_0x450c31)return null;const _0x5b2038=_0x450c31['split'](':')[_0x5d2ef1(0x2d2)]===0x2?_0x450c31+_0x5d2ef1(0x31a):_0x450c31,_0x33a843=_0x213962+'T'+_0x5b2038+'Z',_0x2982d2=new Date(_0x33a843);if(isNaN(_0x2982d2['getTime']()))return null;return _0x2982d2[_0x5d2ef1(0x1bf)]();}var app=new Hono2();function addSecurityHeaders(_0x3a924f){const _0x1b5179=a0_0x571941;_0x3a924f[_0x1b5179(0x2bb)](_0x1b5179(0x250),_0x1b5179(0x224)),_0x3a924f[_0x1b5179(0x2bb)](_0x1b5179(0x230),_0x1b5179(0x26c)),_0x3a924f[_0x1b5179(0x2bb)](_0x1b5179(0x1ce),'camera=(),\x20microphone=()');}app[a0_0x571941(0x25f)]('/admin/login',async _0x377caf=>{const _0x1211ac=a0_0x571941,_0xa85ce4=_0x377caf['env'],_0x44708c=await _0x377caf[_0x1211ac(0x25a)][_0x1211ac(0x2e4)](),_0x222825=_0x44708c['get'](_0x1211ac(0x288))?.['toString']()||'';if(!_0xa85ce4[_0x1211ac(0x1ed)])return _0x377caf[_0x1211ac(0x2d1)](_0x1211ac(0x286),0x1f7);if(_0x222825!==_0xa85ce4[_0x1211ac(0x1ed)])return _0x377caf['text'](_0x1211ac(0x314),0x191);const _0x160582=crypto['randomUUID'](),_0x25b01d=await crypto[_0x1211ac(0x29e)][_0x1211ac(0x253)](_0x1211ac(0x1e4),new TextEncoder()[_0x1211ac(0x271)](_0x160582)),_0x160a7e=Array['from'](new Uint8Array(_0x25b01d))[_0x1211ac(0x24d)](_0x3aede7=>_0x3aede7['toString'](0x10)[_0x1211ac(0x1b8)](0x2,'0'))[_0x1211ac(0x2f6)]('');try{await _0xa85ce4['DB']['prepare']('INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)')[_0x1211ac(0x205)]('default',_0x160a7e,Math[_0x1211ac(0x287)](Date['now']()/0x3e8)+0x15180)[_0x1211ac(0x2a5)]();}catch(_0x16bb09){console[_0x1211ac(0x2dc)](_0x1211ac(0x26e),_0x16bb09);}const _0x1d5a35=new Headers();return _0x1d5a35[_0x1211ac(0x1c7)](_0x1211ac(0x1dd),_0x1211ac(0x23a)+_0x160582+_0x1211ac(0x1ba)),addSecurityHeaders(_0x1d5a35),_0x377caf[_0x1211ac(0x2d1)]('OK',0xc8,{'headers':_0x1d5a35});});async function hashSHA256Hex(_0x5675e1){const _0x126f26=a0_0x571941,_0x135438=new TextEncoder(),_0x19c9ac=_0x135438['encode'](_0x5675e1),_0x12117d=await crypto['subtle'][_0x126f26(0x253)](_0x126f26(0x1e4),_0x19c9ac);return Array[_0x126f26(0x2e3)](new Uint8Array(_0x12117d))[_0x126f26(0x24d)](_0x3b10c3=>_0x3b10c3[_0x126f26(0x22e)](0x10)['padStart'](0x2,'0'))['join']('');}async function isAdminRequest(_0x24f023){const _0x5edbf8=a0_0x571941,_0x3df1ac=_0x24f023[_0x5edbf8(0x25a)][_0x5edbf8(0x226)][_0x5edbf8(0x2e8)](_0x5edbf8(0x218))||'',_0x27663e=_0x3df1ac['match'](/auth_token=([^;]+)/)?.[0x1];if(!_0x27663e)return![];const _0x209dde=await hashSHA256Hex(_0x27663e);try{const _0x118503=await _0x24f023[_0x5edbf8(0x23c)]['DB'][_0x5edbf8(0x1df)](_0x5edbf8(0x1f8))[_0x5edbf8(0x205)](_0x5edbf8(0x2f3))[_0x5edbf8(0x2f9)]();if(!_0x118503?.[_0x5edbf8(0x2e0)])return![];return _0x209dde===_0x118503[_0x5edbf8(0x2e0)];}catch(_0x4fc8e4){return console['warn']('isAdminRequest\x20error',_0x4fc8e4),![];}}async function ensureTablesExist(_0x4730af){const _0x327cfb=a0_0x571941;if(!_0x4730af['DB'])return;const _0xbda665=[_0x327cfb(0x2b7),_0x327cfb(0x1b3),_0x327cfb(0x289),_0x327cfb(0x223)];try{const _0x5414fb=_0xbda665['map'](_0x2b6f77=>_0x4730af['DB']['prepare'](_0x2b6f77));await _0x4730af['DB'][_0x327cfb(0x22a)](_0x5414fb);}catch(_0x3ccc05){console[_0x327cfb(0x313)](_0x327cfb(0x269),_0x3ccc05);}}app['get']('/admin',async _0x36f45e=>{const _0x3efe47=a0_0x571941;await ensureTablesExist(_0x36f45e[_0x3efe47(0x23c)]);const _0x4a0a6b=await isAdminRequest(_0x36f45e),_0x4ecf6d=_0x3efe47(0x22d),_0x5a95c3=new Headers({'Content-Type':'text/html;charset=utf-8'});addSecurityHeaders(_0x5a95c3);if(!_0x4a0a6b)return new Response(renderAdminLogin(_0x4ecf6d+_0x3efe47(0x30b)),{'headers':_0x5a95c3});return new Response(renderAdminPanel(),{'headers':_0x5a95c3});}),app[a0_0x571941(0x2e8)](a0_0x571941(0x2cd),async _0x5aa77d=>{const _0xb27162=a0_0x571941;if(!await isAdminRequest(_0x5aa77d))return _0x5aa77d[_0xb27162(0x2c8)]({'error':_0xb27162(0x285)},0x193);const _0x1c0be9=_0x5aa77d[_0xb27162(0x23c)];await ensureTablesExist(_0x1c0be9);try{const _0x34be02=await _0x1c0be9['DB'][_0xb27162(0x1df)](_0xb27162(0x301))['first'](_0xb27162(0x1d2)),_0x6d47b6=await _0x1c0be9['DB']['prepare'](_0xb27162(0x2c2))[_0xb27162(0x2f9)]('count'),_0x19d882=await _0x1c0be9['DB']['prepare']('SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users')[_0xb27162(0x2f9)]('sum'),_0x2e2693=_0x6d47b6||0x0,_0x569613=(_0x34be02||0x0)-_0x2e2693;return _0x5aa77d[_0xb27162(0x2c8)]({'total_users':_0x34be02||0x0,'active_users':_0x569613,'expired_users':_0x2e2693,'total_traffic':_0x19d882||0x0});}catch(_0x45c080){const _0x24a69c=_0x45c080 instanceof Error?_0x45c080[_0xb27162(0x30d)]:String(_0x45c080);return _0x5aa77d[_0xb27162(0x2c8)]({'error':_0x24a69c},0x1f4);}}),app[a0_0x571941(0x2e8)](a0_0x571941(0x28b),async _0x326960=>{const _0x3453ab=a0_0x571941;if(!await isAdminRequest(_0x326960))return _0x326960['json']({'error':'Forbidden'},0x193);const _0x40fb2c=await _0x326960[_0x3453ab(0x23c)]['DB'][_0x3453ab(0x1df)](_0x3453ab(0x307))[_0x3453ab(0x2d5)]();return _0x326960['json'](_0x40fb2c[_0x3453ab(0x203)]||[]);}),app[a0_0x571941(0x25f)]('/admin/api/users',async _0x243da9=>{const _0x19c0b5=a0_0x571941;if(!await isAdminRequest(_0x243da9))return _0x243da9[_0x19c0b5(0x2c8)]({'error':_0x19c0b5(0x285)},0x193);const _0x364807=await _0x243da9['req']['json'](),{uuid:_0x139d5b,exp_date:_0x487a46,exp_time:_0x5d238a,notes:_0x9325ea,traffic_limit:_0x294cc9,ip_limit:_0xd8a7d8}=_0x364807;if(!_0x139d5b||!_0x487a46||!_0x5d238a)return _0x243da9['json']({'error':_0x19c0b5(0x211)},0x190);try{return await _0x243da9[_0x19c0b5(0x23c)]['DB'][_0x19c0b5(0x1df)]('INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)')[_0x19c0b5(0x205)](_0x139d5b,_0x487a46,_0x5d238a,_0x9325ea||null,_0x294cc9||null,_0xd8a7d8||-0x1)[_0x19c0b5(0x2a5)](),_0x243da9['json']({'success':!![],'uuid':_0x139d5b},0xc9);}catch(_0x56c002){const _0x408689=_0x56c002 instanceof Error?_0x56c002[_0x19c0b5(0x30d)]:String(_0x56c002);return _0x243da9[_0x19c0b5(0x2c8)]({'error':_0x408689},0x190);}}),app['put'](a0_0x571941(0x29d),async _0x34272b=>{const _0x5b2fc1=a0_0x571941;if(!await isAdminRequest(_0x34272b))return _0x34272b[_0x5b2fc1(0x2c8)]({'error':'Forbidden'},0x193);const _0x453d13=_0x34272b['req'][_0x5b2fc1(0x1e6)](_0x5b2fc1(0x1c6)),_0x7045ee=await _0x34272b['req'][_0x5b2fc1(0x2c8)](),{exp_date:_0x567cdb,exp_time:_0x3bc648,notes:_0x23ffff,traffic_limit:_0x3a2357,ip_limit:_0x9b7e74,reset_traffic:_0x21b7d7}=_0x7045ee;if(!_0x567cdb||!_0x3bc648)return _0x34272b[_0x5b2fc1(0x2c8)]({'error':_0x5b2fc1(0x2ef)},0x190);try{let _0x1eff81='UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?';if(_0x21b7d7)_0x1eff81+=',\x20traffic_used\x20=\x200';return _0x1eff81+=_0x5b2fc1(0x1f2),await _0x34272b['env']['DB'][_0x5b2fc1(0x1df)](_0x1eff81)[_0x5b2fc1(0x205)](_0x567cdb,_0x3bc648,_0x23ffff||null,_0x3a2357||null,_0x9b7e74||-0x1,_0x453d13)[_0x5b2fc1(0x2a5)](),_0x34272b[_0x5b2fc1(0x2c8)]({'success':!![],'uuid':_0x453d13});}catch(_0x3742ff){const _0x50f4d4=_0x3742ff instanceof Error?_0x3742ff[_0x5b2fc1(0x30d)]:String(_0x3742ff);return _0x34272b[_0x5b2fc1(0x2c8)]({'error':_0x50f4d4},0x190);}}),app[a0_0x571941(0x2aa)](a0_0x571941(0x29d),async _0x10a282=>{const _0x64e6fb=a0_0x571941;if(!await isAdminRequest(_0x10a282))return _0x10a282[_0x64e6fb(0x2c8)]({'error':'Forbidden'},0x193);const _0x567cee=_0x10a282[_0x64e6fb(0x25a)][_0x64e6fb(0x1e6)](_0x64e6fb(0x1c6));try{return await _0x10a282[_0x64e6fb(0x23c)]['DB'][_0x64e6fb(0x1df)](_0x64e6fb(0x2b3))[_0x64e6fb(0x205)](_0x567cee)['run'](),_0x10a282[_0x64e6fb(0x2c8)]({'success':!![],'uuid':_0x567cee});}catch(_0x446e20){const _0x1c516c=_0x446e20 instanceof Error?_0x446e20[_0x64e6fb(0x30d)]:String(_0x446e20);return _0x10a282['json']({'error':_0x1c516c},0x1f4);}}),app['post'](a0_0x571941(0x1de),async _0x2741d0=>{const _0x18767a=a0_0x571941;if(!await isAdminRequest(_0x2741d0))return _0x2741d0[_0x18767a(0x2c8)]({'error':_0x18767a(0x285)},0x193);const _0x2bbcdd=_0x2741d0[_0x18767a(0x23c)],_0x3b9aef=_0x2bbcdd[_0x18767a(0x1ea)]?_0x2bbcdd[_0x18767a(0x1ea)][_0x18767a(0x2ee)](',')[_0x18767a(0x24d)](_0x2e87c3=>_0x2e87c3['trim']()):[_0x18767a(0x244)],_0x2fd21c=[];for(const _0x24c364 of _0x3b9aef){const [_0x30fec4,_0x2f0325=_0x18767a(0x1d8)]=_0x24c364[_0x18767a(0x2ee)](':');let _0x29b388=null,_0x85665b=0x0;const _0x8b833e=Date[_0x18767a(0x2de)]();try{const _0x96f08=new AbortController(),_0x1a3db3=setTimeout(()=>_0x96f08[_0x18767a(0x1d3)](),0x1388),_0x11ab3b=await fetch(_0x18767a(0x316)+_0x30fec4+':'+_0x2f0325,{'signal':_0x96f08[_0x18767a(0x283)]});clearTimeout(_0x1a3db3),_0x11ab3b['ok']&&(_0x29b388=Date['now']()-_0x8b833e,_0x85665b=0x1);}catch(_0x5f068c){}_0x2fd21c[_0x18767a(0x30f)](_0x2bbcdd['DB'][_0x18767a(0x1df)](_0x18767a(0x238))[_0x18767a(0x205)](_0x24c364,_0x85665b,_0x29b388,Math[_0x18767a(0x287)](Date[_0x18767a(0x2de)]()/0x3e8)));}try{return await _0x2bbcdd['DB'][_0x18767a(0x22a)](_0x2fd21c),_0x2741d0[_0x18767a(0x2c8)]({'success':!![]});}catch(_0xa55806){return _0x2741d0[_0x18767a(0x2c8)]({'error':_0xa55806?.[_0x18767a(0x30d)]||String(_0xa55806)},0x1f4);}}),app['post']('/admin/logout',async _0x3a3674=>{const _0x54832b=a0_0x571941;try{await _0x3a3674[_0x54832b(0x23c)]['DB'][_0x54832b(0x1df)](_0x54832b(0x2bc))[_0x54832b(0x205)](_0x54832b(0x2f3))[_0x54832b(0x2a5)]();}catch(_0x58dfb5){}const _0x4304b8=new Headers();return _0x4304b8[_0x54832b(0x1c7)](_0x54832b(0x1dd),_0x54832b(0x2f7)),addSecurityHeaders(_0x4304b8),new Response(JSON[_0x54832b(0x1f6)]({'success':!![]}),{'headers':_0x4304b8});}),app['get'](a0_0x571941(0x2a0),async _0x157c19=>{const _0x8bb644=a0_0x571941,{uuid:_0xde8d79}=_0x157c19[_0x8bb644(0x25a)][_0x8bb644(0x1e6)](),_0xf53ed3=_0x157c19[_0x8bb644(0x23c)];if(!/^[0-9a-fA-F-]{36}$/[_0x8bb644(0x1e7)](_0xde8d79))return _0x157c19[_0x8bb644(0x2c8)]({'error':_0x8bb644(0x293)},0x190);const _0x1bb989=await _0xf53ed3['DB'][_0x8bb644(0x1df)](_0x8bb644(0x28e))[_0x8bb644(0x205)](_0xde8d79)[_0x8bb644(0x2f9)]();if(!_0x1bb989)return _0x157c19['json']({'error':'not\x20found'},0x194);const _0x18dd19=expiryToISO(_0x1bb989[_0x8bb644(0x208)],_0x1bb989[_0x8bb644(0x255)]);return _0x157c19['json']({'traffic_used':_0x1bb989['traffic_used']||0x0,'traffic_limit':_0x1bb989[_0x8bb644(0x20c)]||null,'expiration_iso':_0x18dd19});}),app[a0_0x571941(0x2e8)](a0_0x571941(0x264),async _0x3b8ffa=>{const _0x53ed74=a0_0x571941,_0x3ad65b=_0x3b8ffa[_0x53ed74(0x25a)][_0x53ed74(0x1e6)]('uuid'),_0x599a18=_0x3b8ffa['env'];if(!/^[0-9a-fA-F-]{36}$/['test'](_0x3ad65b))return _0x3b8ffa[_0x53ed74(0x2d1)](_0x53ed74(0x2ec),0x190);const _0x469e01=await _0x599a18['DB'][_0x53ed74(0x1df)](_0x53ed74(0x225))['bind'](_0x3ad65b)['first']();if(!_0x469e01)return _0x3b8ffa[_0x53ed74(0x2d1)](_0x53ed74(0x249),0x193);let _0x91ecc2=_0x599a18['PROXYIPS']?_0x599a18[_0x53ed74(0x1ea)]['split'](',')[0x0]:'speed.cloudflare.com:443';try{const _0x204cf4=await _0x599a18['DB'][_0x53ed74(0x1df)](_0x53ed74(0x1f3))[_0x53ed74(0x2f9)]();if(_0x204cf4?.[_0x53ed74(0x29b)])_0x91ecc2=_0x204cf4[_0x53ed74(0x29b)];}catch(_0x46e7e9){}const _0x56c3d3=_0x3b8ffa[_0x53ed74(0x25a)][_0x53ed74(0x226)][_0x53ed74(0x2e8)]('Host')||_0x53ed74(0x2e1),_0x30ffdb=_0x53ed74(0x316)+_0x56c3d3+_0x53ed74(0x20d)+_0x3ad65b,_0x3eddcd=_0x53ed74(0x316)+_0x56c3d3+_0x53ed74(0x256)+_0x3ad65b,_0x595e37=expiryToISO(_0x469e01[_0x53ed74(0x208)],_0x469e01['expiration_time']),_0x51ccc2=_0x53ed74(0x2e7)+_0x3ad65b+'</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20'+_0x91ecc2+_0x53ed74(0x1fe)+_0x30ffdb+'\x22>'+_0x30ffdb+'</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22'+_0x3eddcd+'\x22>'+_0x3eddcd+'</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/'+_0x3ad65b+_0x53ed74(0x242)+(_0x469e01[_0x53ed74(0x1b5)]||0x0)+_0x53ed74(0x266)+(_0x595e37||_0x53ed74(0x1cc))+_0x53ed74(0x2b2),_0x15320a=new Headers({'Content-Type':_0x53ed74(0x309)});return addSecurityHeaders(_0x15320a),new Response(_0x51ccc2,{'headers':_0x15320a});}),app[a0_0x571941(0x2e8)](a0_0x571941(0x2f8),async _0x5ac325=>{const _0x41a838=a0_0x571941,_0x4dc770=_0x5ac325['req'][_0x41a838(0x1e6)]('uuid');if(!/^[0-9a-fA-F-]{36}$/['test'](_0x4dc770))return _0x5ac325[_0x41a838(0x2d1)](_0x41a838(0x2ec),0x190);const _0x54a6aa=_0x5ac325['req'][_0x41a838(0x226)][_0x41a838(0x2e8)](_0x41a838(0x277))||_0x41a838(0x2e1),_0x57e644=[_0x41a838(0x2e2)+_0x4dc770+'@'+_0x54a6aa+_0x41a838(0x1e8)+_0x54a6aa+'&path=/ws#xray'],_0x4bf52f=new Headers({'Content-Type':_0x41a838(0x2c4)});return addSecurityHeaders(_0x4bf52f),new Response(btoa(_0x57e644[_0x41a838(0x2f6)]('\x0a')),{'headers':_0x4bf52f});}),app[a0_0x571941(0x2e8)]('/sb/:uuid',async _0x1abc09=>{const _0x42bfa1=a0_0x571941,_0x1e92cf=_0x1abc09[_0x42bfa1(0x25a)][_0x42bfa1(0x1e6)]('uuid');if(!/^[0-9a-fA-F-]{36}$/[_0x42bfa1(0x1e7)](_0x1e92cf))return _0x1abc09[_0x42bfa1(0x2d1)]('Invalid\x20UUID',0x190);const _0x34db4e=_0x1abc09[_0x42bfa1(0x25a)][_0x42bfa1(0x226)][_0x42bfa1(0x2e8)](_0x42bfa1(0x277))||_0x42bfa1(0x2e1),_0x5d8df4=['vless://'+_0x1e92cf+'@'+_0x34db4e+_0x42bfa1(0x1e8)+_0x34db4e+_0x42bfa1(0x1cd)],_0x171428=new Headers({'Content-Type':'text/plain;charset=utf-8'});return addSecurityHeaders(_0x171428),new Response(btoa(_0x5d8df4[_0x42bfa1(0x2f6)]('\x0a')),{'headers':_0x171428});}),app[a0_0x571941(0x2d5)](a0_0x571941(0x297),async _0x5321c7=>{const _0x12adbe=a0_0x571941,_0x59f07c=_0x5321c7[_0x12adbe(0x25a)],_0x314c57=_0x5321c7['env'];if(_0x59f07c[_0x12adbe(0x226)][_0x12adbe(0x2e8)](_0x12adbe(0x217))?.['toLowerCase']()!==_0x12adbe(0x2d9))return _0x5321c7[_0x12adbe(0x2d1)]('Must\x20upgrade\x20to\x20WebSocket',0x190);try{if(_0x314c57[_0x12adbe(0x28d)])try{await initWasm();}catch(_0x1aa292){console[_0x12adbe(0x313)]('WASM\x20init\x20failed',_0x1aa292);}}catch(_0x4b88f1){console['warn']('wasm\x20init\x20skipped',_0x4b88f1);}const _0x46b6b0=new globalThis[(_0x12adbe(0x299))](),[_0x4db725,_0x5c0146]=Object[_0x12adbe(0x2d7)](_0x46b6b0);_0x5c0146[_0x12adbe(0x2a6)]();let _0x2caf95=0x0,_0x5ede97='';const _0x312d84=async()=>{const _0x2e8f73=_0x12adbe;try{if(!_0x5ede97||_0x2caf95<=0x0)return;_0x5321c7[_0x2e8f73(0x215)][_0x2e8f73(0x2e6)](((async()=>{const _0x2ac189=_0x2e8f73;try{await _0x314c57['DB'][_0x2ac189(0x1df)](_0x2ac189(0x1ca))[_0x2ac189(0x205)](Math['round'](_0x2caf95),_0x5ede97)[_0x2ac189(0x2a5)]();}catch(_0x1cf52e){console[_0x2ac189(0x2dc)](_0x2ac189(0x2df),_0x1cf52e);}})())),_0x2caf95=0x0;}catch(_0x5adcf4){console[_0x2e8f73(0x2dc)](_0x2e8f73(0x312),_0x5adcf4);}},_0x3bda32=setInterval(()=>{_0x312d84();},0x2710);_0x5c0146[_0x12adbe(0x21f)](_0x12adbe(0x30d),async _0x165656=>{const _0x3957c7=_0x12adbe;try{const _0x334536=_0x165656[_0x3957c7(0x318)];let _0x735edc;if(typeof _0x334536==='string')_0x735edc=new TextEncoder()['encode'](_0x334536);else{if(_0x334536 instanceof ArrayBuffer)_0x735edc=new Uint8Array(_0x334536);else{if(_0x334536 instanceof Blob)_0x735edc=new Uint8Array(await _0x334536['arrayBuffer']());else return;}}_0x2caf95+=_0x735edc[_0x3957c7(0x2be)];if(!_0x5ede97)try{if(_0x735edc['byteLength']<0x18){}let _0x4a1631=null;try{_0x4a1631=await parseVlessHeader(_0x735edc);}catch(_0x100f96){console[_0x3957c7(0x313)](_0x3957c7(0x2fd),_0x100f96);}if(!_0x4a1631){const _0x56aa6c=new DataView(_0x735edc['buffer']),_0xdfba36=new Uint8Array(_0x735edc[_0x3957c7(0x29f)][_0x3957c7(0x303)](0x1,0x11)),_0x2ccf5a=Array['from'](_0xdfba36)[_0x3957c7(0x24d)](_0x29dc12=>_0x29dc12['toString'](0x10)[_0x3957c7(0x1b8)](0x2,'0'))[_0x3957c7(0x2f6)](''),_0x2f1fc5=_0x2ccf5a[_0x3957c7(0x232)](0x0,0x8)+'-'+_0x2ccf5a[_0x3957c7(0x232)](0x8,0xc)+'-'+_0x2ccf5a['substring'](0xc,0x10)+'-'+_0x2ccf5a['substring'](0x10,0x14)+'-'+_0x2ccf5a['substring'](0x14,0x20);_0x4a1631={'uuid':_0x2f1fc5,'command':_0x56aa6c[_0x3957c7(0x235)](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x5ede97=_0x4a1631['uuid'];const _0x1e2895=await _0x314c57['DB'][_0x3957c7(0x1df)](_0x3957c7(0x27a))[_0x3957c7(0x205)](_0x5ede97)[_0x3957c7(0x2f9)]();if(!_0x1e2895){_0x5c0146[_0x3957c7(0x241)](0x3f3,_0x3957c7(0x249));return;}const _0x78ee35=expiryToISO(_0x1e2895[_0x3957c7(0x208)],_0x1e2895['expiration_time']);if(_0x78ee35&&new Date(_0x78ee35)<=new Date()){_0x5c0146[_0x3957c7(0x241)](0x3f0,_0x3957c7(0x1e9));return;}if(_0x1e2895[_0x3957c7(0x20c)]&&_0x1e2895['traffic_limit']>0x0&&(_0x1e2895[_0x3957c7(0x1b5)]||0x0)>=_0x1e2895[_0x3957c7(0x20c)]){_0x5c0146[_0x3957c7(0x241)](0x3f0,_0x3957c7(0x1c8));return;}try{const _0x32f47d=_0x59f07c['headers']['get'](_0x3957c7(0x30c))||_0x59f07c[_0x3957c7(0x226)][_0x3957c7(0x2e8)](_0x3957c7(0x1f9))||'';if(_0x1e2895['ip_limit']&&_0x1e2895[_0x3957c7(0x220)]>-0x1){const _0x741216=await _0x314c57['DB']['prepare']('SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?')['bind'](_0x5ede97)[_0x3957c7(0x2f9)](),_0x2b707e=_0x741216?.[_0x3957c7(0x1d2)]||0x0;if(_0x2b707e>=_0x1e2895[_0x3957c7(0x220)]){_0x5c0146[_0x3957c7(0x241)](0x3f0,'IP\x20limit\x20exceeded');return;}}_0x5321c7['executionCtx']['waitUntil'](((async()=>{const _0x339134=_0x3957c7;try{await _0x314c57['DB'][_0x339134(0x1df)]('INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)')[_0x339134(0x205)](_0x5ede97,_0x59f07c['headers']['get'](_0x339134(0x30c))||'unknown')[_0x339134(0x2a5)]();}catch(_0x219dc7){console[_0x339134(0x313)](_0x339134(0x246),_0x219dc7);}})()));}catch(_0x43a957){console[_0x3957c7(0x313)](_0x3957c7(0x23b),_0x43a957);}}catch(_0x1b95b2){console[_0x3957c7(0x2dc)](_0x3957c7(0x21c),_0x1b95b2),_0x5c0146[_0x3957c7(0x241)](0x3f3,'Parse\x20error');return;}try{_0x5c0146['readyState']===0x1&&_0x5c0146['send'](_0x3957c7(0x1be));}catch(_0x56f510){console[_0x3957c7(0x313)]('send\x20ack\x20failed',_0x56f510);}}catch(_0x59fecb){console[_0x3957c7(0x2dc)](_0x3957c7(0x210),_0x59fecb);try{_0x5c0146['close'](0x3f3,_0x3957c7(0x237));}catch(_0x2a8eef){}}}),_0x5c0146[_0x12adbe(0x21f)](_0x12adbe(0x241),async()=>{const _0x1413a5=_0x12adbe;clearInterval(_0x3bda32);try{await _0x312d84();}catch(_0x1566ce){console[_0x1413a5(0x313)](_0x1413a5(0x248),_0x1566ce);}});const _0x323575=new Headers();addSecurityHeaders(_0x323575);const _0x44caeb={'status':0x65,'webSocket':_0x4db725,'headers':_0x323575};return new Response(null,_0x44caeb);}),app[a0_0x571941(0x2e8)](a0_0x571941(0x251),async _0x536e43=>{const _0x30eef7=a0_0x571941;return _0x536e43[_0x30eef7(0x2d1)](_0x30eef7(0x24a));});var src_default={'fetch':app[a0_0x571941(0x24f)]};export{src_default as default,expiryToISO};