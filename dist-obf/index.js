const a0_0x531828=a0_0x3acd;(function(_0xf8cab5,_0x4f6b72){const _0x1b42b1=a0_0x3acd,_0x2fe774=_0xf8cab5();while(!![]){try{const _0x43272f=parseInt(_0x1b42b1(0xad))/0x1*(parseInt(_0x1b42b1(0x1b5))/0x2)+-parseInt(_0x1b42b1(0x17a))/0x3+-parseInt(_0x1b42b1(0x148))/0x4*(-parseInt(_0x1b42b1(0xbc))/0x5)+parseInt(_0x1b42b1(0x92))/0x6*(-parseInt(_0x1b42b1(0x1d1))/0x7)+parseInt(_0x1b42b1(0x75))/0x8*(-parseInt(_0x1b42b1(0x10d))/0x9)+parseInt(_0x1b42b1(0xc0))/0xa+parseInt(_0x1b42b1(0xcb))/0xb;if(_0x43272f===_0x4f6b72)break;else _0x2fe774['push'](_0x2fe774['shift']());}catch(_0x577e4f){_0x2fe774['push'](_0x2fe774['shift']());}}}(a0_0x1778,0x3a207));function a0_0x3acd(_0x69614c,_0x391ba7){const _0x445bf1=a0_0x1778();return a0_0x3acd=function(_0x1f550e,_0x35b0f6){_0x1f550e=_0x1f550e-0x6c;let _0x1778ff=_0x445bf1[_0x1f550e];return _0x1778ff;},a0_0x3acd(_0x69614c,_0x391ba7);}const a0_0x35b0f6=(function(){let _0x1b04fb=!![];return function(_0x52d93d,_0x227962){const _0x1e4103=_0x1b04fb?function(){const _0x548d29=a0_0x3acd;if(_0x227962){const _0x3b9d16=_0x227962[_0x548d29(0x85)](_0x52d93d,arguments);return _0x227962=null,_0x3b9d16;}}:function(){};return _0x1b04fb=![],_0x1e4103;};}()),a0_0x1f550e=a0_0x35b0f6(this,function(){const _0x3ad87a=a0_0x3acd;return a0_0x1f550e[_0x3ad87a(0x134)]()[_0x3ad87a(0xd2)](_0x3ad87a(0xc6))[_0x3ad87a(0x134)]()['constructor'](a0_0x1f550e)[_0x3ad87a(0xd2)](_0x3ad87a(0xc6));});a0_0x1f550e();function a0_0x1778(){const _0xb9c4db=['</p>','Invalid','sleep','Cannot\x20','flush\x20on\x20close\x20failed','onError','encoder','206zkFEau','speed.cloudflare.com:443','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','upgrade','443','text','buffer','composedHandler','(?:|/.*)','env','handler','edge-light','filter','deno','writer','arrayBuffer','flat','sort','toLowerCase','Expired','Parse\x20error','content-type','/admin/api/users/:uuid','SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users','http://localhost','parse_vless_header','finally','message\x20handler\x20error','7saxUZX','/admin/api/health-check','run','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)','getWriter','\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20','send\x20ack\x20failed','token_hash','indexOf','endsWith','$()','getResponse',';\x20Partitioned','abortSubscribers','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/','all','websocket','stream','buildRegExp','parseBody','executionCtx','27144RWGEBd','setRenderer','SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC','/admin/logout','showRoutes','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','SmartRouter\x20+\x20','IP\x20limit\x20exceeded','404\x20Not\x20Found','&amp;','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','keys','bind','error','cachedBody','toUpperCase','apply','/admin/api/users','write','slice','render','name','routers','isEscaped','buildRegExpStr','./rust/pkg/vless_parser.js','byteLength','</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22','expiration_time','1650630SPkJyf','order','substring','/xray/','TrieRouter','Fatal\x20error','maxAge','auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','Invalid\x20UUID','req','match','data','text/plain;\x20charset=UTF-8','formData','startsWith','errorHandler','chunked','Deno','auth_token=','Admin\x20not\x20configured','traffic_limit',';\x20Path=','index','middleware','valid','push','context','4252KDjMsB','post','charCodeAt','map','warn','x-forwarded-for','expiration_date','now','batch','httpOnly','headers','getPath','padStart','/admin/api/stats','toUTCString','45sGpjRr','text/plain;charset=utf-8','read\x20from\x20private\x20field','router','3688150jlwWeN','call','routerName','isArray','first','raw','(((.+)+)+)+$','<p\x20style=\x22color:red\x22>','renderer','GET','handleError','3943511chHHOo','WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser','stringify','activeRouter','PROXYIPS','writable','Permissions-Policy','search','handleEvent','mount','_basePath','__lagon__','dispatch','INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)','count','_var','Host','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22','Set-Cookie','process','html','routePath','runtime','application/x-www-form-urlencoded','expires','has','toLocaleLowerCase','invalid','SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201','buildAllMatchers','bun','releaseLock','SHA-256','undefined','/:uuid','nosniff','DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','patterns','WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.','vless://','append','signal','EdgeRuntime','read','/sb/:uuid','blob','/admin/login','ensureTablesExist\x20failed','respondWith','trim','ALL','newResponse','streamText','children','matchRoute','INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)','unshift','keepalive','flushUsage\x20outer','notFound','then','writeln','domain','node','callbacks','application/json;\x20charset=UTF-8','1188jYeBfe','from','add','repeat','entries','randomUUID','WASM\x20init\x20failed','param','\x0a</body></html>','prepare','catch','responseReadable','notFoundHandler','some','methods','getTime','referrer','varIndex','wasm\x20init\x20skipped','query','This\x20context\x20has\x20no\x20FetchEvent','&path=/ws#xray','lagon','/sb/','This\x20context\x20has\x20no\x20ExecutionContext','parsedBody','method','getParamValue','user_ip\x20upsert\x20failed','WASM\x20module\x20not\x20available\x20at\x20runtime:','getAllDecodedParams','res','length','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','routes','text/html;charset=utf-8','message','&gt;','subtle','toString','status','head','close','object','workerd','(?:','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','ip_port','route','Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.','Forbidden','Cookie','split','buildMatcher','x-content-type-options','accept','redirect','ip_limit','shift','8472bxZsEA','fetch','\x1b[32m','integrity','get','flush\x20usage\x20error','partitioned','put','secure','bodyUsed','UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?','patch','send','floor','isAdminRequest\x20error','number','string','ADMIN_KEY','WebSocketPair','clone','encode','body','routeIndex','json','admin\x20session\x20store\x20failed','gHSets','options','resolve','basePath','unknown','join','bodyCache','write\x20to\x20private\x20field','default','example.com','url','set','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','X-Content-Type-Options','insert','addEventListener','\x1b[0m\x20','forEach','Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.','pipe','finalized','possibleKeys','use','/ws','release','669798izBDXe',',\x20traffic_used\x20=\x200','pipeTo','header','delete',':443?type=ws&host=','Stringify','https://','function','waitUntil','fastly','&quot;','/api/user/:uuid/stats','replace','Missing\x20date/time','SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','Unlimited','strict','root','Missing\x20fields',';\x20Max-Age=','event','INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)','digest','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)',';\x20HttpOnly','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','set-cookie','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','includes','\x20WHERE\x20uuid\x20=\x20?','addRoute','request','CF-Connecting-IP','/login','other','</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20','Bun','Authentication\x20failed','params','uuid','jsonT','traffic_used','onAbort','path','matchedRoutes','test','queries','initial\x20header\x20parse\x20error','cookie','ACK'];a0_0x1778=function(){return _0xb9c4db;};return a0_0x1778();}var splitPath=_0x420412=>{const _0x23f3e0=a0_0x3acd,_0x57106f=_0x420412[_0x23f3e0(0x141)]('/');return _0x57106f[0x0]===''&&_0x57106f[_0x23f3e0(0x147)](),_0x57106f;},splitRoutingPath=_0x9173=>{const {groups:_0x39d8e7,path:_0x38692b}=extractGroupsFromPath(_0x9173),_0x49ee4b=splitPath(_0x38692b);return replaceGroupMarks(_0x49ee4b,_0x39d8e7);},extractGroupsFromPath=_0x4aa3c7=>{const _0x5ea2c1=a0_0x3acd,_0x83c241=[];return _0x4aa3c7=_0x4aa3c7[_0x5ea2c1(0x187)](/\{[^}]+\}/g,(_0xbf3f4,_0x4b30d9)=>{const _0x6f8620=_0x5ea2c1,_0x557548='@'+_0x4b30d9;return _0x83c241[_0x6f8620(0xab)]([_0x557548,_0xbf3f4]),_0x557548;}),{'groups':_0x83c241,'path':_0x4aa3c7};},replaceGroupMarks=(_0x34628d,_0x3ec344)=>{const _0x38e592=a0_0x3acd;for(let _0x1aab48=_0x3ec344[_0x38e592(0x12d)]-0x1;_0x1aab48>=0x0;_0x1aab48--){const [_0x1871d3]=_0x3ec344[_0x1aab48];for(let _0x3b356a=_0x34628d[_0x38e592(0x12d)]-0x1;_0x3b356a>=0x0;_0x3b356a--){if(_0x34628d[_0x3b356a][_0x38e592(0x198)](_0x1871d3)){_0x34628d[_0x3b356a]=_0x34628d[_0x3b356a][_0x38e592(0x187)](_0x1871d3,_0x3ec344[_0x1aab48][0x1]);break;}}}return _0x34628d;},patternCache={},getPattern=_0x43eedb=>{const _0x2d7365=a0_0x3acd;if(_0x43eedb==='*')return'*';const _0x2445fa=_0x43eedb[_0x2d7365(0x9c)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x2445fa)return!patternCache[_0x43eedb]&&(_0x2445fa[0x2]?patternCache[_0x43eedb]=[_0x43eedb,_0x2445fa[0x1],new RegExp('^'+_0x2445fa[0x2]+'$')]:patternCache[_0x43eedb]=[_0x43eedb,_0x2445fa[0x1],!![]]),patternCache[_0x43eedb];return null;},getPath=_0xd3cb07=>{const _0x134636=a0_0x3acd,_0x2e20f3=_0xd3cb07[_0x134636(0x16b)][_0x134636(0x9c)](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x2e20f3?_0x2e20f3[0x1]:'';},getQueryStrings=_0x33f509=>{const _0x217e59=a0_0x3acd,_0x57dd5b=_0x33f509[_0x217e59(0x1d9)]('?',0x8);return _0x57dd5b===-0x1?'':'?'+_0x33f509[_0x217e59(0x88)](_0x57dd5b+0x1);},getPathNoStrict=_0x50f019=>{const _0x66025d=a0_0x3acd,_0x408f6b=getPath(_0x50f019);return _0x408f6b['length']>0x1&&_0x408f6b[_0x408f6b['length']-0x1]==='/'?_0x408f6b[_0x66025d(0x88)](0x0,-0x1):_0x408f6b;},mergePath=(..._0x310d7c)=>{const _0x28fdea=a0_0x3acd;let _0x3e4b93='',_0x203214=![];for(let _0x32d24e of _0x310d7c){_0x3e4b93[_0x3e4b93[_0x28fdea(0x12d)]-0x1]==='/'&&(_0x3e4b93=_0x3e4b93['slice'](0x0,-0x1),_0x203214=!![]);_0x32d24e[0x0]!=='/'&&(_0x32d24e='/'+_0x32d24e);if(_0x32d24e==='/'&&_0x203214)_0x3e4b93=_0x3e4b93+'/';else _0x32d24e!=='/'&&(_0x3e4b93=''+_0x3e4b93+_0x32d24e);_0x32d24e==='/'&&_0x3e4b93===''&&(_0x3e4b93='/');}return _0x3e4b93;},checkOptionalParameter=_0x1bde44=>{const _0x26c780=a0_0x3acd;if(!_0x1bde44[_0x26c780(0x9c)](/\:.+\?$/))return null;const _0x4ac35d=_0x1bde44['split']('/'),_0xe793e0=[];let _0x254e28='';return _0x4ac35d['forEach'](_0x1498f2=>{const _0x2ecc97=_0x26c780;if(_0x1498f2!==''&&!/\:/[_0x2ecc97(0x1a9)](_0x1498f2))_0x254e28+='/'+_0x1498f2;else{if(/\:/[_0x2ecc97(0x1a9)](_0x1498f2)){if(/\?/['test'](_0x1498f2)){_0xe793e0[_0x2ecc97(0x12d)]===0x0&&_0x254e28===''?_0xe793e0[_0x2ecc97(0xab)]('/'):_0xe793e0[_0x2ecc97(0xab)](_0x254e28);const _0x442a70=_0x1498f2[_0x2ecc97(0x187)]('?','');_0x254e28+='/'+_0x442a70,_0xe793e0[_0x2ecc97(0xab)](_0x254e28);}else _0x254e28+='/'+_0x1498f2;}}}),_0xe793e0[_0x26c780(0x1c1)]((_0x567cbd,_0x4ef5ee,_0x40e5a7)=>_0x40e5a7['indexOf'](_0x567cbd)===_0x4ef5ee);},_decodeURI=_0x386cb3=>{const _0x63f201=a0_0x3acd;if(!/[%+]/[_0x63f201(0x1a9)](_0x386cb3))return _0x386cb3;return _0x386cb3['indexOf']('+')!==-0x1&&(_0x386cb3=_0x386cb3[_0x63f201(0x187)](/\+/g,'\x20')),/%/[_0x63f201(0x1a9)](_0x386cb3)?decodeURIComponent_(_0x386cb3):_0x386cb3;},_getQueryParam=(_0xea9bcc,_0x2e5e87,_0x202411)=>{const _0x4604f0=a0_0x3acd;let _0xb872ea;if(!_0x202411&&_0x2e5e87&&!/[%+]/[_0x4604f0(0x1a9)](_0x2e5e87)){let _0x170bf1=_0xea9bcc[_0x4604f0(0x1d9)]('?'+_0x2e5e87,0x8);_0x170bf1===-0x1&&(_0x170bf1=_0xea9bcc['indexOf']('&'+_0x2e5e87,0x8));while(_0x170bf1!==-0x1){const _0x5d0b42=_0xea9bcc[_0x4604f0(0xaf)](_0x170bf1+_0x2e5e87[_0x4604f0(0x12d)]+0x1);if(_0x5d0b42===0x3d){const _0x4cd916=_0x170bf1+_0x2e5e87['length']+0x2,_0x4e3c19=_0xea9bcc[_0x4604f0(0x1d9)]('&',_0x4cd916);return _decodeURI(_0xea9bcc[_0x4604f0(0x88)](_0x4cd916,_0x4e3c19===-0x1?void 0x0:_0x4e3c19));}else{if(_0x5d0b42==0x26||isNaN(_0x5d0b42))return'';}_0x170bf1=_0xea9bcc['indexOf']('&'+_0x2e5e87,_0x170bf1+0x1);}_0xb872ea=/[%+]/[_0x4604f0(0x1a9)](_0xea9bcc);if(!_0xb872ea)return void 0x0;}const _0x3094ec={};_0xb872ea??(_0xb872ea=/[%+]/['test'](_0xea9bcc));let _0x3eb49d=_0xea9bcc[_0x4604f0(0x1d9)]('?',0x8);while(_0x3eb49d!==-0x1){const _0x573037=_0xea9bcc['indexOf']('&',_0x3eb49d+0x1);let _0x52d40f=_0xea9bcc[_0x4604f0(0x1d9)]('=',_0x3eb49d);_0x52d40f>_0x573037&&_0x573037!==-0x1&&(_0x52d40f=-0x1);let _0x445e53=_0xea9bcc['slice'](_0x3eb49d+0x1,_0x52d40f===-0x1?_0x573037===-0x1?void 0x0:_0x573037:_0x52d40f);_0xb872ea&&(_0x445e53=_decodeURI(_0x445e53));_0x3eb49d=_0x573037;if(_0x445e53==='')continue;let _0x22399f;_0x52d40f===-0x1?_0x22399f='':(_0x22399f=_0xea9bcc['slice'](_0x52d40f+0x1,_0x573037===-0x1?void 0x0:_0x573037),_0xb872ea&&(_0x22399f=_decodeURI(_0x22399f)));if(_0x202411){!(_0x3094ec[_0x445e53]&&Array['isArray'](_0x3094ec[_0x445e53]))&&(_0x3094ec[_0x445e53]=[]);;_0x3094ec[_0x445e53][_0x4604f0(0xab)](_0x22399f);}else _0x3094ec[_0x445e53]??(_0x3094ec[_0x445e53]=_0x22399f);}return _0x2e5e87?_0x3094ec[_0x2e5e87]:_0x3094ec;},getQueryParam=_getQueryParam,getQueryParams=(_0x3ad758,_0x53b517)=>{return _getQueryParam(_0x3ad758,_0x53b517,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x4109a1,_0x376adc)=>{const _0x95e007=a0_0x3acd,_0x31d2e1=_0x4109a1[_0x95e007(0xfc)]()['split'](';');return _0x31d2e1['reduce']((_0xafab60,_0x989c91)=>{const _0x42363d=_0x95e007;_0x989c91=_0x989c91[_0x42363d(0xfc)]();const _0x591c94=_0x989c91[_0x42363d(0x1d9)]('=');if(_0x591c94===-0x1)return _0xafab60;const _0x425c8f=_0x989c91['substring'](0x0,_0x591c94)[_0x42363d(0xfc)]();if(_0x376adc&&_0x376adc!==_0x425c8f||!validCookieNameRegEx['test'](_0x425c8f))return _0xafab60;let _0x4254fa=_0x989c91[_0x42363d(0x94)](_0x591c94+0x1)['trim']();return _0x4254fa['startsWith']('\x22')&&_0x4254fa['endsWith']('\x22')&&(_0x4254fa=_0x4254fa[_0x42363d(0x88)](0x1,-0x1)),validCookieValueRegEx[_0x42363d(0x1a9)](_0x4254fa)&&(_0xafab60[_0x425c8f]=decodeURIComponent_(_0x4254fa)),_0xafab60;},{});},_serialize=(_0x16eb35,_0x4e73bd,_0x265625={})=>{const _0x43fa6d=a0_0x3acd;let _0x2fc483=_0x16eb35+'='+_0x4e73bd;return _0x265625&&typeof _0x265625['maxAge']===_0x43fa6d(0x157)&&_0x265625[_0x43fa6d(0x98)]>=0x0&&(_0x2fc483+=_0x43fa6d(0x18e)+Math[_0x43fa6d(0x155)](_0x265625['maxAge'])),_0x265625['domain']&&(_0x2fc483+=';\x20Domain='+_0x265625[_0x43fa6d(0x109)]),_0x265625[_0x43fa6d(0x1a7)]&&(_0x2fc483+=_0x43fa6d(0xa7)+_0x265625[_0x43fa6d(0x1a7)]),_0x265625[_0x43fa6d(0xe3)]&&(_0x2fc483+=';\x20Expires='+_0x265625['expires'][_0x43fa6d(0xbb)]()),_0x265625[_0x43fa6d(0xb6)]&&(_0x2fc483+=_0x43fa6d(0x194)),_0x265625[_0x43fa6d(0x150)]&&(_0x2fc483+=';\x20Secure'),_0x265625['sameSite']&&(_0x2fc483+=';\x20SameSite='+_0x265625['sameSite']),_0x265625[_0x43fa6d(0x14e)]&&(_0x2fc483+=_0x43fa6d(0x6c)),_0x2fc483;},serialize=(_0x14c2d6,_0x506172,_0x39ccfe={})=>{return _0x506172=encodeURIComponent(_0x506172),_serialize(_0x14c2d6,_0x506172,_0x39ccfe);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0xbacfd2,_0x256cc7)=>{const _0x5d034b=a0_0x3acd,_0x1b7bb5=new String(_0xbacfd2);return _0x1b7bb5[_0x5d034b(0x8c)]=!![],_0x1b7bb5[_0x5d034b(0x10b)]=_0x256cc7,_0x1b7bb5;},resolveCallback=async(_0x226288,_0x1da2e1,_0xdbfcde,_0x510e22,_0x5c88e0)=>{const _0x4a997d=a0_0x3acd,_0x149f3f=_0x226288['callbacks'];if(!_0x149f3f?.[_0x4a997d(0x12d)])return Promise[_0x4a997d(0x163)](_0x226288);_0x5c88e0?_0x5c88e0[0x0]+=_0x226288:_0x5c88e0=[_0x226288];const _0x3121ab=Promise['all'](_0x149f3f[_0x4a997d(0xb0)](_0x43483b=>_0x43483b({'phase':_0x1da2e1,'buffer':_0x5c88e0,'context':_0x510e22})))[_0x4a997d(0x107)](_0x3ff118=>Promise[_0x4a997d(0x6f)](_0x3ff118[_0x4a997d(0x1c1)](Boolean)[_0x4a997d(0xb0)](_0x3752e8=>resolveCallback(_0x3752e8,_0x1da2e1,![],_0x510e22,_0x5c88e0)))[_0x4a997d(0x107)](()=>_0x5c88e0[0x0]));return _0xdbfcde?raw(await _0x3121ab,_0x149f3f):_0x3121ab;},StreamingApi=class{constructor(_0x464b19,_0x2fbd44){const _0x5dfb81=a0_0x3acd;this[_0x5dfb81(0x6d)]=[],this[_0x5dfb81(0xd0)]=_0x464b19,this[_0x5dfb81(0x1c3)]=_0x464b19['getWriter'](),this[_0x5dfb81(0x1b4)]=new TextEncoder();const _0x482a8d=_0x2fbd44['getReader']();this[_0x5dfb81(0x118)]=new ReadableStream({async 'pull'(_0x51318b){const _0x1ca3a7=_0x5dfb81,{done:_0x4c1139,value:_0x22acad}=await _0x482a8d[_0x1ca3a7(0xf6)]();_0x4c1139?_0x51318b[_0x1ca3a7(0x137)]():_0x51318b['enqueue'](_0x22acad);},'cancel':()=>{const _0x536026=_0x5dfb81;this[_0x536026(0x6d)][_0x536026(0x172)](_0x14a7ea=>_0x14a7ea());}});}async[a0_0x531828(0x87)](_0x50390c){const _0x1d2cf8=a0_0x531828;try{typeof _0x50390c===_0x1d2cf8(0x158)&&(_0x50390c=this[_0x1d2cf8(0x1b4)][_0x1d2cf8(0x15c)](_0x50390c)),await this[_0x1d2cf8(0x1c3)]['write'](_0x50390c);}catch(_0x1eb103){}return this;}async[a0_0x531828(0x108)](_0x1ee5ea){const _0x4724e1=a0_0x531828;return await this[_0x4724e1(0x87)](_0x1ee5ea+'\x0a'),this;}[a0_0x531828(0x1b0)](_0x475d47){return new Promise(_0x51ed1c=>setTimeout(_0x51ed1c,_0x475d47));}async[a0_0x531828(0x137)](){const _0x17aa35=a0_0x531828;try{await this['writer'][_0x17aa35(0x137)]();}catch(_0x2c386e){}}async[a0_0x531828(0x174)](_0x2d387c){const _0x3e5f4e=a0_0x531828;this[_0x3e5f4e(0x1c3)][_0x3e5f4e(0xea)](),await _0x2d387c[_0x3e5f4e(0x17c)](this[_0x3e5f4e(0xd0)],{'preventClose':!![]}),this[_0x3e5f4e(0x1c3)]=this['writable'][_0x3e5f4e(0x1d5)]();}async[a0_0x531828(0x1a6)](_0x22ec30){const _0x5940f9=a0_0x531828;this['abortSubscribers'][_0x5940f9(0xab)](_0x22ec30);}},__accessCheck=(_0x42d7e2,_0x2ab738,_0x4d3970)=>{const _0x3fc7a1=a0_0x531828;if(!_0x2ab738['has'](_0x42d7e2))throw TypeError(_0x3fc7a1(0x1b1)+_0x4d3970);},__privateGet=(_0x176371,_0x19e6e4,_0x256a72)=>{const _0x2b612b=a0_0x531828;return __accessCheck(_0x176371,_0x19e6e4,_0x2b612b(0xbe)),_0x256a72?_0x256a72[_0x2b612b(0xc1)](_0x176371):_0x19e6e4['get'](_0x176371);},__privateAdd=(_0x56506d,_0x4da87b,_0x524d26)=>{const _0x1f2a92=a0_0x531828;if(_0x4da87b[_0x1f2a92(0xe4)](_0x56506d))throw TypeError(_0x1f2a92(0x16d));_0x4da87b instanceof WeakSet?_0x4da87b[_0x1f2a92(0x10f)](_0x56506d):_0x4da87b['set'](_0x56506d,_0x524d26);},__privateSet=(_0x71f62,_0x37d31a,_0x13f9af,_0x5886ea)=>{const _0x175240=a0_0x531828;return __accessCheck(_0x71f62,_0x37d31a,_0x175240(0x168)),_0x5886ea?_0x5886ea['call'](_0x71f62,_0x13f9af):_0x37d31a[_0x175240(0x16c)](_0x71f62,_0x13f9af),_0x13f9af;},TEXT_PLAIN=a0_0x531828(0x9e),setHeaders=(_0x2cdbf3,_0x75b776={})=>{const _0x216c1d=a0_0x531828;return Object[_0x216c1d(0x111)](_0x75b776)[_0x216c1d(0x172)](([_0x3bbc7a,_0x2d7198])=>_0x2cdbf3['set'](_0x3bbc7a,_0x2d7198)),_0x2cdbf3;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x4c39a0,_0x2d70fb){const _0x58c797=a0_0x531828;this['env']={},this['_var']={},this[_0x58c797(0x175)]=![],this[_0x58c797(0x82)]=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this['renderer']=_0x3f22cd=>this[_0x58c797(0xdf)](_0x3f22cd),this[_0x58c797(0x119)]=()=>new Response(),this[_0x58c797(0x89)]=(..._0x392142)=>this[_0x58c797(0xc8)](..._0x392142),this[_0x58c797(0x76)]=_0x2ea35d=>{const _0x427519=_0x58c797;this[_0x427519(0xc8)]=_0x2ea35d;},this[_0x58c797(0x17d)]=(_0x3aeb07,_0x4ff973,_0x4233e5)=>{const _0x1f25ea=_0x58c797;if(_0x4ff973===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)[_0x1f25ea(0x17e)](_0x3aeb07);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x3aeb07[_0x1f25ea(0xe5)]()];this['finalized']&&this['res']['headers'][_0x1f25ea(0x17e)](_0x3aeb07);return;}_0x4233e5?.[_0x1f25ea(0xf3)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)[_0x1f25ea(0xf3)](_0x3aeb07,_0x4ff973)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x1f25ea(0x16c)](_0x3aeb07,_0x4ff973):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x3aeb07[_0x1f25ea(0x1c7)]()]=_0x4ff973),this[_0x1f25ea(0x175)]&&(_0x4233e5?.['append']?this[_0x1f25ea(0x12c)][_0x1f25ea(0xb7)][_0x1f25ea(0xf3)](_0x3aeb07,_0x4ff973):this['res'][_0x1f25ea(0xb7)][_0x1f25ea(0x16c)](_0x3aeb07,_0x4ff973));},this[_0x58c797(0x135)]=_0x15edeb=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x15edeb);},this[_0x58c797(0x16c)]=(_0x5c0642,_0x3e547)=>{const _0x3aeafb=_0x58c797;this['_var']??(this[_0x3aeafb(0xda)]={}),this['_var'][_0x5c0642]=_0x3e547;},this[_0x58c797(0x14c)]=_0x123341=>{const _0x5a3c74=_0x58c797;return this[_0x5a3c74(0xda)]?this['_var'][_0x123341]:void 0x0;},this[_0x58c797(0xfe)]=(_0x2922ff,_0x3dfcf3,_0x52f07c)=>{const _0x2e8494=_0x58c797;if(__privateGet(this,_isFresh)&&!_0x52f07c&&!_0x3dfcf3&&__privateGet(this,_status)===0xc8)return new Response(_0x2922ff,{'headers':__privateGet(this,_preparedHeaders)});if(_0x3dfcf3&&typeof _0x3dfcf3!=='number'){const _0x27c248=setHeaders(new Headers(_0x3dfcf3[_0x2e8494(0xb7)]),__privateGet(this,_preparedHeaders));return new Response(_0x2922ff,{'headers':_0x27c248,'status':_0x3dfcf3[_0x2e8494(0x135)]});}const _0x2af33c=typeof _0x3dfcf3===_0x2e8494(0x157)?_0x3dfcf3:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)['headers'][_0x2e8494(0x172)]((_0x5b97f8,_0x4e5c1e)=>{__privateGet(this,_headers)?.['set'](_0x4e5c1e,_0x5b97f8);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x52f07c??(_0x52f07c={});for(const [_0x13e00f,_0x11b2a1]of Object[_0x2e8494(0x111)](_0x52f07c)){if(typeof _0x11b2a1===_0x2e8494(0x158))__privateGet(this,_headers)[_0x2e8494(0x16c)](_0x13e00f,_0x11b2a1);else{__privateGet(this,_headers)[_0x2e8494(0x17e)](_0x13e00f);for(const _0xfc6e4a of _0x11b2a1){__privateGet(this,_headers)[_0x2e8494(0xf3)](_0x13e00f,_0xfc6e4a);}}}return new Response(_0x2922ff,{'status':_0x2af33c,'headers':__privateGet(this,_headers)});},this[_0x58c797(0x15d)]=(_0xa2b18c,_0x2fcd29,_0xa69749)=>{const _0x229c63=_0x58c797;return typeof _0x2fcd29==='number'?this[_0x229c63(0xfe)](_0xa2b18c,_0x2fcd29,_0xa69749):this[_0x229c63(0xfe)](_0xa2b18c,_0x2fcd29);},this['text']=(_0x1b2f09,_0x41d22c,_0x2e29d6)=>{const _0x48f5e5=_0x58c797;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0x2e29d6&&!_0x41d22c)return new Response(_0x1b2f09);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)[_0x48f5e5(0x1ca)]=TEXT_PLAIN,typeof _0x41d22c===_0x48f5e5(0x157)?this[_0x48f5e5(0xfe)](_0x1b2f09,_0x41d22c,_0x2e29d6):this[_0x48f5e5(0xfe)](_0x1b2f09,_0x41d22c);},this[_0x58c797(0x15f)]=(_0x3e2f4d,_0x1df44d,_0x5184a8)=>{const _0xe5cf92=_0x58c797,_0x3753a2=JSON[_0xe5cf92(0xcd)](_0x3e2f4d);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0xe5cf92(0x1ca)]=_0xe5cf92(0x10c),typeof _0x1df44d==='number'?this[_0xe5cf92(0xfe)](_0x3753a2,_0x1df44d,_0x5184a8):this[_0xe5cf92(0xfe)](_0x3753a2,_0x1df44d);},this[_0x58c797(0x1a4)]=(_0x45c96f,_0x5917dd,_0x536d7e)=>{const _0x1ae707=_0x58c797;return this[_0x1ae707(0x15f)](_0x45c96f,_0x5917dd,_0x536d7e);},this[_0x58c797(0xdf)]=(_0x173cb2,_0x2b144b,_0x3a4c23)=>{const _0x2470de=_0x58c797;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x2470de(0x1ca)]='text/html;\x20charset=UTF-8';if(typeof _0x173cb2===_0x2470de(0x138)){!(_0x173cb2 instanceof Promise)&&(_0x173cb2=_0x173cb2[_0x2470de(0x134)]());if(_0x173cb2 instanceof Promise)return _0x173cb2[_0x2470de(0x107)](_0x1af580=>resolveCallback(_0x1af580,HtmlEscapedCallbackPhase[_0x2470de(0x180)],![],{}))['then'](_0x17d0ef=>{const _0x121872=_0x2470de;return typeof _0x2b144b===_0x121872(0x157)?this[_0x121872(0xfe)](_0x17d0ef,_0x2b144b,_0x3a4c23):this[_0x121872(0xfe)](_0x17d0ef,_0x2b144b);});}return typeof _0x2b144b==='number'?this['newResponse'](_0x173cb2,_0x2b144b,_0x3a4c23):this['newResponse'](_0x173cb2,_0x2b144b);},this[_0x58c797(0x145)]=(_0x366b82,_0x4c8512=0x12e)=>{const _0xc46b0=_0x58c797;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0xc46b0(0x16c)]('Location',_0x366b82),this[_0xc46b0(0xfe)](null,_0x4c8512);},this[_0x58c797(0xff)]=(_0x223c0c,_0x1f57bd,_0x5739eb)=>{const _0x458435=_0x58c797;return _0x5739eb??(_0x5739eb={}),this[_0x458435(0x17d)](_0x458435(0x1ca),TEXT_PLAIN),this[_0x458435(0x17d)](_0x458435(0x143),_0x458435(0xee)),this['header']('transfer-encoding',_0x458435(0xa2)),this['stream'](_0x223c0c,_0x1f57bd,_0x5739eb);},this[_0x58c797(0x71)]=(_0x51ec44,_0x787610,_0xc5bb1a)=>{const _0x18719e=_0x58c797,{readable:_0x315d9f,writable:_0x21cb48}=new TransformStream(),_0x4b4cea=new StreamingApi(_0x21cb48,_0x315d9f);return _0x51ec44(_0x4b4cea)[_0x18719e(0x1cf)](()=>_0x4b4cea[_0x18719e(0x137)]()),typeof _0x787610===_0x18719e(0x157)?this['newResponse'](_0x4b4cea[_0x18719e(0x118)],_0x787610,_0xc5bb1a):this[_0x18719e(0xfe)](_0x4b4cea[_0x18719e(0x118)],_0x787610);},this[_0x58c797(0x1ac)]=(_0x2e8f7f,_0x5b4986,_0x1a43c6)=>{const _0x559235=_0x58c797,_0x3d3113=serialize(_0x2e8f7f,_0x5b4986,_0x1a43c6);this[_0x559235(0x17d)](_0x559235(0x196),_0x3d3113,{'append':!![]});},this[_0x58c797(0x106)]=()=>{const _0x38568c=_0x58c797;return this[_0x38568c(0x119)](this);},this['req']=_0x4c39a0,_0x2d70fb&&(__privateSet(this,_executionCtx,_0x2d70fb[_0x58c797(0x74)]),this[_0x58c797(0x1be)]=_0x2d70fb[_0x58c797(0x1be)],_0x2d70fb['notFoundHandler']&&(this['notFoundHandler']=_0x2d70fb[_0x58c797(0x119)]));}get[a0_0x531828(0x18f)](){const _0x3e0863=a0_0x531828;if(__privateGet(this,_executionCtx)&&_0x3e0863(0xfb)in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x3e0863(0x121));}get['executionCtx'](){const _0x271619=a0_0x531828;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x271619(0x125));}get[a0_0x531828(0x12c)](){const _0x4717cf=a0_0x531828;return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response(_0x4717cf(0x7d),{'status':0x194}));}set[a0_0x531828(0x12c)](_0x15803f){const _0x4ff041=a0_0x531828;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x15803f){__privateGet(this,_res)[_0x4ff041(0xb7)][_0x4ff041(0x17e)](_0x4ff041(0x1ca));for(const [_0x10f5ff,_0x320a3e]of __privateGet(this,_res)[_0x4ff041(0xb7)][_0x4ff041(0x111)]()){if(_0x10f5ff===_0x4ff041(0x196)){const _0x9039db=__privateGet(this,_res)[_0x4ff041(0xb7)]['getSetCookie']();_0x15803f[_0x4ff041(0xb7)][_0x4ff041(0x17e)]('set-cookie');for(const _0x5e4086 of _0x9039db){_0x15803f[_0x4ff041(0xb7)][_0x4ff041(0xf3)](_0x4ff041(0x196),_0x5e4086);}}else _0x15803f[_0x4ff041(0xb7)][_0x4ff041(0x16c)](_0x10f5ff,_0x320a3e);}}__privateSet(this,_res,_0x15803f),this[_0x4ff041(0x175)]=!![];}get['var'](){return{...this['_var']};}get[a0_0x531828(0xe1)](){const _0xb05c2a=a0_0x531828,_0x20b553=globalThis;if(_0x20b553?.[_0xb05c2a(0xa3)]!==void 0x0)return _0xb05c2a(0x1c2);if(_0x20b553?.[_0xb05c2a(0x1a0)]!==void 0x0)return _0xb05c2a(0xe9);if(typeof _0x20b553?.[_0xb05c2a(0x15a)]===_0xb05c2a(0x182))return _0xb05c2a(0x139);if(typeof _0x20b553?.[_0xb05c2a(0xf5)]===_0xb05c2a(0x158))return _0xb05c2a(0x1c0);if(_0x20b553?.[_0xb05c2a(0x184)]!==void 0x0)return _0xb05c2a(0x184);if(_0x20b553?.[_0xb05c2a(0xd6)]!==void 0x0)return _0xb05c2a(0x123);if(_0x20b553?.[_0xb05c2a(0xde)]?.[_0xb05c2a(0x179)]?.[_0xb05c2a(0x8a)]==='node')return _0xb05c2a(0x10a);return _0xb05c2a(0x19e);}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x3b099e,_0x287ddd,_0xecc9d3)=>{return(_0x345630,_0x1d77d6)=>{let _0x118154=-0x1;return _0x82dcea(0x0);async function _0x82dcea(_0x64c049){const _0x96c831=a0_0x3acd;if(_0x64c049<=_0x118154)throw new Error('next()\x20called\x20multiple\x20times');_0x118154=_0x64c049;let _0x52ee67,_0x525e2b=![],_0x5d706f;_0x3b099e[_0x64c049]?(_0x5d706f=_0x3b099e[_0x64c049][0x0][0x0],_0x345630 instanceof Context&&(_0x345630[_0x96c831(0x9b)][_0x96c831(0x15e)]=_0x64c049)):_0x5d706f=_0x64c049===_0x3b099e['length']&&_0x1d77d6||void 0x0;if(!_0x5d706f)_0x345630 instanceof Context&&_0x345630[_0x96c831(0x175)]===![]&&_0xecc9d3&&(_0x52ee67=await _0xecc9d3(_0x345630));else try{_0x52ee67=await _0x5d706f(_0x345630,()=>{return _0x82dcea(_0x64c049+0x1);});}catch(_0x32ece3){if(_0x32ece3 instanceof Error&&_0x345630 instanceof Context&&_0x287ddd)_0x345630[_0x96c831(0x82)]=_0x32ece3,_0x52ee67=await _0x287ddd(_0x32ece3,_0x345630),_0x525e2b=!![];else throw _0x32ece3;}return _0x52ee67&&(_0x345630[_0x96c831(0x175)]===![]||_0x525e2b)&&(_0x345630['res']=_0x52ee67),_0x345630;}};},HTTPException=class extends Error{constructor(_0x37e360=0x1f4,_0x49dcbe){const _0x31ffb6=a0_0x531828;super(_0x49dcbe?.[_0x31ffb6(0x131)]),this[_0x31ffb6(0x12c)]=_0x49dcbe?.[_0x31ffb6(0x12c)],this[_0x31ffb6(0x135)]=_0x37e360;}['getResponse'](){const _0x33c852=a0_0x531828;if(this['res'])return this[_0x33c852(0x12c)];return new Response(this[_0x33c852(0x131)],{'status':this[_0x33c852(0x135)]});}},parseBody=async(_0x3cb0df,_0x1aac44={'all':![]})=>{const _0x42903d=a0_0x531828,_0x2daaab=_0x3cb0df[_0x42903d(0xb7)][_0x42903d(0x14c)]('Content-Type');if(isFormDataContent(_0x2daaab))return parseFormData(_0x3cb0df,_0x1aac44);return{};};function isFormDataContent(_0x2b4218){const _0x53c1e1=a0_0x531828;if(_0x2b4218===null)return![];return _0x2b4218['startsWith']('multipart/form-data')||_0x2b4218[_0x53c1e1(0xa0)](_0x53c1e1(0xe2));}async function parseFormData(_0x248c24,_0x17030b){const _0x498769=a0_0x531828,_0x31df2e=await _0x248c24[_0x498769(0x9f)]();if(_0x31df2e)return convertFormDataToBodyData(_0x31df2e,_0x17030b);return{};}function convertFormDataToBodyData(_0x20332a,_0x1eaa44){const _0x170b5a={};return _0x20332a['forEach']((_0x2fded5,_0x5b65f5)=>{const _0x51c3fc=a0_0x3acd,_0x258e7d=_0x1eaa44[_0x51c3fc(0x6f)]||_0x5b65f5[_0x51c3fc(0x1da)]('[]');!_0x258e7d?_0x170b5a[_0x5b65f5]=_0x2fded5:handleParsingAllValues(_0x170b5a,_0x5b65f5,_0x2fded5);}),_0x170b5a;}var handleParsingAllValues=(_0x77db15,_0x159ad3,_0x4029cd)=>{if(_0x77db15[_0x159ad3]&&isArrayField(_0x77db15[_0x159ad3]))appendToExistingArray(_0x77db15[_0x159ad3],_0x4029cd);else _0x77db15[_0x159ad3]?convertToNewArray(_0x77db15,_0x159ad3,_0x4029cd):_0x77db15[_0x159ad3]=_0x4029cd;};function isArrayField(_0x314083){const _0x496a24=a0_0x531828;return Array[_0x496a24(0xc3)](_0x314083);}var appendToExistingArray=(_0xcd8fff,_0xae2dd)=>{const _0x4c4ba3=a0_0x531828;_0xcd8fff[_0x4c4ba3(0xab)](_0xae2dd);},convertToNewArray=(_0x29529d,_0x364f84,_0x349c7e)=>{_0x29529d[_0x364f84]=[_0x29529d[_0x364f84],_0x349c7e];},__accessCheck2=(_0x111715,_0x41970f,_0x25db2f)=>{const _0x2e4e14=a0_0x531828;if(!_0x41970f[_0x2e4e14(0xe4)](_0x111715))throw TypeError(_0x2e4e14(0x1b1)+_0x25db2f);},__privateGet2=(_0x2e8e4f,_0x56772a,_0x12bd8a)=>{const _0x8d424e=a0_0x531828;return __accessCheck2(_0x2e8e4f,_0x56772a,'read\x20from\x20private\x20field'),_0x12bd8a?_0x12bd8a[_0x8d424e(0xc1)](_0x2e8e4f):_0x56772a[_0x8d424e(0x14c)](_0x2e8e4f);},__privateAdd2=(_0x2d2292,_0x119c83,_0x18364c)=>{const _0x2ac923=a0_0x531828;if(_0x119c83[_0x2ac923(0xe4)](_0x2d2292))throw TypeError(_0x2ac923(0x16d));_0x119c83 instanceof WeakSet?_0x119c83[_0x2ac923(0x10f)](_0x2d2292):_0x119c83[_0x2ac923(0x16c)](_0x2d2292,_0x18364c);},__privateSet2=(_0x2bb2f2,_0x6689de,_0x45223f,_0x146b34)=>{const _0x452c6f=a0_0x531828;return __accessCheck2(_0x2bb2f2,_0x6689de,'write\x20to\x20private\x20field'),_0x146b34?_0x146b34[_0x452c6f(0xc1)](_0x2bb2f2,_0x45223f):_0x6689de[_0x452c6f(0x16c)](_0x2bb2f2,_0x45223f),_0x45223f;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x835f57,_0x2caf02='/',_0x70a9fb=[[]]){const _0x3b7ddf=a0_0x531828;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this['routeIndex']=0x0,this['bodyCache']={},this[_0x3b7ddf(0x83)]=_0xf52ef6=>{const _0x2cd21c=_0x3b7ddf,{bodyCache:_0x4719a3,raw:_0x152fc0}=this,_0x886165=_0x4719a3[_0xf52ef6];if(_0x886165)return _0x886165;if(_0x4719a3[_0x2cd21c(0x1c4)])return((async()=>{const _0x328e8e=_0x2cd21c;return await new Response(_0x4719a3[_0x328e8e(0x1c4)])[_0xf52ef6]();})());return _0x4719a3[_0xf52ef6]=_0x152fc0[_0xf52ef6]();},this[_0x3b7ddf(0xc5)]=_0x835f57,this[_0x3b7ddf(0x1a7)]=_0x2caf02,__privateSet2(this,_matchResult,_0x70a9fb),__privateSet2(this,_validatedData,{});}[a0_0x531828(0x114)](_0x1a084e){const _0x188d6a=a0_0x531828;return _0x1a084e?this['getDecodedParam'](_0x1a084e):this[_0x188d6a(0x12b)]();}['getDecodedParam'](_0x45c8ec){const _0x575bd7=a0_0x531828,_0x47db4c=__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1][_0x45c8ec],_0x10c0ea=this[_0x575bd7(0x128)](_0x47db4c);return _0x10c0ea?/\%/[_0x575bd7(0x1a9)](_0x10c0ea)?decodeURIComponent_(_0x10c0ea):_0x10c0ea:void 0x0;}[a0_0x531828(0x12b)](){const _0xf221f6=a0_0x531828,_0x70de03={},_0x34d029=Object[_0xf221f6(0x80)](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1]);for(const _0x3d323e of _0x34d029){const _0x398c1a=this[_0xf221f6(0x128)](__privateGet2(this,_matchResult)[0x0][this[_0xf221f6(0x15e)]][0x1][_0x3d323e]);_0x398c1a&&typeof _0x398c1a==='string'&&(_0x70de03[_0x3d323e]=/\%/[_0xf221f6(0x1a9)](_0x398c1a)?decodeURIComponent_(_0x398c1a):_0x398c1a);}return _0x70de03;}[a0_0x531828(0x128)](_0x3406bb){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x3406bb]:_0x3406bb;}[a0_0x531828(0x120)](_0x566b31){const _0x472f73=a0_0x531828;return getQueryParam(this[_0x472f73(0x16b)],_0x566b31);}[a0_0x531828(0x1aa)](_0x17671b){const _0x1b8284=a0_0x531828;return getQueryParams(this[_0x1b8284(0x16b)],_0x17671b);}[a0_0x531828(0x17d)](_0x218355){const _0x70feeb=a0_0x531828;if(_0x218355)return this['raw'][_0x70feeb(0xb7)]['get'](_0x218355[_0x70feeb(0x1c7)]())??void 0x0;const _0x1a9ffe={};return this[_0x70feeb(0xc5)][_0x70feeb(0xb7)][_0x70feeb(0x172)]((_0x3ccc20,_0x3bfdbe)=>{_0x1a9ffe[_0x3bfdbe]=_0x3ccc20;}),_0x1a9ffe;}[a0_0x531828(0x1ac)](_0x18ef9a){const _0x4a4801=a0_0x531828,_0x5128d=this['raw'][_0x4a4801(0xb7)][_0x4a4801(0x14c)](_0x4a4801(0x140));if(!_0x5128d)return;const _0x15cac4=parse(_0x5128d);if(_0x18ef9a){const _0x2d75ec=_0x15cac4[_0x18ef9a];return _0x2d75ec;}else return _0x15cac4;}async[a0_0x531828(0x73)](_0x42c7c5){const _0x2c06b8=a0_0x531828;if(this['bodyCache'][_0x2c06b8(0x126)])return this[_0x2c06b8(0x167)][_0x2c06b8(0x126)];const _0x2b1637=await parseBody(this,_0x42c7c5);return this[_0x2c06b8(0x167)][_0x2c06b8(0x126)]=_0x2b1637,_0x2b1637;}[a0_0x531828(0x15f)](){const _0x1c351e=a0_0x531828;return this['cachedBody'](_0x1c351e(0x15f));}[a0_0x531828(0x1ba)](){const _0x9d458f=a0_0x531828;return this[_0x9d458f(0x83)](_0x9d458f(0x1ba));}[a0_0x531828(0x1c4)](){const _0x13a84f=a0_0x531828;return this[_0x13a84f(0x83)](_0x13a84f(0x1c4));}['blob'](){const _0x4b5440=a0_0x531828;return this[_0x4b5440(0x83)](_0x4b5440(0xf8));}['formData'](){const _0xc93a7a=a0_0x531828;return this[_0xc93a7a(0x83)](_0xc93a7a(0x9f));}['addValidatedData'](_0x1896b4,_0x32e5cf){__privateGet2(this,_validatedData)[_0x1896b4]=_0x32e5cf;}[a0_0x531828(0xaa)](_0xc1ef9c){return __privateGet2(this,_validatedData)[_0xc1ef9c];}get[a0_0x531828(0x16b)](){const _0x4a4443=a0_0x531828;return this[_0x4a4443(0xc5)][_0x4a4443(0x16b)];}get[a0_0x531828(0x127)](){const _0x12aceb=a0_0x531828;return this[_0x12aceb(0xc5)][_0x12aceb(0x127)];}get[a0_0x531828(0x1a8)](){const _0x3a8a87=a0_0x531828;return __privateGet2(this,_matchResult)[0x0][_0x3a8a87(0xb0)](([[,_0x147e58]])=>_0x147e58);}get[a0_0x531828(0xe0)](){const _0x2a0ed4=a0_0x531828;return __privateGet2(this,_matchResult)[0x0]['map'](([[,_0x33fc3c]])=>_0x33fc3c)[this[_0x2a0ed4(0x15e)]][_0x2a0ed4(0x1a7)];}get['headers'](){const _0x2d1a26=a0_0x531828;return this[_0x2d1a26(0xc5)][_0x2d1a26(0xb7)];}get[a0_0x531828(0x15d)](){const _0x4f4e94=a0_0x531828;return this[_0x4f4e94(0xc5)][_0x4f4e94(0x15d)];}get[a0_0x531828(0x151)](){const _0x5108af=a0_0x531828;return this[_0x5108af(0xc5)]['bodyUsed'];}get[a0_0x531828(0x14b)](){return this['raw']['integrity'];}get[a0_0x531828(0x104)](){const _0x2dc084=a0_0x531828;return this['raw'][_0x2dc084(0x104)];}get[a0_0x531828(0x11d)](){const _0x550728=a0_0x531828;return this[_0x550728(0xc5)]['referrer'];}get[a0_0x531828(0xf4)](){const _0x2433c5=a0_0x531828;return this[_0x2433c5(0xc5)]['signal'];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0x531828(0xfd),METHOD_NAME_ALL_LOWERCASE='all',METHODS=[a0_0x531828(0x14c),a0_0x531828(0xae),a0_0x531828(0x14f),a0_0x531828(0x17e),a0_0x531828(0x162),a0_0x531828(0x153)],MESSAGE_MATCHER_IS_ALREADY_BUILT=a0_0x531828(0x173),UnsupportedPathError=class extends Error{},__accessCheck3=(_0x5d21e8,_0x3f875b,_0x829aa1)=>{const _0x496c99=a0_0x531828;if(!_0x3f875b[_0x496c99(0xe4)](_0x5d21e8))throw TypeError(_0x496c99(0x1b1)+_0x829aa1);},__privateGet3=(_0x1c6433,_0x187f92,_0x32079b)=>{const _0x3506f6=a0_0x531828;return __accessCheck3(_0x1c6433,_0x187f92,_0x3506f6(0xbe)),_0x32079b?_0x32079b['call'](_0x1c6433):_0x187f92['get'](_0x1c6433);},__privateAdd3=(_0x344b0f,_0x3d16e2,_0x3c432c)=>{const _0x1a5994=a0_0x531828;if(_0x3d16e2['has'](_0x344b0f))throw TypeError(_0x1a5994(0x16d));_0x3d16e2 instanceof WeakSet?_0x3d16e2[_0x1a5994(0x10f)](_0x344b0f):_0x3d16e2[_0x1a5994(0x16c)](_0x344b0f,_0x3c432c);},__privateSet3=(_0x581df6,_0x117a7c,_0x332c8e,_0x3f7008)=>{const _0x3f1bb6=a0_0x531828;return __accessCheck3(_0x581df6,_0x117a7c,_0x3f1bb6(0x168)),_0x3f7008?_0x3f7008[_0x3f1bb6(0xc1)](_0x581df6,_0x332c8e):_0x117a7c[_0x3f1bb6(0x16c)](_0x581df6,_0x332c8e),_0x332c8e;},COMPOSED_HANDLER=Symbol(a0_0x531828(0x1bc));function defineDynamicClass(){return class{};}var notFoundHandler=_0x1caf4f=>{const _0x23119b=a0_0x531828;return _0x1caf4f[_0x23119b(0x1ba)]('404\x20Not\x20Found',0x194);},errorHandler=(_0x23c7b0,_0x357cb4)=>{const _0x21e644=a0_0x531828;if(_0x23c7b0 instanceof HTTPException)return _0x23c7b0[_0x21e644(0x1dc)]();console[_0x21e644(0x82)](_0x23c7b0);const _0xfd92f='Internal\x20Server\x20Error';return _0x357cb4[_0x21e644(0x1ba)](_0xfd92f,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x48c743={}){const _0x4072dc=a0_0x531828;super(),this[_0x4072dc(0xd5)]='/',__privateAdd3(this,_path,'/'),this[_0x4072dc(0x12f)]=[],this[_0x4072dc(0x119)]=notFoundHandler,this[_0x4072dc(0xa1)]=errorHandler,this[_0x4072dc(0x1b3)]=_0x1ae27e=>{const _0x422321=_0x4072dc;return this[_0x422321(0xa1)]=_0x1ae27e,this;},this[_0x4072dc(0x106)]=_0x2b7456=>{const _0x755d7f=_0x4072dc;return this[_0x755d7f(0x119)]=_0x2b7456,this;},this[_0x4072dc(0x136)]=()=>{const _0x5430f6=_0x4072dc;return console[_0x5430f6(0xb1)](_0x5430f6(0x12e)),this;},this[_0x4072dc(0xd3)]=_0x24d5b2=>{const _0xee9e6=_0x4072dc;return this[_0xee9e6(0xd7)](_0x24d5b2[_0xee9e6(0x19b)],_0x24d5b2,void 0x0,_0x24d5b2[_0xee9e6(0x19b)][_0xee9e6(0x127)]);},this[_0x4072dc(0x149)]=(_0x25af2a,_0x388b3b,_0x11bd17)=>{const _0x107be3=_0x4072dc;return this['dispatch'](_0x25af2a,_0x11bd17,_0x388b3b,_0x25af2a[_0x107be3(0x127)]);},this['request']=(_0x4c5279,_0x5a59fc,_0x41a2af,_0x4eefb0)=>{const _0x194898=_0x4072dc;if(_0x4c5279 instanceof Request)return _0x5a59fc!==void 0x0&&(_0x4c5279=new Request(_0x4c5279,_0x5a59fc)),this[_0x194898(0x149)](_0x4c5279,_0x41a2af,_0x4eefb0);_0x4c5279=_0x4c5279[_0x194898(0x134)]();const _0x5bc85e=/^https?:\/\//[_0x194898(0x1a9)](_0x4c5279)?_0x4c5279:_0x194898(0x1cd)+mergePath('/',_0x4c5279),_0x27ede9=new Request(_0x5bc85e,_0x5a59fc);return this[_0x194898(0x149)](_0x27ede9,_0x41a2af,_0x4eefb0);},this['fire']=()=>{const _0x18c5d2=_0x4072dc;addEventListener(_0x18c5d2(0x149),_0x1edf0c=>{const _0x25f913=_0x18c5d2;_0x1edf0c['respondWith'](this[_0x25f913(0xd7)](_0x1edf0c['request'],_0x1edf0c,void 0x0,_0x1edf0c[_0x25f913(0x19b)][_0x25f913(0x127)]));});};const _0x25acc7=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x25acc7[_0x4072dc(0xb0)](_0x48aabb=>{this[_0x48aabb]=(_0x71da32,..._0x4a9ba9)=>{const _0x53586e=a0_0x3acd;return typeof _0x71da32===_0x53586e(0x158)?__privateSet3(this,_path,_0x71da32):this[_0x53586e(0x19a)](_0x48aabb,__privateGet3(this,_path),_0x71da32),_0x4a9ba9['map'](_0x5834c1=>{const _0x498473=_0x53586e;typeof _0x5834c1!==_0x498473(0x158)&&this[_0x498473(0x19a)](_0x48aabb,__privateGet3(this,_path),_0x5834c1);}),this;};}),this['on']=(_0x4a9ef6,_0x1ff995,..._0x24f22a)=>{const _0x3ee354=_0x4072dc;if(!_0x4a9ef6)return this;__privateSet3(this,_path,_0x1ff995);for(const _0x221bd0 of[_0x4a9ef6][_0x3ee354(0x1c5)]()){_0x24f22a['map'](_0x15d0b1=>{const _0x5701d4=_0x3ee354;this[_0x5701d4(0x19a)](_0x221bd0[_0x5701d4(0x84)](),__privateGet3(this,_path),_0x15d0b1);});}return this;},this[_0x4072dc(0x177)]=(_0x3bc711,..._0x280940)=>{const _0xfd1d46=_0x4072dc;return typeof _0x3bc711==='string'?__privateSet3(this,_path,_0x3bc711):_0x280940[_0xfd1d46(0x103)](_0x3bc711),_0x280940[_0xfd1d46(0xb0)](_0x347c42=>{const _0x1e834e=_0xfd1d46;this[_0x1e834e(0x19a)](METHOD_NAME_ALL,__privateGet3(this,_path),_0x347c42);}),this;};const _0x98b930=_0x48c743[_0x4072dc(0x18b)]??!![];delete _0x48c743[_0x4072dc(0x18b)],Object['assign'](this,_0x48c743),this[_0x4072dc(0xb8)]=_0x98b930?_0x48c743[_0x4072dc(0xb8)]??getPath:getPathNoStrict;}[a0_0x531828(0x15b)](){const _0x1e8899=a0_0x531828,_0x211f55=new _Hono({'router':this['router'],'getPath':this[_0x1e8899(0xb8)]});return _0x211f55[_0x1e8899(0x12f)]=this[_0x1e8899(0x12f)],_0x211f55;}[a0_0x531828(0x13d)](_0x59f14d,_0x8fe2aa){const _0x66a578=a0_0x531828,_0x4536b3=this[_0x66a578(0x164)](_0x59f14d);if(!_0x8fe2aa)return _0x4536b3;return _0x8fe2aa[_0x66a578(0x12f)][_0x66a578(0xb0)](_0x2c8c9f=>{const _0x2e2901=_0x66a578;let _0x58783d;_0x8fe2aa[_0x2e2901(0xa1)]===errorHandler?_0x58783d=_0x2c8c9f[_0x2e2901(0x1bf)]:(_0x58783d=async(_0xe7033b,_0x4550f5)=>(await compose([],_0x8fe2aa[_0x2e2901(0xa1)])(_0xe7033b,()=>_0x2c8c9f[_0x2e2901(0x1bf)](_0xe7033b,_0x4550f5)))[_0x2e2901(0x12c)],_0x58783d[COMPOSED_HANDLER]=_0x2c8c9f[_0x2e2901(0x1bf)]),_0x4536b3['addRoute'](_0x2c8c9f[_0x2e2901(0x127)],_0x2c8c9f[_0x2e2901(0x1a7)],_0x58783d);}),this;}[a0_0x531828(0x164)](_0x3af380){const _0x239221=a0_0x531828,_0xe86b9f=this[_0x239221(0x15b)]();return _0xe86b9f[_0x239221(0xd5)]=mergePath(this[_0x239221(0xd5)],_0x3af380),_0xe86b9f;}[a0_0x531828(0x79)](){const _0xe135a9=a0_0x531828,_0x4f0225=0x8;this['routes'][_0xe135a9(0xb0)](_0x119341=>{const _0x5b3981=_0xe135a9;console['log'](_0x5b3981(0x14a)+_0x119341[_0x5b3981(0x127)]+_0x5b3981(0x171)+'\x20'[_0x5b3981(0x110)](_0x4f0225-_0x119341[_0x5b3981(0x127)][_0x5b3981(0x12d)])+'\x20'+_0x119341[_0x5b3981(0x1a7)]);});}[a0_0x531828(0xd4)](_0x4912be,_0x1f18c5,_0x3d6e93){const _0x18129b=a0_0x531828,_0x4638ae=mergePath(this[_0x18129b(0xd5)],_0x4912be),_0x39cbf8=_0x4638ae==='/'?0x0:_0x4638ae[_0x18129b(0x12d)],_0x1527a2=async(_0x3c5d4d,_0x23a6bf)=>{const _0x458075=_0x18129b;let _0x29085a=void 0x0;try{_0x29085a=_0x3c5d4d[_0x458075(0x74)];}catch{}const _0x5e3e40=_0x3d6e93?_0x3d6e93(_0x3c5d4d):[_0x3c5d4d['env'],_0x29085a],_0x594506=Array[_0x458075(0xc3)](_0x5e3e40)?_0x5e3e40:[_0x5e3e40],_0x247629=getQueryStrings(_0x3c5d4d[_0x458075(0x9b)][_0x458075(0x16b)]),_0x5f06c0=await _0x1f18c5(new Request(new URL((_0x3c5d4d[_0x458075(0x9b)]['path']['slice'](_0x39cbf8)||'/')+_0x247629,_0x3c5d4d[_0x458075(0x9b)][_0x458075(0x16b)]),_0x3c5d4d[_0x458075(0x9b)][_0x458075(0xc5)]),..._0x594506);if(_0x5f06c0)return _0x5f06c0;await _0x23a6bf();};return this[_0x18129b(0x19a)](METHOD_NAME_ALL,mergePath(_0x4912be,'*'),_0x1527a2),this;}get[a0_0x531828(0xc2)](){const _0x195a19=a0_0x531828;return this[_0x195a19(0x101)](_0x195a19(0xc9),'/'),this[_0x195a19(0xbf)][_0x195a19(0x8a)];}['addRoute'](_0x2138a7,_0x2373e0,_0x51d62c){const _0x5edcdf=a0_0x531828;_0x2138a7=_0x2138a7[_0x5edcdf(0x84)](),_0x2373e0=mergePath(this[_0x5edcdf(0xd5)],_0x2373e0);const _0x353fe4={'path':_0x2373e0,'method':_0x2138a7,'handler':_0x51d62c};this['router'][_0x5edcdf(0x10f)](_0x2138a7,_0x2373e0,[_0x51d62c,_0x353fe4]),this[_0x5edcdf(0x12f)][_0x5edcdf(0xab)](_0x353fe4);}['matchRoute'](_0x34c875,_0x3dbb01){const _0x5e318e=a0_0x531828;return this[_0x5e318e(0xbf)][_0x5e318e(0x9c)](_0x34c875,_0x3dbb01);}[a0_0x531828(0xca)](_0x225ce4,_0x5ca96f){const _0x371751=a0_0x531828;if(_0x225ce4 instanceof Error)return this[_0x371751(0xa1)](_0x225ce4,_0x5ca96f);throw _0x225ce4;}['dispatch'](_0x2ca9b5,_0xfb6b7e,_0x508e2a,_0x224b8b){const _0x54dd3d=a0_0x531828;if(_0x224b8b==='HEAD')return((async()=>new Response(null,await this['dispatch'](_0x2ca9b5,_0xfb6b7e,_0x508e2a,_0x54dd3d(0xc9))))());const _0x40003a=this[_0x54dd3d(0xb8)](_0x2ca9b5,{'env':_0x508e2a}),_0xa97b46=this[_0x54dd3d(0x101)](_0x224b8b,_0x40003a),_0x171fee=new Context(new HonoRequest(_0x2ca9b5,_0x40003a,_0xa97b46),{'env':_0x508e2a,'executionCtx':_0xfb6b7e,'notFoundHandler':this['notFoundHandler']});if(_0xa97b46[0x0][_0x54dd3d(0x12d)]===0x1){let _0x514ff4;try{_0x514ff4=_0xa97b46[0x0][0x0][0x0][0x0](_0x171fee,async()=>{const _0x5eaaec=_0x54dd3d;_0x171fee[_0x5eaaec(0x12c)]=await this[_0x5eaaec(0x119)](_0x171fee);});}catch(_0x3da0c4){return this[_0x54dd3d(0xca)](_0x3da0c4,_0x171fee);}return _0x514ff4 instanceof Promise?_0x514ff4[_0x54dd3d(0x107)](_0x6636b0=>_0x6636b0||(_0x171fee[_0x54dd3d(0x175)]?_0x171fee[_0x54dd3d(0x12c)]:this[_0x54dd3d(0x119)](_0x171fee)))[_0x54dd3d(0x117)](_0x89951e=>this[_0x54dd3d(0xca)](_0x89951e,_0x171fee)):_0x514ff4;}const _0x4c219e=compose(_0xa97b46[0x0],this[_0x54dd3d(0xa1)],this['notFoundHandler']);return((async()=>{const _0x14a1c9=_0x54dd3d;try{const _0x224298=await _0x4c219e(_0x171fee);if(!_0x224298['finalized'])throw new Error('Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`');return _0x224298['res'];}catch(_0x7033ec){return this[_0x14a1c9(0xca)](_0x7033ec,_0x171fee);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR='[^/]+',ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR=a0_0x531828(0x1bd),PATH_ERROR=Symbol();function compareKey(_0x1c53da,_0x5b7656){const _0x3fad9a=a0_0x531828;if(_0x1c53da['length']===0x1)return _0x5b7656['length']===0x1?_0x1c53da<_0x5b7656?-0x1:0x1:-0x1;if(_0x5b7656['length']===0x1)return 0x1;if(_0x1c53da===ONLY_WILDCARD_REG_EXP_STR||_0x1c53da===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x5b7656===ONLY_WILDCARD_REG_EXP_STR||_0x5b7656===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x1c53da===LABEL_REG_EXP_STR)return 0x1;else{if(_0x5b7656===LABEL_REG_EXP_STR)return-0x1;}return _0x1c53da[_0x3fad9a(0x12d)]===_0x5b7656[_0x3fad9a(0x12d)]?_0x1c53da<_0x5b7656?-0x1:0x1:_0x5b7656[_0x3fad9a(0x12d)]-_0x1c53da[_0x3fad9a(0x12d)];}var Node=class{constructor(){const _0x58589a=a0_0x531828;this[_0x58589a(0x100)]={};}[a0_0x531828(0x16f)](_0x31e679,_0x42e9d4,_0x7d6987,_0x8dae1d,_0x40bf48){const _0x204047=a0_0x531828;if(_0x31e679[_0x204047(0x12d)]===0x0){if(this[_0x204047(0xa8)]!==void 0x0)throw PATH_ERROR;if(_0x40bf48)return;this[_0x204047(0xa8)]=_0x42e9d4;return;}const [_0xfb05d,..._0x444d6d]=_0x31e679,_0x1aedca=_0xfb05d==='*'?_0x444d6d[_0x204047(0x12d)]===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0xfb05d==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0xfb05d['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x356b17;if(_0x1aedca){const _0x402be1=_0x1aedca[0x1];let _0xd8cbcb=_0x1aedca[0x2]||LABEL_REG_EXP_STR;if(_0x402be1&&_0x1aedca[0x2]){_0xd8cbcb=_0xd8cbcb[_0x204047(0x187)](/^\((?!\?:)(?=[^)]+\)$)/,_0x204047(0x13a));if(/\((?!\?:)/['test'](_0xd8cbcb))throw PATH_ERROR;}_0x356b17=this['children'][_0xd8cbcb];if(!_0x356b17){if(Object[_0x204047(0x80)](this[_0x204047(0x100)])[_0x204047(0x11a)](_0x35c89c=>_0x35c89c!==ONLY_WILDCARD_REG_EXP_STR&&_0x35c89c!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x40bf48)return;_0x356b17=this[_0x204047(0x100)][_0xd8cbcb]=new Node(),_0x402be1!==''&&(_0x356b17[_0x204047(0x11e)]=_0x8dae1d[_0x204047(0x11e)]++);}!_0x40bf48&&_0x402be1!==''&&_0x7d6987[_0x204047(0xab)]([_0x402be1,_0x356b17[_0x204047(0x11e)]]);}else{_0x356b17=this[_0x204047(0x100)][_0xfb05d];if(!_0x356b17){if(Object[_0x204047(0x80)](this[_0x204047(0x100)])[_0x204047(0x11a)](_0x3a54af=>_0x3a54af[_0x204047(0x12d)]>0x1&&_0x3a54af!==ONLY_WILDCARD_REG_EXP_STR&&_0x3a54af!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x40bf48)return;_0x356b17=this[_0x204047(0x100)][_0xfb05d]=new Node();}}_0x356b17[_0x204047(0x16f)](_0x444d6d,_0x42e9d4,_0x7d6987,_0x8dae1d,_0x40bf48);}[a0_0x531828(0x8d)](){const _0x4f51dc=a0_0x531828,_0xbdc517=Object[_0x4f51dc(0x80)](this[_0x4f51dc(0x100)])['sort'](compareKey),_0x562d08=_0xbdc517[_0x4f51dc(0xb0)](_0x204d07=>{const _0xf6a297=_0x4f51dc,_0x250362=this[_0xf6a297(0x100)][_0x204d07];return(typeof _0x250362[_0xf6a297(0x11e)]===_0xf6a297(0x157)?'('+_0x204d07+')@'+_0x250362['varIndex']:_0x204d07)+_0x250362[_0xf6a297(0x8d)]();});typeof this[_0x4f51dc(0xa8)]===_0x4f51dc(0x157)&&_0x562d08[_0x4f51dc(0x103)]('#'+this[_0x4f51dc(0xa8)]);if(_0x562d08[_0x4f51dc(0x12d)]===0x0)return'';if(_0x562d08[_0x4f51dc(0x12d)]===0x1)return _0x562d08[0x0];return _0x4f51dc(0x13a)+_0x562d08[_0x4f51dc(0x166)]('|')+')';}},Trie=class{constructor(){const _0x355905=a0_0x531828;this[_0x355905(0xac)]={'varIndex':0x0},this[_0x355905(0x18c)]=new Node();}[a0_0x531828(0x16f)](_0x40a668,_0x1db743,_0x2c1104){const _0x4e5779=a0_0x531828,_0x5af0e8=[],_0x297c18=[];for(let _0x2b5e31=0x0;;){let _0x26149c=![];_0x40a668=_0x40a668[_0x4e5779(0x187)](/\{[^}]+\}/g,_0x3967f9=>{const _0x46e69e='@\x5c'+_0x2b5e31;return _0x297c18[_0x2b5e31]=[_0x46e69e,_0x3967f9],_0x2b5e31++,_0x26149c=!![],_0x46e69e;});if(!_0x26149c)break;}const _0x4ab823=_0x40a668[_0x4e5779(0x9c)](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x207651=_0x297c18['length']-0x1;_0x207651>=0x0;_0x207651--){const [_0x350d1f]=_0x297c18[_0x207651];for(let _0x2e9bb1=_0x4ab823['length']-0x1;_0x2e9bb1>=0x0;_0x2e9bb1--){if(_0x4ab823[_0x2e9bb1][_0x4e5779(0x1d9)](_0x350d1f)!==-0x1){_0x4ab823[_0x2e9bb1]=_0x4ab823[_0x2e9bb1]['replace'](_0x350d1f,_0x297c18[_0x207651][0x1]);break;}}}return this[_0x4e5779(0x18c)][_0x4e5779(0x16f)](_0x4ab823,_0x1db743,_0x5af0e8,this[_0x4e5779(0xac)],_0x2c1104),_0x5af0e8;}[a0_0x531828(0x72)](){const _0x4ee3e1=a0_0x531828;let _0x4e5c10=this['root']['buildRegExpStr']();if(_0x4e5c10==='')return[/^$/,[],[]];let _0x59a696=0x0;const _0x5c3ab9=[],_0x1618db=[];return _0x4e5c10=_0x4e5c10[_0x4ee3e1(0x187)](/#(\d+)|@(\d+)|\.\*\$/g,(_0xd39914,_0x57ad95,_0x5f347a)=>{const _0x2b6f3a=_0x4ee3e1;if(typeof _0x57ad95!==_0x2b6f3a(0xec))return _0x5c3ab9[++_0x59a696]=Number(_0x57ad95),_0x2b6f3a(0x1db);if(typeof _0x5f347a!==_0x2b6f3a(0xec))return _0x1618db[Number(_0x5f347a)]=++_0x59a696,'';return'';}),[new RegExp('^'+_0x4e5c10),_0x5c3ab9,_0x1618db];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x531828(0xb0)](_0x2d8c14=>_0x2d8c14['toUpperCase']()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0x21a75f){const _0x4bb140=a0_0x531828;return wildcardRegExpCache[_0x21a75f]??(wildcardRegExpCache[_0x21a75f]=new RegExp(_0x21a75f==='*'?'':'^'+_0x21a75f[_0x4bb140(0x187)](/\/\*/,'(?:|/.*)')+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x537b78){const _0x55df75=a0_0x531828,_0x4a43df=new Trie(),_0x3dc4a6=[];if(_0x537b78[_0x55df75(0x12d)]===0x0)return nullMatcher;const _0x5ce28a=_0x537b78[_0x55df75(0xb0)](_0x5eb777=>[!/\*|\/:/[_0x55df75(0x1a9)](_0x5eb777[0x0]),..._0x5eb777])[_0x55df75(0x1c6)](([_0x5dafe1,_0x82f08],[_0x22404f,_0x532887])=>_0x5dafe1?0x1:_0x22404f?-0x1:_0x82f08[_0x55df75(0x12d)]-_0x532887[_0x55df75(0x12d)]),_0x12c0c6={};for(let _0x37e062=0x0,_0x33d79d=-0x1,_0x4eda09=_0x5ce28a[_0x55df75(0x12d)];_0x37e062<_0x4eda09;_0x37e062++){const [_0xfe76fc,_0x2886cf,_0x1a0d04]=_0x5ce28a[_0x37e062];_0xfe76fc?_0x12c0c6[_0x2886cf]=[_0x1a0d04['map'](([_0x576a3c])=>[_0x576a3c,{}]),emptyParam]:_0x33d79d++;let _0x12fa01;try{_0x12fa01=_0x4a43df[_0x55df75(0x16f)](_0x2886cf,_0x33d79d,_0xfe76fc);}catch(_0x5427ce){throw _0x5427ce===PATH_ERROR?new UnsupportedPathError(_0x2886cf):_0x5427ce;}if(_0xfe76fc)continue;_0x3dc4a6[_0x33d79d]=_0x1a0d04[_0x55df75(0xb0)](([_0xd1d14d,_0x479fd3])=>{const _0x3a3e57={};_0x479fd3-=0x1;for(;_0x479fd3>=0x0;_0x479fd3--){const [_0x2150e8,_0x12d16e]=_0x12fa01[_0x479fd3];_0x3a3e57[_0x2150e8]=_0x12d16e;}return[_0xd1d14d,_0x3a3e57];});}const [_0x3db92c,_0x5303bd,_0x44177f]=_0x4a43df['buildRegExp']();for(let _0x4e4f82=0x0,_0x2d744a=_0x3dc4a6[_0x55df75(0x12d)];_0x4e4f82<_0x2d744a;_0x4e4f82++){for(let _0x349653=0x0,_0x86494c=_0x3dc4a6[_0x4e4f82]['length'];_0x349653<_0x86494c;_0x349653++){const _0x2961b1=_0x3dc4a6[_0x4e4f82][_0x349653]?.[0x1];if(!_0x2961b1)continue;const _0x3e77bb=Object[_0x55df75(0x80)](_0x2961b1);for(let _0x3ced0d=0x0,_0x488898=_0x3e77bb[_0x55df75(0x12d)];_0x3ced0d<_0x488898;_0x3ced0d++){_0x2961b1[_0x3e77bb[_0x3ced0d]]=_0x44177f[_0x2961b1[_0x3e77bb[_0x3ced0d]]];}}}const _0x3c4e12=[];for(const _0x45c40b in _0x5303bd){_0x3c4e12[_0x45c40b]=_0x3dc4a6[_0x5303bd[_0x45c40b]];}return[_0x3db92c,_0x3c4e12,_0x12c0c6];}function findMiddleware(_0x56e437,_0x2983c7){const _0x22bf65=a0_0x531828;if(!_0x56e437)return void 0x0;for(const _0x239ab5 of Object[_0x22bf65(0x80)](_0x56e437)[_0x22bf65(0x1c6)]((_0x286614,_0x5349a9)=>_0x5349a9[_0x22bf65(0x12d)]-_0x286614[_0x22bf65(0x12d)])){if(buildWildcardRegExp(_0x239ab5)[_0x22bf65(0x1a9)](_0x2983c7))return[..._0x56e437[_0x239ab5]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x32488e=a0_0x531828;this[_0x32488e(0x8a)]='RegExpRouter',this['middleware']={[METHOD_NAME_ALL]:{}},this['routes']={[METHOD_NAME_ALL]:{}};}[a0_0x531828(0x10f)](_0x103215,_0x686102,_0x62f921){const _0xdf7a6c=a0_0x531828;var _0xf18da;const {middleware:_0x120da1,routes:_0x530591}=this;if(!_0x120da1||!_0x530591)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0xdf7a6c(0x1d9)](_0x103215)===-0x1&&methodNames[_0xdf7a6c(0xab)](_0x103215);if(!_0x120da1[_0x103215]){;[_0x120da1,_0x530591][_0xdf7a6c(0x172)](_0x434abf=>{const _0x3c1021=_0xdf7a6c;_0x434abf[_0x103215]={},Object[_0x3c1021(0x80)](_0x434abf[METHOD_NAME_ALL])[_0x3c1021(0x172)](_0x172181=>{_0x434abf[_0x103215][_0x172181]=[..._0x434abf[METHOD_NAME_ALL][_0x172181]];});});}_0x686102==='/*'&&(_0x686102='*');const _0x11fa38=(_0x686102[_0xdf7a6c(0x9c)](/\/:/g)||[])[_0xdf7a6c(0x12d)];if(/\*$/[_0xdf7a6c(0x1a9)](_0x686102)){const _0x43232b=buildWildcardRegExp(_0x686102);_0x103215===METHOD_NAME_ALL?Object[_0xdf7a6c(0x80)](_0x120da1)['forEach'](_0x4c55d2=>{var _0xb2099c;(_0xb2099c=_0x120da1[_0x4c55d2])[_0x686102]||(_0xb2099c[_0x686102]=findMiddleware(_0x120da1[_0x4c55d2],_0x686102)||findMiddleware(_0x120da1[METHOD_NAME_ALL],_0x686102)||[]);}):(_0xf18da=_0x120da1[_0x103215])[_0x686102]||(_0xf18da[_0x686102]=findMiddleware(_0x120da1[_0x103215],_0x686102)||findMiddleware(_0x120da1[METHOD_NAME_ALL],_0x686102)||[]);Object[_0xdf7a6c(0x80)](_0x120da1)[_0xdf7a6c(0x172)](_0x1a95f6=>{const _0x2889d6=_0xdf7a6c;(_0x103215===METHOD_NAME_ALL||_0x103215===_0x1a95f6)&&Object[_0x2889d6(0x80)](_0x120da1[_0x1a95f6])[_0x2889d6(0x172)](_0x2abaa6=>{const _0x3c431d=_0x2889d6;_0x43232b[_0x3c431d(0x1a9)](_0x2abaa6)&&_0x120da1[_0x1a95f6][_0x2abaa6][_0x3c431d(0xab)]([_0x62f921,_0x11fa38]);});}),Object[_0xdf7a6c(0x80)](_0x530591)[_0xdf7a6c(0x172)](_0x40d817=>{const _0x2bd27e=_0xdf7a6c;(_0x103215===METHOD_NAME_ALL||_0x103215===_0x40d817)&&Object['keys'](_0x530591[_0x40d817])['forEach'](_0x3ac5f4=>_0x43232b[_0x2bd27e(0x1a9)](_0x3ac5f4)&&_0x530591[_0x40d817][_0x3ac5f4][_0x2bd27e(0xab)]([_0x62f921,_0x11fa38]));});return;}const _0x6146e4=checkOptionalParameter(_0x686102)||[_0x686102];for(let _0xd64299=0x0,_0x4e109c=_0x6146e4[_0xdf7a6c(0x12d)];_0xd64299<_0x4e109c;_0xd64299++){const _0x37ce8a=_0x6146e4[_0xd64299];Object['keys'](_0x530591)[_0xdf7a6c(0x172)](_0x13c7ab=>{const _0x350b3e=_0xdf7a6c;var _0x23af0e;(_0x103215===METHOD_NAME_ALL||_0x103215===_0x13c7ab)&&((_0x23af0e=_0x530591[_0x13c7ab])[_0x37ce8a]||(_0x23af0e[_0x37ce8a]=[...findMiddleware(_0x120da1[_0x13c7ab],_0x37ce8a)||findMiddleware(_0x120da1[METHOD_NAME_ALL],_0x37ce8a)||[]]),_0x530591[_0x13c7ab][_0x37ce8a][_0x350b3e(0xab)]([_0x62f921,_0x11fa38-_0x4e109c+_0xd64299+0x1]));});}}[a0_0x531828(0x9c)](_0x1e6d7a,_0x1c6021){const _0x20f1be=a0_0x531828;clearWildcardRegExpCache();const _0x467d7a=this['buildAllMatchers']();return this[_0x20f1be(0x9c)]=(_0x39b86c,_0x322f0b)=>{const _0x646722=_0x20f1be,_0x5c76a3=_0x467d7a[_0x39b86c],_0x578f16=_0x5c76a3[0x2][_0x322f0b];if(_0x578f16)return _0x578f16;const _0x2eaaf6=_0x322f0b[_0x646722(0x9c)](_0x5c76a3[0x0]);if(!_0x2eaaf6)return[[],emptyParam];const _0x2b1979=_0x2eaaf6[_0x646722(0x1d9)]('',0x1);return[_0x5c76a3[0x1][_0x2b1979],_0x2eaaf6];},this[_0x20f1be(0x9c)](_0x1e6d7a,_0x1c6021);}[a0_0x531828(0xe8)](){const _0x4cfd16=a0_0x531828,_0x4ac583={};return methodNames[_0x4cfd16(0x172)](_0x5dc16e=>{const _0x4ddd0c=_0x4cfd16;_0x4ac583[_0x5dc16e]=this[_0x4ddd0c(0x142)](_0x5dc16e)||_0x4ac583[METHOD_NAME_ALL];}),this[_0x4cfd16(0xa9)]=this[_0x4cfd16(0x12f)]=void 0x0,_0x4ac583;}[a0_0x531828(0x142)](_0xc21c70){const _0x1606bb=a0_0x531828,_0xaf9b76=[];let _0xde4f7=_0xc21c70===METHOD_NAME_ALL;return[this[_0x1606bb(0xa9)],this[_0x1606bb(0x12f)]][_0x1606bb(0x172)](_0x4559c1=>{const _0x1cb5e9=_0x1606bb,_0x8cbbca=_0x4559c1[_0xc21c70]?Object[_0x1cb5e9(0x80)](_0x4559c1[_0xc21c70])[_0x1cb5e9(0xb0)](_0x49b27d=>[_0x49b27d,_0x4559c1[_0xc21c70][_0x49b27d]]):[];if(_0x8cbbca[_0x1cb5e9(0x12d)]!==0x0)_0xde4f7||(_0xde4f7=!![]),_0xaf9b76[_0x1cb5e9(0xab)](..._0x8cbbca);else _0xc21c70!==METHOD_NAME_ALL&&_0xaf9b76[_0x1cb5e9(0xab)](...Object[_0x1cb5e9(0x80)](_0x4559c1[METHOD_NAME_ALL])[_0x1cb5e9(0xb0)](_0x14901f=>[_0x14901f,_0x4559c1[METHOD_NAME_ALL][_0x14901f]]));}),!_0xde4f7?null:buildMatcherFromPreprocessedRoutes(_0xaf9b76);}},SmartRouter=class{constructor(_0x1f04ad){const _0x4fa764=a0_0x531828;this[_0x4fa764(0x8a)]='SmartRouter',this[_0x4fa764(0x8b)]=[],this[_0x4fa764(0x12f)]=[],Object['assign'](this,_0x1f04ad);}[a0_0x531828(0x10f)](_0x1ba0dc,_0x3e7c95,_0x5370ce){const _0x4aced8=a0_0x531828;if(!this[_0x4aced8(0x12f)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this[_0x4aced8(0x12f)][_0x4aced8(0xab)]([_0x1ba0dc,_0x3e7c95,_0x5370ce]);}[a0_0x531828(0x9c)](_0x2c1e7b,_0x16126d){const _0x32bc74=a0_0x531828;if(!this[_0x32bc74(0x12f)])throw new Error(_0x32bc74(0x97));const {routers:_0x193656,routes:_0x11613b}=this,_0xe20001=_0x193656[_0x32bc74(0x12d)];let _0x5c473a=0x0,_0x565156;for(;_0x5c473a<_0xe20001;_0x5c473a++){const _0x1a5df6=_0x193656[_0x5c473a];try{_0x11613b['forEach'](_0x1ff834=>{const _0x1fff98=_0x32bc74;_0x1a5df6[_0x1fff98(0x10f)](..._0x1ff834);}),_0x565156=_0x1a5df6['match'](_0x2c1e7b,_0x16126d);}catch(_0x1fafa8){if(_0x1fafa8 instanceof UnsupportedPathError)continue;throw _0x1fafa8;}this[_0x32bc74(0x9c)]=_0x1a5df6[_0x32bc74(0x9c)][_0x32bc74(0x81)](_0x1a5df6),this['routers']=[_0x1a5df6],this[_0x32bc74(0x12f)]=void 0x0;break;}if(_0x5c473a===_0xe20001)throw new Error(_0x32bc74(0x97));return this[_0x32bc74(0x8a)]=_0x32bc74(0x7b)+this[_0x32bc74(0xce)][_0x32bc74(0x8a)],_0x565156;}get['activeRouter'](){const _0x553b17=a0_0x531828;if(this[_0x553b17(0x12f)]||this[_0x553b17(0x8b)][_0x553b17(0x12d)]!==0x1)throw new Error('No\x20active\x20router\x20has\x20been\x20determined\x20yet.');return this[_0x553b17(0x8b)][0x0];}},Node2=class{constructor(_0x11dc24,_0x45e12f,_0x4465bd){const _0x5557c7=a0_0x531828;this['order']=0x0,this[_0x5557c7(0x1a2)]={},this[_0x5557c7(0x100)]=_0x4465bd||{},this[_0x5557c7(0x11b)]=[],this[_0x5557c7(0x8a)]='';if(_0x11dc24&&_0x45e12f){const _0x177f6e={};_0x177f6e[_0x11dc24]={'handler':_0x45e12f,'possibleKeys':[],'score':0x0,'name':this['name']},this[_0x5557c7(0x11b)]=[_0x177f6e];}this[_0x5557c7(0xf0)]=[];}[a0_0x531828(0x16f)](_0x37332e,_0x31c44d,_0x55eada){const _0x225de4=a0_0x531828;this[_0x225de4(0x8a)]=_0x37332e+'\x20'+_0x31c44d,this[_0x225de4(0x93)]=++this['order'];let _0x5dbe11=this;const _0x6808c7=splitRoutingPath(_0x31c44d),_0x1c974a=[],_0x7de357=[];for(let _0x25fa39=0x0,_0x389815=_0x6808c7['length'];_0x25fa39<_0x389815;_0x25fa39++){const _0xf2e251=_0x6808c7[_0x25fa39];if(Object['keys'](_0x5dbe11['children'])['includes'](_0xf2e251)){_0x7de357[_0x225de4(0xab)](..._0x5dbe11['patterns']),_0x5dbe11=_0x5dbe11[_0x225de4(0x100)][_0xf2e251];const _0x3f73d9=getPattern(_0xf2e251);_0x3f73d9&&_0x1c974a[_0x225de4(0xab)](_0x3f73d9[0x1]);continue;}_0x5dbe11[_0x225de4(0x100)][_0xf2e251]=new Node2();const _0x1e9755=getPattern(_0xf2e251);_0x1e9755&&(_0x5dbe11[_0x225de4(0xf0)]['push'](_0x1e9755),_0x7de357[_0x225de4(0xab)](..._0x5dbe11['patterns']),_0x1c974a[_0x225de4(0xab)](_0x1e9755[0x1])),_0x7de357[_0x225de4(0xab)](..._0x5dbe11[_0x225de4(0xf0)]),_0x5dbe11=_0x5dbe11[_0x225de4(0x100)][_0xf2e251];}!_0x5dbe11['methods']['length']&&(_0x5dbe11['methods']=[]);const _0x4295e4={},_0x245114={'handler':_0x55eada,'possibleKeys':_0x1c974a[_0x225de4(0x1c1)]((_0x4eae91,_0x535f7b,_0x32981f)=>_0x32981f['indexOf'](_0x4eae91)===_0x535f7b),'name':this['name'],'score':this[_0x225de4(0x93)]};return _0x4295e4[_0x37332e]=_0x245114,_0x5dbe11[_0x225de4(0x11b)][_0x225de4(0xab)](_0x4295e4),_0x5dbe11;}[a0_0x531828(0x161)](_0x56682d,_0x3a68e1,_0x456822,_0x2a0817){const _0x69738a=a0_0x531828,_0x39ec26=[];for(let _0xd96aa1=0x0,_0x4cd333=_0x56682d['methods'][_0x69738a(0x12d)];_0xd96aa1<_0x4cd333;_0xd96aa1++){const _0x12f243=_0x56682d['methods'][_0xd96aa1],_0x549f0b=_0x12f243[_0x3a68e1]||_0x12f243[METHOD_NAME_ALL],_0x50578a={};_0x549f0b!==void 0x0&&(_0x549f0b[_0x69738a(0x1a2)]={},_0x549f0b[_0x69738a(0x176)][_0x69738a(0x172)](_0x2ef829=>{const _0x90ed1e=_0x69738a,_0x5d0d3d=_0x50578a[_0x549f0b[_0x90ed1e(0x8a)]];_0x549f0b[_0x90ed1e(0x1a2)][_0x2ef829]=_0x2a0817[_0x2ef829]&&!_0x5d0d3d?_0x2a0817[_0x2ef829]:_0x456822[_0x2ef829]??_0x2a0817[_0x2ef829],_0x50578a[_0x549f0b['name']]=!![];}),_0x39ec26[_0x69738a(0xab)](_0x549f0b));}return _0x39ec26;}[a0_0x531828(0xd2)](_0x1d49d3,_0x38dd28){const _0x305ecd=a0_0x531828,_0x332c57=[];this[_0x305ecd(0x1a2)]={};const _0x1cc272=this;let _0x441b23=[_0x1cc272];const _0x3aa00e=splitPath(_0x38dd28);for(let _0x4192ad=0x0,_0x23e9b5=_0x3aa00e[_0x305ecd(0x12d)];_0x4192ad<_0x23e9b5;_0x4192ad++){const _0x3bd83a=_0x3aa00e[_0x4192ad],_0x26bfa2=_0x4192ad===_0x23e9b5-0x1,_0x305bae=[];for(let _0x18d5ac=0x0,_0x54caf4=_0x441b23[_0x305ecd(0x12d)];_0x18d5ac<_0x54caf4;_0x18d5ac++){const _0x4a0605=_0x441b23[_0x18d5ac],_0x2ed1ed=_0x4a0605[_0x305ecd(0x100)][_0x3bd83a];_0x2ed1ed&&(_0x2ed1ed[_0x305ecd(0x1a2)]=_0x4a0605[_0x305ecd(0x1a2)],_0x26bfa2===!![]?(_0x2ed1ed[_0x305ecd(0x100)]['*']&&_0x332c57['push'](...this['gHSets'](_0x2ed1ed[_0x305ecd(0x100)]['*'],_0x1d49d3,_0x4a0605[_0x305ecd(0x1a2)],{})),_0x332c57[_0x305ecd(0xab)](...this[_0x305ecd(0x161)](_0x2ed1ed,_0x1d49d3,_0x4a0605[_0x305ecd(0x1a2)],{}))):_0x305bae[_0x305ecd(0xab)](_0x2ed1ed));for(let _0x52f50a=0x0,_0x274fe7=_0x4a0605[_0x305ecd(0xf0)]['length'];_0x52f50a<_0x274fe7;_0x52f50a++){const _0x4dc95f=_0x4a0605[_0x305ecd(0xf0)][_0x52f50a],_0x568a78={..._0x4a0605['params']};if(_0x4dc95f==='*'){const _0x2c2054=_0x4a0605[_0x305ecd(0x100)]['*'];_0x2c2054&&(_0x332c57[_0x305ecd(0xab)](...this['gHSets'](_0x2c2054,_0x1d49d3,_0x4a0605[_0x305ecd(0x1a2)],{})),_0x305bae[_0x305ecd(0xab)](_0x2c2054));continue;}if(_0x3bd83a==='')continue;const [_0x5d4936,_0x55c3d7,_0x289e72]=_0x4dc95f,_0x5dcfc3=_0x4a0605[_0x305ecd(0x100)][_0x5d4936],_0x487c2f=_0x3aa00e[_0x305ecd(0x88)](_0x4192ad)[_0x305ecd(0x166)]('/');if(_0x289e72 instanceof RegExp&&_0x289e72['test'](_0x487c2f)){_0x568a78[_0x55c3d7]=_0x487c2f,_0x332c57[_0x305ecd(0xab)](...this[_0x305ecd(0x161)](_0x5dcfc3,_0x1d49d3,_0x4a0605[_0x305ecd(0x1a2)],_0x568a78));continue;}(_0x289e72===!![]||_0x289e72 instanceof RegExp&&_0x289e72[_0x305ecd(0x1a9)](_0x3bd83a))&&(typeof _0x5d4936===_0x305ecd(0x158)&&(_0x568a78[_0x55c3d7]=_0x3bd83a,_0x26bfa2===!![]?(_0x332c57[_0x305ecd(0xab)](...this['gHSets'](_0x5dcfc3,_0x1d49d3,_0x568a78,_0x4a0605['params'])),_0x5dcfc3[_0x305ecd(0x100)]['*']&&_0x332c57[_0x305ecd(0xab)](...this[_0x305ecd(0x161)](_0x5dcfc3[_0x305ecd(0x100)]['*'],_0x1d49d3,_0x568a78,_0x4a0605[_0x305ecd(0x1a2)]))):(_0x5dcfc3[_0x305ecd(0x1a2)]=_0x568a78,_0x305bae[_0x305ecd(0xab)](_0x5dcfc3))));}}_0x441b23=_0x305bae;}const _0x543a26=_0x332c57['sort']((_0x1286f5,_0xf69f92)=>{return _0x1286f5['score']-_0xf69f92['score'];});return[_0x543a26['map'](({handler:_0xe4f4ef,params:_0x1c6cba})=>[_0xe4f4ef,_0x1c6cba])];}},TrieRouter=class{constructor(){const _0x53d078=a0_0x531828;this[_0x53d078(0x8a)]=_0x53d078(0x96),this[_0x53d078(0x10a)]=new Node2();}[a0_0x531828(0x10f)](_0x2ab7be,_0x40fb54,_0x1fd2cc){const _0x15ec99=a0_0x531828,_0x5d3a70=checkOptionalParameter(_0x40fb54);if(_0x5d3a70){for(const _0x1b2b20 of _0x5d3a70){this[_0x15ec99(0x10a)][_0x15ec99(0x16f)](_0x2ab7be,_0x1b2b20,_0x1fd2cc);}return;}this[_0x15ec99(0x10a)][_0x15ec99(0x16f)](_0x2ab7be,_0x40fb54,_0x1fd2cc);}[a0_0x531828(0x9c)](_0x1fd321,_0x32a90a){const _0x414d8d=a0_0x531828;return this[_0x414d8d(0x10a)][_0x414d8d(0xd2)](_0x1fd321,_0x32a90a);}},Hono2=class extends Hono{constructor(_0x3d54d8={}){const _0xacf560=a0_0x531828;super(_0x3d54d8),this['router']=_0x3d54d8[_0xacf560(0xbf)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0xf8732a){const _0x836660=a0_0x531828;if(wasmReady)return wasmModule;try{const _0x494f89=_0xf8732a||_0x836660(0x8e),_0x210d45=await import(_0x494f89);return typeof _0x210d45[_0x836660(0x169)]==='function'&&await _0x210d45['default'](),wasmModule=_0x210d45,wasmReady=!![],wasmModule;}catch(_0x4d958d){console[_0x836660(0xb1)](_0x836660(0x12a),_0x4d958d),wasmReady=![];throw _0x4d958d;}}async function parseVlessHeader(_0x34dce9){const _0x465a80=a0_0x531828;if(!wasmReady)throw new Error(_0x465a80(0xf1));if(!wasmModule||typeof wasmModule[_0x465a80(0x1ce)]!==_0x465a80(0x182))throw new Error(_0x465a80(0x197));return await wasmModule[_0x465a80(0x1ce)](_0x34dce9);}function renderAdminLogin(_0x366815,_0x210556){const _0x4defba=a0_0x531828;return _0x4defba(0xdc)+_0x366815+_0x4defba(0x1d6)+(_0x210556?_0x4defba(0xc7)+escapeHtml(_0x210556)+_0x4defba(0x1ae):'')+_0x4defba(0x115);}function renderAdminPanel(){const _0x30783d=a0_0x531828;return _0x30783d(0x1b7);}function escapeHtml(_0x3363b2){const _0x1f0118=a0_0x531828;return _0x3363b2[_0x1f0118(0x187)](/[&<>'"]/g,_0x494bbb=>({'&':_0x1f0118(0x7e),'<':'&lt;','>':_0x1f0118(0x132),'\x27':'&#39;','\x22':_0x1f0118(0x185)}[_0x494bbb]));}function expiryToISO(_0x13894e,_0x421aaa){const _0x55b76b=a0_0x531828;if(!_0x13894e||!_0x421aaa)return null;const _0x6bcb07=_0x421aaa[_0x55b76b(0x141)](':')['length']===0x2?_0x421aaa+':00':_0x421aaa,_0x3db8b8=_0x13894e+'T'+_0x6bcb07+'Z',_0x38e56a=new Date(_0x3db8b8);if(isNaN(_0x38e56a[_0x55b76b(0x11c)]()))return null;return _0x38e56a['toISOString']();}var app=new Hono2();function addSecurityHeaders(_0xe90a1f){const _0x56d87f=a0_0x531828;_0xe90a1f['set'](_0x56d87f(0x16e),'nosniff'),_0xe90a1f[_0x56d87f(0x16c)]('Referrer-Policy','strict-origin-when-cross-origin'),_0xe90a1f[_0x56d87f(0x16c)](_0x56d87f(0xd1),'camera=(),\x20microphone=()');}app['post'](a0_0x531828(0xf9),async _0x596a2b=>{const _0x4c71a2=a0_0x531828,_0xbd8186=_0x596a2b['env'],_0x5b6560=await _0x596a2b[_0x4c71a2(0x9b)][_0x4c71a2(0x9f)](),_0x246377=_0x5b6560[_0x4c71a2(0x14c)]('password')?.[_0x4c71a2(0x134)]()||'';if(!_0xbd8186[_0x4c71a2(0x159)])return _0x596a2b[_0x4c71a2(0x1ba)](_0x4c71a2(0xa5),0x1f7);if(_0x246377!==_0xbd8186[_0x4c71a2(0x159)])return _0x596a2b['text'](_0x4c71a2(0x1af),0x191);const _0x2aff24=crypto[_0x4c71a2(0x112)](),_0x59af9e=await crypto[_0x4c71a2(0x133)][_0x4c71a2(0x191)](_0x4c71a2(0xeb),new TextEncoder()[_0x4c71a2(0x15c)](_0x2aff24)),_0x592b6b=Array[_0x4c71a2(0x10e)](new Uint8Array(_0x59af9e))[_0x4c71a2(0xb0)](_0x14ccc2=>_0x14ccc2[_0x4c71a2(0x134)](0x10)[_0x4c71a2(0xb9)](0x2,'0'))[_0x4c71a2(0x166)]('');try{await _0xbd8186['DB']['prepare'](_0x4c71a2(0xd8))[_0x4c71a2(0x81)](_0x4c71a2(0x169),_0x592b6b,Math[_0x4c71a2(0x155)](Date['now']()/0x3e8)+0x15180)[_0x4c71a2(0x1d3)]();}catch(_0x3decdd){console['error'](_0x4c71a2(0x160),_0x3decdd);}const _0x3cad5c=new Headers();return _0x3cad5c['append']('Set-Cookie',_0x4c71a2(0xa4)+_0x2aff24+';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict'),addSecurityHeaders(_0x3cad5c),_0x596a2b[_0x4c71a2(0x1ba)]('OK',0xc8,{'headers':_0x3cad5c});});async function hashSHA256Hex(_0x339405){const _0x5d896e=a0_0x531828,_0x367c7c=new TextEncoder(),_0x14fceb=_0x367c7c[_0x5d896e(0x15c)](_0x339405),_0x4ef9b7=await crypto[_0x5d896e(0x133)][_0x5d896e(0x191)](_0x5d896e(0xeb),_0x14fceb);return Array[_0x5d896e(0x10e)](new Uint8Array(_0x4ef9b7))[_0x5d896e(0xb0)](_0x4c81d8=>_0x4c81d8[_0x5d896e(0x134)](0x10)[_0x5d896e(0xb9)](0x2,'0'))[_0x5d896e(0x166)]('');}async function isAdminRequest(_0x4e9f4b){const _0x2a45c1=a0_0x531828,_0x2b3469=_0x4e9f4b[_0x2a45c1(0x9b)][_0x2a45c1(0xb7)][_0x2a45c1(0x14c)](_0x2a45c1(0x1ac))||'',_0xd1a18=_0x2b3469[_0x2a45c1(0x9c)](/auth_token=([^;]+)/)?.[0x1];if(!_0xd1a18)return![];const _0x52d0d7=await hashSHA256Hex(_0xd1a18);try{const _0x536b05=await _0x4e9f4b[_0x2a45c1(0x1be)]['DB'][_0x2a45c1(0x116)](_0x2a45c1(0x189))[_0x2a45c1(0x81)]('default')['first']();if(!_0x536b05?.[_0x2a45c1(0x1d8)])return![];return _0x52d0d7===_0x536b05[_0x2a45c1(0x1d8)];}catch(_0x2e488a){return console[_0x2a45c1(0xb1)](_0x2a45c1(0x156),_0x2e488a),![];}}async function ensureTablesExist(_0x14f12d){const _0x3d1782=a0_0x531828;if(!_0x14f12d['DB'])return;const _0x36c734=['CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)',_0x3d1782(0x193),'CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)'];try{const _0x250892=_0x36c734[_0x3d1782(0xb0)](_0x41ea1d=>_0x14f12d['DB'][_0x3d1782(0x116)](_0x41ea1d));await _0x14f12d['DB'][_0x3d1782(0xb5)](_0x250892);}catch(_0x4c27f2){console['warn'](_0x3d1782(0xfa),_0x4c27f2);}}app[a0_0x531828(0x14c)]('/admin',async _0x5314bd=>{const _0x5ea7ba=a0_0x531828;await ensureTablesExist(_0x5314bd[_0x5ea7ba(0x1be)]);const _0x2754e4=await isAdminRequest(_0x5314bd),_0x1c2a75='/admin',_0x4c67c3=new Headers({'Content-Type':'text/html;charset=utf-8'});addSecurityHeaders(_0x4c67c3);if(!_0x2754e4)return new Response(renderAdminLogin(_0x1c2a75+_0x5ea7ba(0x19d)),{'headers':_0x4c67c3});return new Response(renderAdminPanel(),{'headers':_0x4c67c3});}),app[a0_0x531828(0x14c)](a0_0x531828(0xba),async _0x527685=>{const _0x209cec=a0_0x531828;if(!await isAdminRequest(_0x527685))return _0x527685[_0x209cec(0x15f)]({'error':_0x209cec(0x13f)},0x193);const _0x45f0ac=_0x527685[_0x209cec(0x1be)];await ensureTablesExist(_0x45f0ac);try{const _0x1f7db3=await _0x45f0ac['DB'][_0x209cec(0x116)]('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users')[_0x209cec(0xc4)]('count'),_0x4c7424=await _0x45f0ac['DB'][_0x209cec(0x116)](_0x209cec(0x1d4))[_0x209cec(0xc4)](_0x209cec(0xd9)),_0x2d322=await _0x45f0ac['DB'][_0x209cec(0x116)](_0x209cec(0x1cc))[_0x209cec(0xc4)]('sum'),_0x5f0ddf=_0x4c7424||0x0,_0x36f41b=(_0x1f7db3||0x0)-_0x5f0ddf;return _0x527685['json']({'total_users':_0x1f7db3||0x0,'active_users':_0x36f41b,'expired_users':_0x5f0ddf,'total_traffic':_0x2d322||0x0});}catch(_0x4d1487){return _0x527685[_0x209cec(0x15f)]({'error':_0x4d1487[_0x209cec(0x131)]},0x1f4);}}),app['get'](a0_0x531828(0x86),async _0x36fdae=>{const _0x2d10cc=a0_0x531828;if(!await isAdminRequest(_0x36fdae))return _0x36fdae[_0x2d10cc(0x15f)]({'error':'Forbidden'},0x193);const _0x325275=await _0x36fdae[_0x2d10cc(0x1be)]['DB'][_0x2d10cc(0x116)](_0x2d10cc(0x77))[_0x2d10cc(0x6f)]();return _0x36fdae[_0x2d10cc(0x15f)](_0x325275['results']||[]);}),app[a0_0x531828(0xae)](a0_0x531828(0x86),async _0x5c73c6=>{const _0x19a9fd=a0_0x531828;if(!await isAdminRequest(_0x5c73c6))return _0x5c73c6[_0x19a9fd(0x15f)]({'error':'Forbidden'},0x193);const _0x2caf13=await _0x5c73c6['req'][_0x19a9fd(0x15f)](),{uuid:_0x4c244c,exp_date:_0x405fd9,exp_time:_0x124c12,notes:_0x34710f,traffic_limit:_0x2065c0,ip_limit:_0x25044b}=_0x2caf13;if(!_0x4c244c||!_0x405fd9||!_0x124c12)return _0x5c73c6[_0x19a9fd(0x15f)]({'error':_0x19a9fd(0x18d)},0x190);try{return await _0x5c73c6[_0x19a9fd(0x1be)]['DB'][_0x19a9fd(0x116)](_0x19a9fd(0x190))[_0x19a9fd(0x81)](_0x4c244c,_0x405fd9,_0x124c12,_0x34710f||null,_0x2065c0||null,_0x25044b||-0x1)[_0x19a9fd(0x1d3)](),_0x5c73c6['json']({'success':!![],'uuid':_0x4c244c},0xc9);}catch(_0x518ff3){return _0x5c73c6[_0x19a9fd(0x15f)]({'error':_0x518ff3[_0x19a9fd(0x131)]},0x190);}}),app[a0_0x531828(0x14f)](a0_0x531828(0x1cb),async _0x301879=>{const _0x3efa2c=a0_0x531828;if(!await isAdminRequest(_0x301879))return _0x301879[_0x3efa2c(0x15f)]({'error':'Forbidden'},0x193);const _0x22af5b=_0x301879['req'][_0x3efa2c(0x114)](_0x3efa2c(0x1a3)),_0x3846c2=await _0x301879[_0x3efa2c(0x9b)][_0x3efa2c(0x15f)](),{exp_date:_0x11b92a,exp_time:_0x130d73,notes:_0x263d6b,traffic_limit:_0x2367b4,ip_limit:_0xc56eeb,reset_traffic:_0x499f10}=_0x3846c2;if(!_0x11b92a||!_0x130d73)return _0x301879[_0x3efa2c(0x15f)]({'error':_0x3efa2c(0x188)},0x190);try{let _0x11f98f='UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?';if(_0x499f10)_0x11f98f+=_0x3efa2c(0x17b);return _0x11f98f+=_0x3efa2c(0x199),await _0x301879['env']['DB'][_0x3efa2c(0x116)](_0x11f98f)[_0x3efa2c(0x81)](_0x11b92a,_0x130d73,_0x263d6b||null,_0x2367b4||null,_0xc56eeb||-0x1,_0x22af5b)[_0x3efa2c(0x1d3)](),_0x301879['json']({'success':!![],'uuid':_0x22af5b});}catch(_0x2cb462){return _0x301879[_0x3efa2c(0x15f)]({'error':_0x2cb462[_0x3efa2c(0x131)]},0x190);}}),app[a0_0x531828(0x17e)]('/admin/api/users/:uuid',async _0x29e614=>{const _0x1d96fb=a0_0x531828;if(!await isAdminRequest(_0x29e614))return _0x29e614[_0x1d96fb(0x15f)]({'error':_0x1d96fb(0x13f)},0x193);const _0x3694ac=_0x29e614['req']['param']('uuid');try{return await _0x29e614[_0x1d96fb(0x1be)]['DB']['prepare']('DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](_0x3694ac)[_0x1d96fb(0x1d3)](),_0x29e614[_0x1d96fb(0x15f)]({'success':!![],'uuid':_0x3694ac});}catch(_0x331086){return _0x29e614[_0x1d96fb(0x15f)]({'error':_0x331086[_0x1d96fb(0x131)]},0x1f4);}}),app['post'](a0_0x531828(0x1d2),async _0x22b20e=>{const _0x26fb96=a0_0x531828;if(!await isAdminRequest(_0x22b20e))return _0x22b20e[_0x26fb96(0x15f)]({'error':'Forbidden'},0x193);const _0x99a12c=_0x22b20e[_0x26fb96(0x1be)],_0x48b5f7=_0x99a12c[_0x26fb96(0xcf)]?_0x99a12c['PROXYIPS'][_0x26fb96(0x141)](',')[_0x26fb96(0xb0)](_0x5dbc10=>_0x5dbc10[_0x26fb96(0xfc)]()):[_0x26fb96(0x1b6)],_0x667c53=[];for(const _0x2f9dbe of _0x48b5f7){const [_0x3d2293,_0x16fce3=_0x26fb96(0x1b9)]=_0x2f9dbe[_0x26fb96(0x141)](':');let _0x160dcb=null,_0x164fc2=0x0;const _0x33c7b4=Date['now']();try{const _0x591e9a=new AbortController(),_0x1e9b76=setTimeout(()=>_0x591e9a['abort'](),0x1388),_0xa3fd13=await fetch(_0x26fb96(0x181)+_0x3d2293+':'+_0x16fce3,{'signal':_0x591e9a['signal']});clearTimeout(_0x1e9b76),_0xa3fd13['ok']&&(_0x160dcb=Date[_0x26fb96(0xb4)]()-_0x33c7b4,_0x164fc2=0x1);}catch(_0x31b588){}_0x667c53[_0x26fb96(0xab)](_0x99a12c['DB'][_0x26fb96(0x116)](_0x26fb96(0x7a))['bind'](_0x2f9dbe,_0x164fc2,_0x160dcb,Math[_0x26fb96(0x155)](Date[_0x26fb96(0xb4)]()/0x3e8)));}try{return await _0x99a12c['DB'][_0x26fb96(0xb5)](_0x667c53),_0x22b20e[_0x26fb96(0x15f)]({'success':!![]});}catch(_0x33870a){return _0x22b20e[_0x26fb96(0x15f)]({'error':_0x33870a['message']},0x1f4);}}),app[a0_0x531828(0xae)](a0_0x531828(0x78),async _0x356aa6=>{const _0x407dd1=a0_0x531828;try{await _0x356aa6[_0x407dd1(0x1be)]['DB'][_0x407dd1(0x116)](_0x407dd1(0xef))[_0x407dd1(0x81)]('default')[_0x407dd1(0x1d3)]();}catch(_0x5d365d){}const _0x1a77cf=new Headers();return _0x1a77cf['append'](_0x407dd1(0xdd),_0x407dd1(0x99)),addSecurityHeaders(_0x1a77cf),new Response(JSON[_0x407dd1(0xcd)]({'success':!![]}),{'headers':_0x1a77cf});}),app[a0_0x531828(0x14c)](a0_0x531828(0x186),async _0x5ed73b=>{const _0x10d3df=a0_0x531828,{uuid:_0x46a1e6}=_0x5ed73b[_0x10d3df(0x9b)][_0x10d3df(0x114)](),_0x1233c1=_0x5ed73b[_0x10d3df(0x1be)];if(!/^[0-9a-fA-F-]{36}$/['test'](_0x46a1e6))return _0x5ed73b[_0x10d3df(0x15f)]({'error':_0x10d3df(0xe6)},0x190);const _0x2bb84a=await _0x1233c1['DB'][_0x10d3df(0x116)](_0x10d3df(0x13b))[_0x10d3df(0x81)](_0x46a1e6)[_0x10d3df(0xc4)]();if(!_0x2bb84a)return _0x5ed73b[_0x10d3df(0x15f)]({'error':'not\x20found'},0x194);const _0x4a6a88=expiryToISO(_0x2bb84a[_0x10d3df(0xb3)],_0x2bb84a['expiration_time']);return _0x5ed73b[_0x10d3df(0x15f)]({'traffic_used':_0x2bb84a['traffic_used']||0x0,'traffic_limit':_0x2bb84a[_0x10d3df(0xa6)]||null,'expiration_iso':_0x4a6a88});}),app['get'](a0_0x531828(0xed),async _0x1582ed=>{const _0x1f0520=a0_0x531828,_0x505c87=_0x1582ed['req'][_0x1f0520(0x114)](_0x1f0520(0x1a3)),_0x52cf95=_0x1582ed[_0x1f0520(0x1be)];if(!/^[0-9a-fA-F-]{36}$/[_0x1f0520(0x1a9)](_0x505c87))return _0x1582ed[_0x1f0520(0x1ba)](_0x1f0520(0x9a),0x190);const _0x40fe9f=await _0x52cf95['DB']['prepare']('SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0x1f0520(0x81)](_0x505c87)[_0x1f0520(0xc4)]();if(!_0x40fe9f)return _0x1582ed[_0x1f0520(0x1ba)](_0x1f0520(0x1a1),0x193);let _0x4b7e0a=_0x52cf95[_0x1f0520(0xcf)]?_0x52cf95[_0x1f0520(0xcf)][_0x1f0520(0x141)](',')[0x0]:_0x1f0520(0x1b6);try{const _0x1485ca=await _0x52cf95['DB'][_0x1f0520(0x116)](_0x1f0520(0xe7))[_0x1f0520(0xc4)]();if(_0x1485ca?.[_0x1f0520(0x13c)])_0x4b7e0a=_0x1485ca[_0x1f0520(0x13c)];}catch(_0xeacfb6){}const _0x96fbe4=_0x1582ed[_0x1f0520(0x9b)]['headers'][_0x1f0520(0x14c)](_0x1f0520(0xdb))||'example.com',_0x1cb4c9=_0x1f0520(0x181)+_0x96fbe4+_0x1f0520(0x95)+_0x505c87,_0xb98d1a='https://'+_0x96fbe4+_0x1f0520(0x124)+_0x505c87,_0x2e3fc2=expiryToISO(_0x40fe9f['expiration_date'],_0x40fe9f[_0x1f0520(0x91)]),_0x446000='<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>'+_0x505c87+_0x1f0520(0x19f)+_0x4b7e0a+'</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22'+_0x1cb4c9+'\x22>'+_0x1cb4c9+_0x1f0520(0x90)+_0xb98d1a+'\x22>'+_0xb98d1a+_0x1f0520(0x6e)+_0x505c87+_0x1f0520(0x195)+(_0x40fe9f[_0x1f0520(0x1a5)]||0x0)+'\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20'+(_0x2e3fc2||_0x1f0520(0x18a))+_0x1f0520(0x7f),_0x2e550d=new Headers({'Content-Type':_0x1f0520(0x130)});return addSecurityHeaders(_0x2e550d),new Response(_0x446000,{'headers':_0x2e550d});}),app[a0_0x531828(0x14c)]('/xray/:uuid',async _0xf87049=>{const _0x58c070=a0_0x531828,_0x2dc1b6=_0xf87049[_0x58c070(0x9b)]['param'](_0x58c070(0x1a3));if(!/^[0-9a-fA-F-]{36}$/[_0x58c070(0x1a9)](_0x2dc1b6))return _0xf87049[_0x58c070(0x1ba)](_0x58c070(0x9a),0x190);const _0x319059=_0xf87049[_0x58c070(0x9b)][_0x58c070(0xb7)][_0x58c070(0x14c)]('Host')||_0x58c070(0x16a),_0x4503e8=[_0x58c070(0xf2)+_0x2dc1b6+'@'+_0x319059+_0x58c070(0x17f)+_0x319059+_0x58c070(0x122)],_0x4a6092=new Headers({'Content-Type':_0x58c070(0xbd)});return addSecurityHeaders(_0x4a6092),new Response(btoa(_0x4503e8['join']('\x0a')),{'headers':_0x4a6092});}),app[a0_0x531828(0x14c)](a0_0x531828(0xf7),async _0x10fe25=>{const _0x236fd5=a0_0x531828,_0x3eba9f=_0x10fe25[_0x236fd5(0x9b)][_0x236fd5(0x114)]('uuid');if(!/^[0-9a-fA-F-]{36}$/[_0x236fd5(0x1a9)](_0x3eba9f))return _0x10fe25[_0x236fd5(0x1ba)](_0x236fd5(0x9a),0x190);const _0x405558=_0x10fe25['req'][_0x236fd5(0xb7)][_0x236fd5(0x14c)](_0x236fd5(0xdb))||_0x236fd5(0x16a),_0x2dfa2d=[_0x236fd5(0xf2)+_0x3eba9f+'@'+_0x405558+_0x236fd5(0x17f)+_0x405558+'&path=/ws#singbox'],_0xd459c7=new Headers({'Content-Type':'text/plain;charset=utf-8'});return addSecurityHeaders(_0xd459c7),new Response(btoa(_0x2dfa2d[_0x236fd5(0x166)]('\x0a')),{'headers':_0xd459c7});}),app[a0_0x531828(0x6f)](a0_0x531828(0x178),async _0x56cbe7=>{const _0x114fb5=a0_0x531828,_0x3c0000=_0x56cbe7[_0x114fb5(0x9b)],_0x260abf=_0x56cbe7[_0x114fb5(0x1be)];if(_0x3c0000[_0x114fb5(0xb7)]['get'](_0x114fb5(0x1b8))?.['toLowerCase']()!==_0x114fb5(0x70))return _0x56cbe7['text']('Must\x20upgrade\x20to\x20WebSocket',0x190);try{if(_0x260abf['VLESS_WASM'])try{await initWasm();}catch(_0x1ace4b){console['warn'](_0x114fb5(0x113),_0x1ace4b);}}catch(_0x1cca19){console['warn'](_0x114fb5(0x11f),_0x1cca19);}const _0x30ff32=new WebSocketPair(),[_0x7ff09d,_0x546cf6]=Object['values'](_0x30ff32);_0x546cf6[_0x114fb5(0x144)]();let _0x20cca8=0x0,_0x322c54='';const _0x24ac92=async()=>{const _0x39ea36=_0x114fb5;try{if(!_0x322c54||_0x20cca8<=0x0)return;_0x56cbe7[_0x39ea36(0x74)]['waitUntil'](((async()=>{const _0x3efad4=_0x39ea36;try{await _0x260abf['DB'][_0x3efad4(0x116)](_0x3efad4(0x152))[_0x3efad4(0x81)](Math['round'](_0x20cca8),_0x322c54)[_0x3efad4(0x1d3)]();}catch(_0x541d96){console[_0x3efad4(0x82)](_0x3efad4(0x14d),_0x541d96);}})())),_0x20cca8=0x0;}catch(_0x12da71){console[_0x39ea36(0x82)](_0x39ea36(0x105),_0x12da71);}},_0x4c1d7c=setInterval(()=>{_0x24ac92();},0x2710);_0x546cf6['addEventListener'](_0x114fb5(0x131),async _0x1de84b=>{const _0x1a13b8=_0x114fb5;try{const _0x3bacd8=_0x1de84b[_0x1a13b8(0x9d)];let _0x40bc74;if(typeof _0x3bacd8===_0x1a13b8(0x158))_0x40bc74=new TextEncoder()[_0x1a13b8(0x15c)](_0x3bacd8);else{if(_0x3bacd8 instanceof ArrayBuffer)_0x40bc74=new Uint8Array(_0x3bacd8);else{if(_0x3bacd8 instanceof Blob)_0x40bc74=new Uint8Array(await _0x3bacd8[_0x1a13b8(0x1c4)]());else return;}}_0x20cca8+=_0x40bc74[_0x1a13b8(0x8f)];if(!_0x322c54)try{if(_0x40bc74[_0x1a13b8(0x8f)]<0x18){}let _0x5cda1a=null;try{_0x5cda1a=await parseVlessHeader(_0x40bc74);}catch(_0x347f6c){console[_0x1a13b8(0xb1)](_0x1a13b8(0xcc),_0x347f6c);}if(!_0x5cda1a){const _0x5eca80=new DataView(_0x40bc74['buffer']),_0x36dd26=new Uint8Array(_0x40bc74[_0x1a13b8(0x1bb)][_0x1a13b8(0x88)](0x1,0x11)),_0x1c7610=Array['from'](_0x36dd26)[_0x1a13b8(0xb0)](_0x23e2b3=>_0x23e2b3['toString'](0x10)['padStart'](0x2,'0'))['join'](''),_0x32a601=_0x1c7610['substring'](0x0,0x8)+'-'+_0x1c7610['substring'](0x8,0xc)+'-'+_0x1c7610[_0x1a13b8(0x94)](0xc,0x10)+'-'+_0x1c7610[_0x1a13b8(0x94)](0x10,0x14)+'-'+_0x1c7610[_0x1a13b8(0x94)](0x14,0x20);_0x5cda1a={'uuid':_0x32a601,'command':_0x5eca80['getUint8'](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x322c54=_0x5cda1a['uuid'];const _0x11f635=await _0x260abf['DB']['prepare']('SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')['bind'](_0x322c54)[_0x1a13b8(0xc4)]();if(!_0x11f635){_0x546cf6[_0x1a13b8(0x137)](0x3f3,_0x1a13b8(0x1a1));return;}const _0x21a3ee=expiryToISO(_0x11f635[_0x1a13b8(0xb3)],_0x11f635[_0x1a13b8(0x91)]);if(_0x21a3ee&&new Date(_0x21a3ee)<=new Date()){_0x546cf6[_0x1a13b8(0x137)](0x3f0,_0x1a13b8(0x1c8));return;}if(_0x11f635[_0x1a13b8(0xa6)]&&_0x11f635[_0x1a13b8(0xa6)]>0x0&&(_0x11f635[_0x1a13b8(0x1a5)]||0x0)>=_0x11f635[_0x1a13b8(0xa6)]){_0x546cf6[_0x1a13b8(0x137)](0x3f0,'Traffic\x20limit\x20exceeded');return;}try{const _0x1209e6=_0x3c0000[_0x1a13b8(0xb7)][_0x1a13b8(0x14c)](_0x1a13b8(0x19c))||_0x3c0000[_0x1a13b8(0xb7)][_0x1a13b8(0x14c)](_0x1a13b8(0xb2))||'';if(_0x11f635['ip_limit']&&_0x11f635[_0x1a13b8(0x146)]>-0x1){const _0x4b09cb=await _0x260abf['DB'][_0x1a13b8(0x116)](_0x1a13b8(0x192))[_0x1a13b8(0x81)](_0x322c54)['first'](),_0x533329=_0x4b09cb?.[_0x1a13b8(0xd9)]||0x0;if(_0x533329>=_0x11f635['ip_limit']){_0x546cf6[_0x1a13b8(0x137)](0x3f0,_0x1a13b8(0x7c));return;}}_0x56cbe7['executionCtx'][_0x1a13b8(0x183)](((async()=>{const _0xa2d668=_0x1a13b8;try{await _0x260abf['DB']['prepare'](_0xa2d668(0x102))[_0xa2d668(0x81)](_0x322c54,_0x3c0000[_0xa2d668(0xb7)][_0xa2d668(0x14c)](_0xa2d668(0x19c))||_0xa2d668(0x165))[_0xa2d668(0x1d3)]();}catch(_0x457444){console[_0xa2d668(0xb1)](_0xa2d668(0x129),_0x457444);}})()));}catch(_0x121c07){console['warn']('ip_limit\x20check\x20err',_0x121c07);}}catch(_0x91648){console['error'](_0x1a13b8(0x1ab),_0x91648),_0x546cf6['close'](0x3f3,_0x1a13b8(0x1c9));return;}try{_0x546cf6['readyState']===0x1&&_0x546cf6[_0x1a13b8(0x154)](_0x1a13b8(0x1ad));}catch(_0x1f7ce9){console[_0x1a13b8(0xb1)](_0x1a13b8(0x1d7),_0x1f7ce9);}}catch(_0x1f9a69){console[_0x1a13b8(0x82)](_0x1a13b8(0x1d0),_0x1f9a69);try{_0x546cf6['close'](0x3f3,'Internal\x20error');}catch(_0x51cec7){}}}),_0x546cf6[_0x114fb5(0x170)](_0x114fb5(0x137),async()=>{const _0x55aa09=_0x114fb5;clearInterval(_0x4c1d7c);try{await _0x24ac92();}catch(_0x29e393){console['warn'](_0x55aa09(0x1b2),_0x29e393);}});const _0x14a43c=new Headers();return addSecurityHeaders(_0x14a43c),new Response(null,{'status':0x65,'webSocket':_0x7ff09d,'headers':_0x14a43c});}),app[a0_0x531828(0x14c)]('/static/*',async _0x3219d3=>{const _0x3ee746=a0_0x531828;return _0x3219d3[_0x3ee746(0x1ba)](_0x3ee746(0x13e));});var src_default={'fetch':app[a0_0x531828(0x149)]};export{src_default as default,expiryToISO};