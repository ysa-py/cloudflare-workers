const a0_0x52a09f=a0_0x4509;(function(_0x4c1511,_0x143c0b){const _0x37f938=a0_0x4509,_0x4f20bb=_0x4c1511();while(!![]){try{const _0x38b4e3=-parseInt(_0x37f938(0x167))/0x1*(parseInt(_0x37f938(0x196))/0x2)+parseInt(_0x37f938(0x215))/0x3+-parseInt(_0x37f938(0x1ac))/0x4+-parseInt(_0x37f938(0x225))/0x5+parseInt(_0x37f938(0x12d))/0x6+-parseInt(_0x37f938(0x260))/0x7*(parseInt(_0x37f938(0x204))/0x8)+-parseInt(_0x37f938(0x181))/0x9*(-parseInt(_0x37f938(0x12e))/0xa);if(_0x38b4e3===_0x143c0b)break;else _0x4f20bb['push'](_0x4f20bb['shift']());}catch(_0x9d135){_0x4f20bb['push'](_0x4f20bb['shift']());}}}(a0_0x4384,0xe2029));const a0_0x419604=(function(){let _0x48562f=!![];return function(_0x368a42,_0x968068){const _0x41b8b5=_0x48562f?function(){const _0x1b884f=a0_0x4509;if(_0x968068){const _0x2cfdd2=_0x968068[_0x1b884f(0x29a)](_0x368a42,arguments);return _0x968068=null,_0x2cfdd2;}}:function(){};return _0x48562f=![],_0x41b8b5;};}()),a0_0x2a0aa6=a0_0x419604(this,function(){const _0x1ea3bb=a0_0x4509;return a0_0x2a0aa6[_0x1ea3bb(0x158)]()['search'](_0x1ea3bb(0x252))[_0x1ea3bb(0x158)]()[_0x1ea3bb(0x17a)](a0_0x2a0aa6)[_0x1ea3bb(0x24f)]('(((.+)+)+)+$');});a0_0x2a0aa6();var splitPath=_0x531b49=>{const _0x33ed49=_0x531b49['split']('/');return _0x33ed49[0x0]===''&&_0x33ed49['shift'](),_0x33ed49;},splitRoutingPath=_0x186b43=>{const {groups:_0xd24a8b,path:_0x1dad71}=extractGroupsFromPath(_0x186b43),_0x58b710=splitPath(_0x1dad71);return replaceGroupMarks(_0x58b710,_0xd24a8b);},extractGroupsFromPath=_0x28ab4d=>{const _0x840b06=[];return _0x28ab4d=_0x28ab4d['replace'](/\{[^}]+\}/g,(_0x43598e,_0x3134c9)=>{const _0x1bb341=a0_0x4509,_0x587b29='@'+_0x3134c9;return _0x840b06[_0x1bb341(0x205)]([_0x587b29,_0x43598e]),_0x587b29;}),{'groups':_0x840b06,'path':_0x28ab4d};},replaceGroupMarks=(_0x5ae033,_0x3f5d61)=>{const _0x46c0da=a0_0x4509;for(let _0xa2770f=_0x3f5d61['length']-0x1;_0xa2770f>=0x0;_0xa2770f--){const [_0x3d08f1]=_0x3f5d61[_0xa2770f];for(let _0x3b092a=_0x5ae033[_0x46c0da(0x1bb)]-0x1;_0x3b092a>=0x0;_0x3b092a--){if(_0x5ae033[_0x3b092a][_0x46c0da(0x131)](_0x3d08f1)){_0x5ae033[_0x3b092a]=_0x5ae033[_0x3b092a][_0x46c0da(0x1d6)](_0x3d08f1,_0x3f5d61[_0xa2770f][0x1]);break;}}}return _0x5ae033;},patternCache={},getPattern=_0x214501=>{const _0x1de781=a0_0x4509;if(_0x214501==='*')return'*';const _0x5e2e3c=_0x214501[_0x1de781(0x146)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x5e2e3c)return!patternCache[_0x214501]&&(_0x5e2e3c[0x2]?patternCache[_0x214501]=[_0x214501,_0x5e2e3c[0x1],new RegExp('^'+_0x5e2e3c[0x2]+'$')]:patternCache[_0x214501]=[_0x214501,_0x5e2e3c[0x1],!![]]),patternCache[_0x214501];return null;},getPath=_0x40791a=>{const _0x2ad401=a0_0x4509,_0x4509be=_0x40791a[_0x2ad401(0x236)][_0x2ad401(0x146)](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x4509be?_0x4509be[0x1]:'';},getQueryStrings=_0x10e44c=>{const _0x43de64=a0_0x4509,_0x5d1c6f=_0x10e44c[_0x43de64(0x194)]('?',0x8);return _0x5d1c6f===-0x1?'':'?'+_0x10e44c[_0x43de64(0x1a8)](_0x5d1c6f+0x1);},getPathNoStrict=_0x5063bf=>{const _0x432dff=a0_0x4509,_0x1a0358=getPath(_0x5063bf);return _0x1a0358['length']>0x1&&_0x1a0358[_0x1a0358['length']-0x1]==='/'?_0x1a0358[_0x432dff(0x1a8)](0x0,-0x1):_0x1a0358;},mergePath=(..._0x45cc73)=>{const _0x5e8821=a0_0x4509;let _0x13e17f='',_0x5a3bdf=![];for(let _0x263873 of _0x45cc73){_0x13e17f[_0x13e17f[_0x5e8821(0x1bb)]-0x1]==='/'&&(_0x13e17f=_0x13e17f['slice'](0x0,-0x1),_0x5a3bdf=!![]);_0x263873[0x0]!=='/'&&(_0x263873='/'+_0x263873);if(_0x263873==='/'&&_0x5a3bdf)_0x13e17f=_0x13e17f+'/';else _0x263873!=='/'&&(_0x13e17f=''+_0x13e17f+_0x263873);_0x263873==='/'&&_0x13e17f===''&&(_0x13e17f='/');}return _0x13e17f;},checkOptionalParameter=_0x2e0a84=>{const _0x3ae8d3=a0_0x4509;if(!_0x2e0a84[_0x3ae8d3(0x146)](/\:.+\?$/))return null;const _0x15dfe7=_0x2e0a84[_0x3ae8d3(0x26e)]('/'),_0x3afc76=[];let _0x2bc18f='';return _0x15dfe7['forEach'](_0x1704b4=>{const _0x538132=_0x3ae8d3;if(_0x1704b4!==''&&!/\:/[_0x538132(0x22b)](_0x1704b4))_0x2bc18f+='/'+_0x1704b4;else{if(/\:/[_0x538132(0x22b)](_0x1704b4)){if(/\?/[_0x538132(0x22b)](_0x1704b4)){_0x3afc76[_0x538132(0x1bb)]===0x0&&_0x2bc18f===''?_0x3afc76[_0x538132(0x205)]('/'):_0x3afc76[_0x538132(0x205)](_0x2bc18f);const _0x29a8a7=_0x1704b4['replace']('?','');_0x2bc18f+='/'+_0x29a8a7,_0x3afc76[_0x538132(0x205)](_0x2bc18f);}else _0x2bc18f+='/'+_0x1704b4;}}}),_0x3afc76[_0x3ae8d3(0x180)]((_0x5ee061,_0x5df76f,_0x514b23)=>_0x514b23[_0x3ae8d3(0x194)](_0x5ee061)===_0x5df76f);},_decodeURI=_0x102d20=>{const _0x1316d0=a0_0x4509;if(!/[%+]/[_0x1316d0(0x22b)](_0x102d20))return _0x102d20;return _0x102d20[_0x1316d0(0x194)]('+')!==-0x1&&(_0x102d20=_0x102d20[_0x1316d0(0x1d6)](/\+/g,'\x20')),/%/[_0x1316d0(0x22b)](_0x102d20)?decodeURIComponent_(_0x102d20):_0x102d20;},_getQueryParam=(_0x3789b1,_0x529961,_0x1337f2)=>{const _0x1cd412=a0_0x4509;let _0x1a11bf;if(!_0x1337f2&&_0x529961&&!/[%+]/[_0x1cd412(0x22b)](_0x529961)){let _0x124139=_0x3789b1['indexOf']('?'+_0x529961,0x8);_0x124139===-0x1&&(_0x124139=_0x3789b1[_0x1cd412(0x194)]('&'+_0x529961,0x8));while(_0x124139!==-0x1){const _0x5d6ac5=_0x3789b1[_0x1cd412(0x1cf)](_0x124139+_0x529961[_0x1cd412(0x1bb)]+0x1);if(_0x5d6ac5===0x3d){const _0x21990f=_0x124139+_0x529961[_0x1cd412(0x1bb)]+0x2,_0x11fe03=_0x3789b1[_0x1cd412(0x194)]('&',_0x21990f);return _decodeURI(_0x3789b1['slice'](_0x21990f,_0x11fe03===-0x1?void 0x0:_0x11fe03));}else{if(_0x5d6ac5==0x26||isNaN(_0x5d6ac5))return'';}_0x124139=_0x3789b1['indexOf']('&'+_0x529961,_0x124139+0x1);}_0x1a11bf=/[%+]/[_0x1cd412(0x22b)](_0x3789b1);if(!_0x1a11bf)return void 0x0;}const _0x5f29e5={};_0x1a11bf??(_0x1a11bf=/[%+]/[_0x1cd412(0x22b)](_0x3789b1));let _0xe565bc=_0x3789b1[_0x1cd412(0x194)]('?',0x8);while(_0xe565bc!==-0x1){const _0x4ad4ac=_0x3789b1['indexOf']('&',_0xe565bc+0x1);let _0x5a88ef=_0x3789b1[_0x1cd412(0x194)]('=',_0xe565bc);_0x5a88ef>_0x4ad4ac&&_0x4ad4ac!==-0x1&&(_0x5a88ef=-0x1);let _0x38f594=_0x3789b1[_0x1cd412(0x1a8)](_0xe565bc+0x1,_0x5a88ef===-0x1?_0x4ad4ac===-0x1?void 0x0:_0x4ad4ac:_0x5a88ef);_0x1a11bf&&(_0x38f594=_decodeURI(_0x38f594));_0xe565bc=_0x4ad4ac;if(_0x38f594==='')continue;let _0x3358d5;_0x5a88ef===-0x1?_0x3358d5='':(_0x3358d5=_0x3789b1[_0x1cd412(0x1a8)](_0x5a88ef+0x1,_0x4ad4ac===-0x1?void 0x0:_0x4ad4ac),_0x1a11bf&&(_0x3358d5=_decodeURI(_0x3358d5)));if(_0x1337f2){!(_0x5f29e5[_0x38f594]&&Array[_0x1cd412(0x20c)](_0x5f29e5[_0x38f594]))&&(_0x5f29e5[_0x38f594]=[]);;_0x5f29e5[_0x38f594][_0x1cd412(0x205)](_0x3358d5);}else _0x5f29e5[_0x38f594]??(_0x5f29e5[_0x38f594]=_0x3358d5);}return _0x529961?_0x5f29e5[_0x529961]:_0x5f29e5;},getQueryParam=_getQueryParam,getQueryParams=(_0x3d9b29,_0x5dee60)=>{return _getQueryParam(_0x3d9b29,_0x5dee60,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x4b768e,_0x4ca4a9)=>{const _0x3acc38=a0_0x4509,_0x48922d=_0x4b768e[_0x3acc38(0x197)]()[_0x3acc38(0x26e)](';');return _0x48922d[_0x3acc38(0x183)]((_0x3e7e5a,_0x1a20a5)=>{const _0x3d5f43=_0x3acc38;_0x1a20a5=_0x1a20a5[_0x3d5f43(0x197)]();const _0x42736f=_0x1a20a5[_0x3d5f43(0x194)]('=');if(_0x42736f===-0x1)return _0x3e7e5a;const _0x41c571=_0x1a20a5['substring'](0x0,_0x42736f)['trim']();if(_0x4ca4a9&&_0x4ca4a9!==_0x41c571||!validCookieNameRegEx[_0x3d5f43(0x22b)](_0x41c571))return _0x3e7e5a;let _0xe61006=_0x1a20a5['substring'](_0x42736f+0x1)[_0x3d5f43(0x197)]();return _0xe61006[_0x3d5f43(0x284)]('\x22')&&_0xe61006[_0x3d5f43(0x224)]('\x22')&&(_0xe61006=_0xe61006[_0x3d5f43(0x1a8)](0x1,-0x1)),validCookieValueRegEx[_0x3d5f43(0x22b)](_0xe61006)&&(_0x3e7e5a[_0x41c571]=decodeURIComponent_(_0xe61006)),_0x3e7e5a;},{});},_serialize=(_0x4a5567,_0x314997,_0x3c3406={})=>{const _0x26238f=a0_0x4509;let _0x6359ba=_0x4a5567+'='+_0x314997;return _0x3c3406&&typeof _0x3c3406[_0x26238f(0x29c)]===_0x26238f(0x279)&&_0x3c3406['maxAge']>=0x0&&(_0x6359ba+=';\x20Max-Age='+Math['floor'](_0x3c3406[_0x26238f(0x29c)])),_0x3c3406[_0x26238f(0x163)]&&(_0x6359ba+=_0x26238f(0x29d)+_0x3c3406[_0x26238f(0x163)]),_0x3c3406[_0x26238f(0x16b)]&&(_0x6359ba+=_0x26238f(0x24d)+_0x3c3406['path']),_0x3c3406[_0x26238f(0x201)]&&(_0x6359ba+=';\x20Expires='+_0x3c3406[_0x26238f(0x201)][_0x26238f(0x150)]()),_0x3c3406['httpOnly']&&(_0x6359ba+=_0x26238f(0x156)),_0x3c3406['secure']&&(_0x6359ba+=_0x26238f(0x179)),_0x3c3406[_0x26238f(0x154)]&&(_0x6359ba+=_0x26238f(0x228)+_0x3c3406[_0x26238f(0x154)]),_0x3c3406['partitioned']&&(_0x6359ba+=_0x26238f(0x20f)),_0x6359ba;},serialize=(_0x3ae6bf,_0x20bc43,_0x3ca167={})=>{return _0x20bc43=encodeURIComponent(_0x20bc43),_serialize(_0x3ae6bf,_0x20bc43,_0x3ca167);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0x5e81d8,_0x5c3a81)=>{const _0x97b526=a0_0x4509,_0x88efd0=new String(_0x5e81d8);return _0x88efd0[_0x97b526(0x13e)]=!![],_0x88efd0['callbacks']=_0x5c3a81,_0x88efd0;},resolveCallback=async(_0x26d42d,_0x12add2,_0x453a30,_0x3fa9df,_0x959526)=>{const _0x2f8e57=a0_0x4509,_0x27c78e=_0x26d42d[_0x2f8e57(0x21a)];if(!_0x27c78e?.[_0x2f8e57(0x1bb)])return Promise['resolve'](_0x26d42d);_0x959526?_0x959526[0x0]+=_0x26d42d:_0x959526=[_0x26d42d];const _0x46e048=Promise[_0x2f8e57(0x17f)](_0x27c78e[_0x2f8e57(0x16a)](_0x800198=>_0x800198({'phase':_0x12add2,'buffer':_0x959526,'context':_0x3fa9df})))[_0x2f8e57(0x22d)](_0x2ecbf5=>Promise[_0x2f8e57(0x17f)](_0x2ecbf5[_0x2f8e57(0x180)](Boolean)[_0x2f8e57(0x16a)](_0x37824c=>resolveCallback(_0x37824c,_0x12add2,![],_0x3fa9df,_0x959526)))[_0x2f8e57(0x22d)](()=>_0x959526[0x0]));return _0x453a30?raw(await _0x46e048,_0x27c78e):_0x46e048;},StreamingApi=class{constructor(_0x19070f,_0xddb9e1){const _0x5f55a5=a0_0x4509;this[_0x5f55a5(0x289)]=[],this[_0x5f55a5(0x1ae)]=_0x19070f,this[_0x5f55a5(0x19f)]=_0x19070f[_0x5f55a5(0x28d)](),this['encoder']=new TextEncoder();const _0x245696=_0xddb9e1[_0x5f55a5(0x19c)]();this[_0x5f55a5(0x16e)]=new ReadableStream({async 'pull'(_0x44b5ed){const _0x4c1296=_0x5f55a5,{done:_0x101703,value:_0x4cf3d8}=await _0x245696[_0x4c1296(0x141)]();_0x101703?_0x44b5ed[_0x4c1296(0x266)]():_0x44b5ed['enqueue'](_0x4cf3d8);},'cancel':()=>{const _0x2cc5ab=_0x5f55a5;this[_0x2cc5ab(0x289)]['forEach'](_0x325198=>_0x325198());}});}async[a0_0x52a09f(0x152)](_0x1773a6){const _0x3cf43a=a0_0x52a09f;try{typeof _0x1773a6==='string'&&(_0x1773a6=this[_0x3cf43a(0x172)][_0x3cf43a(0x1b8)](_0x1773a6)),await this[_0x3cf43a(0x19f)][_0x3cf43a(0x152)](_0x1773a6);}catch(_0x33f031){}return this;}async['writeln'](_0x32c520){const _0x382e69=a0_0x52a09f;return await this[_0x382e69(0x152)](_0x32c520+'\x0a'),this;}[a0_0x52a09f(0x244)](_0x178e97){return new Promise(_0x972240=>setTimeout(_0x972240,_0x178e97));}async[a0_0x52a09f(0x266)](){const _0x4de235=a0_0x52a09f;try{await this['writer'][_0x4de235(0x266)]();}catch(_0x10e2fb){}}async['pipe'](_0x12669b){const _0x33c02d=a0_0x52a09f;this[_0x33c02d(0x19f)]['releaseLock'](),await _0x12669b['pipeTo'](this[_0x33c02d(0x1ae)],{'preventClose':!![]}),this[_0x33c02d(0x19f)]=this[_0x33c02d(0x1ae)][_0x33c02d(0x28d)]();}async[a0_0x52a09f(0x1e8)](_0x139de4){const _0x165b38=a0_0x52a09f;this['abortSubscribers'][_0x165b38(0x205)](_0x139de4);}},__accessCheck=(_0x9ae742,_0x4e33f8,_0x13b338)=>{const _0x11c34f=a0_0x52a09f;if(!_0x4e33f8[_0x11c34f(0x290)](_0x9ae742))throw TypeError(_0x11c34f(0x1a9)+_0x13b338);},__privateGet=(_0x521315,_0x31c912,_0x1046ea)=>{const _0xb16dd1=a0_0x52a09f;return __accessCheck(_0x521315,_0x31c912,_0xb16dd1(0x21d)),_0x1046ea?_0x1046ea[_0xb16dd1(0x1da)](_0x521315):_0x31c912[_0xb16dd1(0x202)](_0x521315);},__privateAdd=(_0x260182,_0x5f2118,_0x4f3668)=>{const _0x2c97f6=a0_0x52a09f;if(_0x5f2118['has'](_0x260182))throw TypeError('Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once');_0x5f2118 instanceof WeakSet?_0x5f2118[_0x2c97f6(0x29b)](_0x260182):_0x5f2118[_0x2c97f6(0x17c)](_0x260182,_0x4f3668);},__privateSet=(_0x567b8f,_0x4f60ba,_0x5cb4f0,_0x203bea)=>{const _0x2e9de0=a0_0x52a09f;return __accessCheck(_0x567b8f,_0x4f60ba,'write\x20to\x20private\x20field'),_0x203bea?_0x203bea[_0x2e9de0(0x1da)](_0x567b8f,_0x5cb4f0):_0x4f60ba[_0x2e9de0(0x17c)](_0x567b8f,_0x5cb4f0),_0x5cb4f0;},TEXT_PLAIN='text/plain;\x20charset=UTF-8',setHeaders=(_0x128757,_0x5d7323={})=>{const _0x23c86c=a0_0x52a09f;return Object[_0x23c86c(0x295)](_0x5d7323)[_0x23c86c(0x178)](([_0x1df783,_0x5a13fd])=>_0x128757[_0x23c86c(0x17c)](_0x1df783,_0x5a13fd)),_0x128757;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x5f34fc,_0x107f76){const _0x40d97f=a0_0x52a09f;this['env']={},this[_0x40d97f(0x1c7)]={},this[_0x40d97f(0x21e)]=![],this[_0x40d97f(0x298)]=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this[_0x40d97f(0x1af)]=_0x5269cd=>this['html'](_0x5269cd),this[_0x40d97f(0x245)]=()=>new Response(),this[_0x40d97f(0x151)]=(..._0x45bb42)=>this[_0x40d97f(0x1af)](..._0x45bb42),this[_0x40d97f(0x1f5)]=_0xe86aed=>{const _0x61a45d=_0x40d97f;this[_0x61a45d(0x1af)]=_0xe86aed;},this[_0x40d97f(0x175)]=(_0xf9707e,_0x3d5e78,_0x2a0980)=>{const _0x142fac=_0x40d97f;if(_0x3d5e78===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)['delete'](_0xf9707e);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0xf9707e[_0x142fac(0x251)]()];this['finalized']&&this[_0x142fac(0x135)][_0x142fac(0x254)][_0x142fac(0x14b)](_0xf9707e);return;}_0x2a0980?.[_0x142fac(0x282)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)['append'](_0xf9707e,_0x3d5e78)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x142fac(0x17c)](_0xf9707e,_0x3d5e78):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0xf9707e['toLowerCase']()]=_0x3d5e78),this[_0x142fac(0x21e)]&&(_0x2a0980?.[_0x142fac(0x282)]?this[_0x142fac(0x135)]['headers'][_0x142fac(0x282)](_0xf9707e,_0x3d5e78):this[_0x142fac(0x135)]['headers'][_0x142fac(0x17c)](_0xf9707e,_0x3d5e78));},this[_0x40d97f(0x1e3)]=_0x4a5b04=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x4a5b04);},this[_0x40d97f(0x17c)]=(_0x5110b7,_0x5f05e8)=>{const _0x23f5f6=_0x40d97f;this[_0x23f5f6(0x1c7)]??(this['_var']={}),this[_0x23f5f6(0x1c7)][_0x5110b7]=_0x5f05e8;},this[_0x40d97f(0x202)]=_0x4b4d83=>{const _0x495e68=_0x40d97f;return this[_0x495e68(0x1c7)]?this[_0x495e68(0x1c7)][_0x4b4d83]:void 0x0;},this[_0x40d97f(0x29e)]=(_0x1a7fcf,_0x1ad825,_0x33528d)=>{const _0x28b7b4=_0x40d97f;if(__privateGet(this,_isFresh)&&!_0x33528d&&!_0x1ad825&&__privateGet(this,_status)===0xc8)return new Response(_0x1a7fcf,{'headers':__privateGet(this,_preparedHeaders)});if(_0x1ad825&&typeof _0x1ad825!==_0x28b7b4(0x279)){const _0x5e5838=setHeaders(new Headers(_0x1ad825[_0x28b7b4(0x254)]),__privateGet(this,_preparedHeaders));return new Response(_0x1a7fcf,{'headers':_0x5e5838,'status':_0x1ad825['status']});}const _0x50428b=typeof _0x1ad825===_0x28b7b4(0x279)?_0x1ad825:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)[_0x28b7b4(0x254)][_0x28b7b4(0x178)]((_0x411dab,_0x4bebcd)=>{const _0x56c296=_0x28b7b4;__privateGet(this,_headers)?.[_0x56c296(0x17c)](_0x4bebcd,_0x411dab);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x33528d??(_0x33528d={});for(const [_0x28191d,_0x1b03f9]of Object[_0x28b7b4(0x295)](_0x33528d)){if(typeof _0x1b03f9==='string')__privateGet(this,_headers)[_0x28b7b4(0x17c)](_0x28191d,_0x1b03f9);else{__privateGet(this,_headers)[_0x28b7b4(0x14b)](_0x28191d);for(const _0x40fdf6 of _0x1b03f9){__privateGet(this,_headers)[_0x28b7b4(0x282)](_0x28191d,_0x40fdf6);}}}return new Response(_0x1a7fcf,{'status':_0x50428b,'headers':__privateGet(this,_headers)});},this['body']=(_0x2afc0c,_0x56598f,_0x40f8f1)=>{const _0x568d06=_0x40d97f;return typeof _0x56598f===_0x568d06(0x279)?this['newResponse'](_0x2afc0c,_0x56598f,_0x40f8f1):this[_0x568d06(0x29e)](_0x2afc0c,_0x56598f);},this[_0x40d97f(0x186)]=(_0x4fb6e9,_0x56bb47,_0xf55408)=>{const _0x93bc25=_0x40d97f;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0xf55408&&!_0x56bb47)return new Response(_0x4fb6e9);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)[_0x93bc25(0x26c)]=TEXT_PLAIN,typeof _0x56bb47==='number'?this['newResponse'](_0x4fb6e9,_0x56bb47,_0xf55408):this[_0x93bc25(0x29e)](_0x4fb6e9,_0x56bb47);},this[_0x40d97f(0x25b)]=(_0x44626c,_0x218cb6,_0x10dca5)=>{const _0x1617cb=_0x40d97f,_0x14eede=JSON['stringify'](_0x44626c);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x1617cb(0x26c)]='application/json;\x20charset=UTF-8',typeof _0x218cb6==='number'?this[_0x1617cb(0x29e)](_0x14eede,_0x218cb6,_0x10dca5):this['newResponse'](_0x14eede,_0x218cb6);},this[_0x40d97f(0x26a)]=(_0x373d11,_0x3dac15,_0x22e8c4)=>{const _0xfed3d=_0x40d97f;return this[_0xfed3d(0x25b)](_0x373d11,_0x3dac15,_0x22e8c4);},this['html']=(_0x28708e,_0x2ae116,_0x3f88d0)=>{const _0x395d17=_0x40d97f;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x395d17(0x26c)]=_0x395d17(0x1b1);if(typeof _0x28708e===_0x395d17(0x242)){!(_0x28708e instanceof Promise)&&(_0x28708e=_0x28708e[_0x395d17(0x158)]());if(_0x28708e instanceof Promise)return _0x28708e[_0x395d17(0x22d)](_0x2155ad=>resolveCallback(_0x2155ad,HtmlEscapedCallbackPhase['Stringify'],![],{}))[_0x395d17(0x22d)](_0x39e30b=>{const _0x1f6f92=_0x395d17;return typeof _0x2ae116===_0x1f6f92(0x279)?this[_0x1f6f92(0x29e)](_0x39e30b,_0x2ae116,_0x3f88d0):this['newResponse'](_0x39e30b,_0x2ae116);});}return typeof _0x2ae116===_0x395d17(0x279)?this[_0x395d17(0x29e)](_0x28708e,_0x2ae116,_0x3f88d0):this[_0x395d17(0x29e)](_0x28708e,_0x2ae116);},this[_0x40d97f(0x13c)]=(_0x58ba31,_0x41a7ba=0x12e)=>{const _0x7d5cd1=_0x40d97f;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0x7d5cd1(0x17c)]('Location',_0x58ba31),this[_0x7d5cd1(0x29e)](null,_0x41a7ba);},this[_0x40d97f(0x292)]=(_0xa76f20,_0x697464,_0x17d099)=>{const _0x373937=_0x40d97f;return _0x17d099??(_0x17d099={}),this['header'](_0x373937(0x26c),TEXT_PLAIN),this[_0x373937(0x175)](_0x373937(0x13b),_0x373937(0x1c3)),this[_0x373937(0x175)](_0x373937(0x1bc),_0x373937(0x19e)),this[_0x373937(0x15f)](_0xa76f20,_0x697464,_0x17d099);},this[_0x40d97f(0x15f)]=(_0x4e6e2e,_0x1919e5,_0x435c8b)=>{const _0x40e277=_0x40d97f,{readable:_0x4b8d4c,writable:_0x168204}=new TransformStream(),_0x1da864=new StreamingApi(_0x168204,_0x4b8d4c);return _0x4e6e2e(_0x1da864)['finally'](()=>_0x1da864[_0x40e277(0x266)]()),typeof _0x1919e5===_0x40e277(0x279)?this['newResponse'](_0x1da864[_0x40e277(0x16e)],_0x1919e5,_0x435c8b):this[_0x40e277(0x29e)](_0x1da864[_0x40e277(0x16e)],_0x1919e5);},this[_0x40d97f(0x177)]=(_0x3f97c6,_0x23f9a6,_0x2329e5)=>{const _0x4001b6=_0x40d97f,_0x4201a7=serialize(_0x3f97c6,_0x23f9a6,_0x2329e5);this[_0x4001b6(0x175)](_0x4001b6(0x208),_0x4201a7,{'append':!![]});},this[_0x40d97f(0x235)]=()=>{const _0xd239a2=_0x40d97f;return this[_0xd239a2(0x245)](this);},this[_0x40d97f(0x24a)]=_0x5f34fc,_0x107f76&&(__privateSet(this,_executionCtx,_0x107f76['executionCtx']),this[_0x40d97f(0x1bf)]=_0x107f76['env'],_0x107f76['notFoundHandler']&&(this[_0x40d97f(0x245)]=_0x107f76[_0x40d97f(0x245)]));}get[a0_0x52a09f(0x1d0)](){const _0x63dcaf=a0_0x52a09f;if(__privateGet(this,_executionCtx)&&_0x63dcaf(0x212)in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x63dcaf(0x1d4));}get[a0_0x52a09f(0x142)](){const _0x4627c5=a0_0x52a09f;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x4627c5(0x200));}get['res'](){const _0xf723e7=a0_0x52a09f;return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response(_0xf723e7(0x22f),{'status':0x194}));}set[a0_0x52a09f(0x135)](_0x2b0e1d){const _0x2985da=a0_0x52a09f;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x2b0e1d){__privateGet(this,_res)['headers'][_0x2985da(0x14b)]('content-type');for(const [_0x554d3c,_0x406ab4]of __privateGet(this,_res)[_0x2985da(0x254)]['entries']()){if(_0x554d3c===_0x2985da(0x208)){const _0x15c53a=__privateGet(this,_res)[_0x2985da(0x254)][_0x2985da(0x192)]();_0x2b0e1d['headers']['delete'](_0x2985da(0x208));for(const _0x1d35f0 of _0x15c53a){_0x2b0e1d[_0x2985da(0x254)]['append'](_0x2985da(0x208),_0x1d35f0);}}else _0x2b0e1d[_0x2985da(0x254)][_0x2985da(0x17c)](_0x554d3c,_0x406ab4);}}__privateSet(this,_res,_0x2b0e1d),this[_0x2985da(0x21e)]=!![];}get[a0_0x52a09f(0x1e7)](){const _0x2f4696=a0_0x52a09f;return{...this[_0x2f4696(0x1c7)]};}get['runtime'](){const _0x452358=a0_0x52a09f,_0x4c7dde=globalThis;if(_0x4c7dde?.['Deno']!==void 0x0)return _0x452358(0x249);if(_0x4c7dde?.['Bun']!==void 0x0)return _0x452358(0x14c);if(typeof _0x4c7dde?.['WebSocketPair']===_0x452358(0x1e6))return _0x452358(0x190);if(typeof _0x4c7dde?.[_0x452358(0x19b)]===_0x452358(0x136))return _0x452358(0x130);if(_0x4c7dde?.[_0x452358(0x22a)]!==void 0x0)return _0x452358(0x22a);if(_0x4c7dde?.[_0x452358(0x1ee)]!==void 0x0)return'lagon';if(_0x4c7dde?.['process']?.[_0x452358(0x22c)]?.[_0x452358(0x1d3)]===_0x452358(0x25f))return _0x452358(0x25f);return _0x452358(0x1df);}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();function a0_0x4384(){const _0xc1026a=['errorHandler','callbacks','request','uuid','read\x20from\x20private\x20field','finalized','not\x20found','activeRouter','index','routes','prepare','endsWith','2965625tVuRLG','INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)','flat',';\x20SameSite=','from','fastly','test','release','then','443','404\x20Not\x20Found','context','/api/user/:uuid/stats','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','blob','Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.','notFound','url','<p\x20style=\x22color:red\x22>','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/','getTime','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','unshift','ip_limit','root','buildAllMatchers','routerName','order','object','SmartRouter\x20+\x20','sleep','notFoundHandler','patch','\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20','children','deno','req','bodyUsed','query',';\x20Path=','addRoute','search','./rust/pkg/vless_parser.js','toLocaleLowerCase','(((.+)+)+)+$','Host','headers','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','ALL','composedHandler','referrer','Must\x20upgrade\x20to\x20WebSocket','GET','json','some','head','traffic_used','node','1545880RrZTOR','put','upgrade','toUpperCase','Invalid\x20UUID','&amp;','close','assign','Referrer-Policy','next()\x20called\x20multiple\x20times','jsonT','routers','content-type','Authentication\x20failed','split','flush\x20usage\x20error','send','ACK','gHSets','bodyCache','substring','dispatch','[^/]+','buildRegExp','_basePath','number','Expired','methods','&path=/ws#singbox','DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','integrity','first','log','\x0a</body></html>','append','invalid','startsWith','SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users','WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.','randomUUID','abortSubscribers','text/plain;charset=utf-8','route','batch','getWriter','clone','/sb/:uuid','has','formData','streamText','INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>','entries','sort','Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.','error','INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)','apply','add','maxAge',';\x20Domain=','newResponse','8439366xGUVME','25265470eiPwqf','SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','edge-light','includes','Unlimited','strict-origin-when-cross-origin','</p>','res','string','now','queries','/ws','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','x-content-type-options','redirect','digest','isEscaped','options','ensureTablesExist\x20failed','read','executionCtx','Missing\x20fields','bind','PROXYIPS','match','handler','round','x-forwarded-for','unknown','delete','bun','Fatal\x20error','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)','getDecodedParam','toUTCString','render','write','catch','sameSite','undefined',';\x20HttpOnly','&path=/ws#xray','toString','subtle','Invalid','use','flushUsage\x20outer','/sb/','ip_limit\x20check\x20err','stream','warn','matchRoute','waitUntil','domain','Missing\x20date/time','/admin/api/users/:uuid','buildMatcher','1399jWkvUW','/admin/api/users','Permissions-Policy','map','path','keys','handleEvent','responseReadable','write\x20to\x20private\x20field','WebSocketPair','data','encoder','patterns','Traffic\x20limit\x20exceeded','header','(?:|/.*)','cookie','forEach',';\x20Secure','constructor','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','set','UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?','example.com','all','filter','9PuAQnh','SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201','reduce','routePath','cachedBody','text','application/x-www-form-urlencoded','https://','WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)','Cookie','/static/*','run','valid','byteLength','workerd','stringify','getSetCookie','SHA-256','indexOf','getPath','524pfiUxh','trim','expiration_time','DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','EdgeRuntime','getReader','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','chunked','writer','WASM\x20init\x20failed','keepalive','WASM\x20module\x20not\x20available\x20at\x20runtime:','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22','UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?','SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','getResponse','message\x20handler\x20error','slice','Cannot\x20','camera=(),\x20microphone=()','arrayBuffer','4306644LFqgyh','raw','writable','renderer','varIndex','text/html;\x20charset=UTF-8','\x20WHERE\x20uuid\x20=\x20?','strict','score','websocket','/admin','HEAD','encode','repeat','IP\x20limit\x20exceeded','length','transfer-encoding','/admin/logout','mount','env','password','parsedBody','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','nosniff','http://localhost','body',':443?type=ws&host=','_var','addEventListener','insert','multipart/form-data','toLowerCase','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','SmartRouter','handleError','charCodeAt','event','routeIndex','&#39;','name','This\x20context\x20has\x20no\x20FetchEvent','padStart','replace','parse_vless_header',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','CF-Connecting-IP','call','VLESS_WASM','auth_token=','router','addValidatedData','other','parseBody','params','ADMIN_KEY','status','Parse\x20error','Set-Cookie','function','var','onAbort','middleware','/xray/','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','$()','traffic_limit','__lagon__','floor','default','onError','toISOString','buildRegExpStr','speed.cloudflare.com:443','setRenderer','possibleKeys','join','basePath','param','/login','wasm\x20init\x20skipped','\x1b[0m\x20','&lt;','post','signal','This\x20context\x20has\x20no\x20ExecutionContext','expires','get','getParamValue','48oSmCeq','push','</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22','admin\x20session\x20store\x20failed','set-cookie','buffer','initial\x20header\x20parse\x20error','fetch','isArray','getAllDecodedParams','method',';\x20Partitioned','auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','isAdminRequest\x20error','respondWith','expiration_date','Forbidden','1061979OBkdeo','(?:','count','message'];a0_0x4384=function(){return _0xc1026a;};return a0_0x4384();}var compose=(_0x48297f,_0x23f725,_0x519553)=>{return(_0xe62f5,_0x1986d1)=>{let _0x198f58=-0x1;return _0x4efbbf(0x0);async function _0x4efbbf(_0x506363){const _0x43933b=a0_0x4509;if(_0x506363<=_0x198f58)throw new Error(_0x43933b(0x269));_0x198f58=_0x506363;let _0x56a98c,_0x4b4d5c=![],_0x3dc46c;_0x48297f[_0x506363]?(_0x3dc46c=_0x48297f[_0x506363][0x0][0x0],_0xe62f5 instanceof Context&&(_0xe62f5[_0x43933b(0x24a)][_0x43933b(0x1d1)]=_0x506363)):_0x3dc46c=_0x506363===_0x48297f[_0x43933b(0x1bb)]&&_0x1986d1||void 0x0;if(!_0x3dc46c)_0xe62f5 instanceof Context&&_0xe62f5['finalized']===![]&&_0x519553&&(_0x56a98c=await _0x519553(_0xe62f5));else try{_0x56a98c=await _0x3dc46c(_0xe62f5,()=>{return _0x4efbbf(_0x506363+0x1);});}catch(_0x3528dd){if(_0x3528dd instanceof Error&&_0xe62f5 instanceof Context&&_0x23f725)_0xe62f5[_0x43933b(0x298)]=_0x3528dd,_0x56a98c=await _0x23f725(_0x3528dd,_0xe62f5),_0x4b4d5c=!![];else throw _0x3528dd;}return _0x56a98c&&(_0xe62f5[_0x43933b(0x21e)]===![]||_0x4b4d5c)&&(_0xe62f5['res']=_0x56a98c),_0xe62f5;}};},HTTPException=class extends Error{constructor(_0x489217=0x1f4,_0x37a4d7){const _0x51586d=a0_0x52a09f;super(_0x37a4d7?.[_0x51586d(0x218)]),this[_0x51586d(0x135)]=_0x37a4d7?.[_0x51586d(0x135)],this['status']=_0x489217;}[a0_0x52a09f(0x1a6)](){const _0x3ce9fc=a0_0x52a09f;if(this[_0x3ce9fc(0x135)])return this[_0x3ce9fc(0x135)];return new Response(this[_0x3ce9fc(0x218)],{'status':this['status']});}},parseBody=async(_0xe9c5ae,_0x5f2e6f={'all':![]})=>{const _0xddc052=a0_0x52a09f,_0x34920c=_0xe9c5ae['headers'][_0xddc052(0x202)]('Content-Type');if(isFormDataContent(_0x34920c))return parseFormData(_0xe9c5ae,_0x5f2e6f);return{};};function isFormDataContent(_0x3d3f2f){const _0x46ff68=a0_0x52a09f;if(_0x3d3f2f===null)return![];return _0x3d3f2f[_0x46ff68(0x284)](_0x46ff68(0x1ca))||_0x3d3f2f['startsWith'](_0x46ff68(0x187));}async function parseFormData(_0x480469,_0x309abb){const _0x5bc460=a0_0x52a09f,_0x10ab65=await _0x480469[_0x5bc460(0x291)]();if(_0x10ab65)return convertFormDataToBodyData(_0x10ab65,_0x309abb);return{};}function convertFormDataToBodyData(_0x2e4127,_0x4de637){const _0x31c5db=a0_0x52a09f,_0x2b31b0={};return _0x2e4127[_0x31c5db(0x178)]((_0x2a2dc3,_0xc0154d)=>{const _0x1cd841=_0x31c5db,_0x1b9783=_0x4de637[_0x1cd841(0x17f)]||_0xc0154d[_0x1cd841(0x224)]('[]');!_0x1b9783?_0x2b31b0[_0xc0154d]=_0x2a2dc3:handleParsingAllValues(_0x2b31b0,_0xc0154d,_0x2a2dc3);}),_0x2b31b0;}var handleParsingAllValues=(_0x5e8234,_0xa83178,_0x5db417)=>{if(_0x5e8234[_0xa83178]&&isArrayField(_0x5e8234[_0xa83178]))appendToExistingArray(_0x5e8234[_0xa83178],_0x5db417);else _0x5e8234[_0xa83178]?convertToNewArray(_0x5e8234,_0xa83178,_0x5db417):_0x5e8234[_0xa83178]=_0x5db417;};function isArrayField(_0x50f1d7){const _0x435a94=a0_0x52a09f;return Array[_0x435a94(0x20c)](_0x50f1d7);}var appendToExistingArray=(_0x2a6c10,_0x3841f9)=>{const _0x55de6e=a0_0x52a09f;_0x2a6c10[_0x55de6e(0x205)](_0x3841f9);},convertToNewArray=(_0x39f88,_0x1375a7,_0x437ef9)=>{_0x39f88[_0x1375a7]=[_0x39f88[_0x1375a7],_0x437ef9];},__accessCheck2=(_0x2e5d7a,_0x4f23ca,_0x3611d0)=>{const _0x5865cb=a0_0x52a09f;if(!_0x4f23ca['has'](_0x2e5d7a))throw TypeError(_0x5865cb(0x1a9)+_0x3611d0);},__privateGet2=(_0x2ea65c,_0x1e47b7,_0x102440)=>{const _0xc50d1f=a0_0x52a09f;return __accessCheck2(_0x2ea65c,_0x1e47b7,'read\x20from\x20private\x20field'),_0x102440?_0x102440['call'](_0x2ea65c):_0x1e47b7[_0xc50d1f(0x202)](_0x2ea65c);},__privateAdd2=(_0x25e039,_0x53382b,_0x87c0a)=>{const _0x410fdc=a0_0x52a09f;if(_0x53382b[_0x410fdc(0x290)](_0x25e039))throw TypeError(_0x410fdc(0x232));_0x53382b instanceof WeakSet?_0x53382b['add'](_0x25e039):_0x53382b[_0x410fdc(0x17c)](_0x25e039,_0x87c0a);},__privateSet2=(_0x3ece5c,_0x36a963,_0x29ee37,_0x257a7d)=>{const _0x2e8795=a0_0x52a09f;return __accessCheck2(_0x3ece5c,_0x36a963,_0x2e8795(0x16f)),_0x257a7d?_0x257a7d[_0x2e8795(0x1da)](_0x3ece5c,_0x29ee37):_0x36a963[_0x2e8795(0x17c)](_0x3ece5c,_0x29ee37),_0x29ee37;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x174d4f,_0x22e883='/',_0x13a80f=[[]]){const _0x25185e=a0_0x52a09f;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this[_0x25185e(0x1d1)]=0x0,this[_0x25185e(0x273)]={},this[_0x25185e(0x185)]=_0x52940b=>{const _0x781e99=_0x25185e,{bodyCache:_0x39aa72,raw:_0x1bd67e}=this,_0x4897c9=_0x39aa72[_0x52940b];if(_0x4897c9)return _0x4897c9;if(_0x39aa72[_0x781e99(0x1ab)])return((async()=>{const _0x15cefa=_0x781e99;return await new Response(_0x39aa72[_0x15cefa(0x1ab)])[_0x52940b]();})());return _0x39aa72[_0x52940b]=_0x1bd67e[_0x52940b]();},this[_0x25185e(0x1ad)]=_0x174d4f,this[_0x25185e(0x16b)]=_0x22e883,__privateSet2(this,_matchResult,_0x13a80f),__privateSet2(this,_validatedData,{});}[a0_0x52a09f(0x1f9)](_0x5d105d){const _0x30463f=a0_0x52a09f;return _0x5d105d?this[_0x30463f(0x14f)](_0x5d105d):this[_0x30463f(0x20d)]();}['getDecodedParam'](_0x26c70e){const _0x3cdfd9=a0_0x52a09f,_0x233aff=__privateGet2(this,_matchResult)[0x0][this[_0x3cdfd9(0x1d1)]][0x1][_0x26c70e],_0x5e6aaf=this['getParamValue'](_0x233aff);return _0x5e6aaf?/\%/['test'](_0x5e6aaf)?decodeURIComponent_(_0x5e6aaf):_0x5e6aaf:void 0x0;}[a0_0x52a09f(0x20d)](){const _0x3d3d6b=a0_0x52a09f,_0x23300b={},_0x21f29f=Object[_0x3d3d6b(0x16c)](__privateGet2(this,_matchResult)[0x0][this[_0x3d3d6b(0x1d1)]][0x1]);for(const _0x3ecdbb of _0x21f29f){const _0x39a89e=this[_0x3d3d6b(0x203)](__privateGet2(this,_matchResult)[0x0][this[_0x3d3d6b(0x1d1)]][0x1][_0x3ecdbb]);_0x39a89e&&typeof _0x39a89e==='string'&&(_0x23300b[_0x3ecdbb]=/\%/[_0x3d3d6b(0x22b)](_0x39a89e)?decodeURIComponent_(_0x39a89e):_0x39a89e);}return _0x23300b;}['getParamValue'](_0x37bda6){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x37bda6]:_0x37bda6;}[a0_0x52a09f(0x24c)](_0x1ad385){const _0x377e75=a0_0x52a09f;return getQueryParam(this[_0x377e75(0x236)],_0x1ad385);}[a0_0x52a09f(0x138)](_0x3c60c4){return getQueryParams(this['url'],_0x3c60c4);}['header'](_0x4becec){const _0x4f9ec7=a0_0x52a09f;if(_0x4becec)return this[_0x4f9ec7(0x1ad)]['headers'][_0x4f9ec7(0x202)](_0x4becec['toLowerCase']())??void 0x0;const _0x170a0b={};return this['raw'][_0x4f9ec7(0x254)][_0x4f9ec7(0x178)]((_0x3e284e,_0x2f768b)=>{_0x170a0b[_0x2f768b]=_0x3e284e;}),_0x170a0b;}[a0_0x52a09f(0x177)](_0x13f9e1){const _0x50342=a0_0x52a09f,_0x570224=this['raw'][_0x50342(0x254)][_0x50342(0x202)](_0x50342(0x18b));if(!_0x570224)return;const _0x3fc892=parse(_0x570224);if(_0x13f9e1){const _0x5f04b6=_0x3fc892[_0x13f9e1];return _0x5f04b6;}else return _0x3fc892;}async[a0_0x52a09f(0x1e0)](_0x4d56d8){const _0x2bec9b=a0_0x52a09f;if(this[_0x2bec9b(0x273)][_0x2bec9b(0x1c1)])return this['bodyCache']['parsedBody'];const _0x481c14=await parseBody(this,_0x4d56d8);return this[_0x2bec9b(0x273)][_0x2bec9b(0x1c1)]=_0x481c14,_0x481c14;}['json'](){const _0x1d1dde=a0_0x52a09f;return this[_0x1d1dde(0x185)](_0x1d1dde(0x25b));}[a0_0x52a09f(0x186)](){return this['cachedBody']('text');}[a0_0x52a09f(0x1ab)](){const _0x3759b9=a0_0x52a09f;return this[_0x3759b9(0x185)](_0x3759b9(0x1ab));}[a0_0x52a09f(0x233)](){const _0x421fb8=a0_0x52a09f;return this[_0x421fb8(0x185)]('blob');}['formData'](){const _0x47acaa=a0_0x52a09f;return this[_0x47acaa(0x185)](_0x47acaa(0x291));}[a0_0x52a09f(0x1de)](_0x135e2b,_0x472a87){__privateGet2(this,_validatedData)[_0x135e2b]=_0x472a87;}[a0_0x52a09f(0x18e)](_0x4a644b){return __privateGet2(this,_validatedData)[_0x4a644b];}get[a0_0x52a09f(0x236)](){const _0x136cab=a0_0x52a09f;return this[_0x136cab(0x1ad)][_0x136cab(0x236)];}get[a0_0x52a09f(0x20e)](){const _0x320519=a0_0x52a09f;return this[_0x320519(0x1ad)][_0x320519(0x20e)];}get['matchedRoutes'](){return __privateGet2(this,_matchResult)[0x0]['map'](([[,_0x560af4]])=>_0x560af4);}get[a0_0x52a09f(0x184)](){const _0x327720=a0_0x52a09f;return __privateGet2(this,_matchResult)[0x0]['map'](([[,_0x23e597]])=>_0x23e597)[this[_0x327720(0x1d1)]]['path'];}get['headers'](){const _0x271581=a0_0x52a09f;return this[_0x271581(0x1ad)][_0x271581(0x254)];}get[a0_0x52a09f(0x1c5)](){const _0x20f96f=a0_0x52a09f;return this[_0x20f96f(0x1ad)][_0x20f96f(0x1c5)];}get['bodyUsed'](){const _0x231c44=a0_0x52a09f;return this['raw'][_0x231c44(0x24b)];}get[a0_0x52a09f(0x27e)](){const _0x44af1d=a0_0x52a09f;return this[_0x44af1d(0x1ad)][_0x44af1d(0x27e)];}get[a0_0x52a09f(0x1a1)](){const _0x566240=a0_0x52a09f;return this['raw'][_0x566240(0x1a1)];}get[a0_0x52a09f(0x258)](){const _0x44c192=a0_0x52a09f;return this[_0x44c192(0x1ad)][_0x44c192(0x258)];}get[a0_0x52a09f(0x1ff)](){const _0x58c451=a0_0x52a09f;return this[_0x58c451(0x1ad)][_0x58c451(0x1ff)];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0x52a09f(0x256),METHOD_NAME_ALL_LOWERCASE='all',METHODS=[a0_0x52a09f(0x202),a0_0x52a09f(0x1fe),a0_0x52a09f(0x261),a0_0x52a09f(0x14b),a0_0x52a09f(0x13f),a0_0x52a09f(0x246)],MESSAGE_MATCHER_IS_ALREADY_BUILT=a0_0x52a09f(0x297),UnsupportedPathError=class extends Error{},__accessCheck3=(_0x3f0148,_0x42d419,_0x1e3b93)=>{const _0x3ddd9f=a0_0x52a09f;if(!_0x42d419[_0x3ddd9f(0x290)](_0x3f0148))throw TypeError(_0x3ddd9f(0x1a9)+_0x1e3b93);},__privateGet3=(_0x2326cf,_0x3fdbe6,_0x4a3327)=>{const _0x332e57=a0_0x52a09f;return __accessCheck3(_0x2326cf,_0x3fdbe6,_0x332e57(0x21d)),_0x4a3327?_0x4a3327[_0x332e57(0x1da)](_0x2326cf):_0x3fdbe6[_0x332e57(0x202)](_0x2326cf);},__privateAdd3=(_0x5c42c5,_0x192b40,_0x598a5f)=>{const _0x57977c=a0_0x52a09f;if(_0x192b40[_0x57977c(0x290)](_0x5c42c5))throw TypeError(_0x57977c(0x232));_0x192b40 instanceof WeakSet?_0x192b40[_0x57977c(0x29b)](_0x5c42c5):_0x192b40[_0x57977c(0x17c)](_0x5c42c5,_0x598a5f);},__privateSet3=(_0x4dedc9,_0x25c6d8,_0x3b5d49,_0x3da5da)=>{const _0x453d6b=a0_0x52a09f;return __accessCheck3(_0x4dedc9,_0x25c6d8,_0x453d6b(0x16f)),_0x3da5da?_0x3da5da['call'](_0x4dedc9,_0x3b5d49):_0x25c6d8[_0x453d6b(0x17c)](_0x4dedc9,_0x3b5d49),_0x3b5d49;},COMPOSED_HANDLER=Symbol(a0_0x52a09f(0x257));function defineDynamicClass(){return class{};}var notFoundHandler=_0x198431=>{const _0x1dc57a=a0_0x52a09f;return _0x198431[_0x1dc57a(0x186)]('404\x20Not\x20Found',0x194);},errorHandler=(_0x8d7bb0,_0xf9c026)=>{const _0x1fc8c0=a0_0x52a09f;if(_0x8d7bb0 instanceof HTTPException)return _0x8d7bb0[_0x1fc8c0(0x1a6)]();console['error'](_0x8d7bb0);const _0x282248='Internal\x20Server\x20Error';return _0xf9c026[_0x1fc8c0(0x186)](_0x282248,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x385c20={}){const _0x58bdfe=a0_0x52a09f;super(),this[_0x58bdfe(0x278)]='/',__privateAdd3(this,_path,'/'),this['routes']=[],this['notFoundHandler']=notFoundHandler,this['errorHandler']=errorHandler,this[_0x58bdfe(0x1f1)]=_0x542fd8=>{return this['errorHandler']=_0x542fd8,this;},this[_0x58bdfe(0x235)]=_0x3221c5=>{const _0x4c93e2=_0x58bdfe;return this[_0x4c93e2(0x245)]=_0x3221c5,this;},this[_0x58bdfe(0x25d)]=()=>{const _0x71b463=_0x58bdfe;return console[_0x71b463(0x160)](_0x71b463(0x255)),this;},this[_0x58bdfe(0x16d)]=_0x8c28d1=>{const _0x3e8c00=_0x58bdfe;return this[_0x3e8c00(0x275)](_0x8c28d1[_0x3e8c00(0x21b)],_0x8c28d1,void 0x0,_0x8c28d1[_0x3e8c00(0x21b)][_0x3e8c00(0x20e)]);},this[_0x58bdfe(0x20b)]=(_0x4b1c93,_0x4572fd,_0x3f6322)=>{const _0x5ac6b0=_0x58bdfe;return this[_0x5ac6b0(0x275)](_0x4b1c93,_0x3f6322,_0x4572fd,_0x4b1c93['method']);},this[_0x58bdfe(0x21b)]=(_0x151e91,_0x49e565,_0x187461,_0x1b670d)=>{const _0x3819dc=_0x58bdfe;if(_0x151e91 instanceof Request)return _0x49e565!==void 0x0&&(_0x151e91=new Request(_0x151e91,_0x49e565)),this[_0x3819dc(0x20b)](_0x151e91,_0x187461,_0x1b670d);_0x151e91=_0x151e91['toString']();const _0x7b5cbb=/^https?:\/\//['test'](_0x151e91)?_0x151e91:_0x3819dc(0x1c4)+mergePath('/',_0x151e91),_0x2a8ed7=new Request(_0x7b5cbb,_0x49e565);return this[_0x3819dc(0x20b)](_0x2a8ed7,_0x187461,_0x1b670d);},this['fire']=()=>{addEventListener('fetch',_0x5349ab=>{const _0x29776d=a0_0x4509;_0x5349ab[_0x29776d(0x212)](this['dispatch'](_0x5349ab[_0x29776d(0x21b)],_0x5349ab,void 0x0,_0x5349ab[_0x29776d(0x21b)][_0x29776d(0x20e)]));});};const _0x34645b=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x34645b[_0x58bdfe(0x16a)](_0x134917=>{this[_0x134917]=(_0x45d925,..._0x3f1125)=>{const _0x3db5aa=a0_0x4509;return typeof _0x45d925===_0x3db5aa(0x136)?__privateSet3(this,_path,_0x45d925):this[_0x3db5aa(0x24e)](_0x134917,__privateGet3(this,_path),_0x45d925),_0x3f1125[_0x3db5aa(0x16a)](_0x7e6414=>{const _0x3dd9c7=_0x3db5aa;typeof _0x7e6414!==_0x3dd9c7(0x136)&&this[_0x3dd9c7(0x24e)](_0x134917,__privateGet3(this,_path),_0x7e6414);}),this;};}),this['on']=(_0x224cee,_0x5d94b4,..._0x24e68d)=>{const _0x47215e=_0x58bdfe;if(!_0x224cee)return this;__privateSet3(this,_path,_0x5d94b4);for(const _0x472e82 of[_0x224cee][_0x47215e(0x227)]()){_0x24e68d[_0x47215e(0x16a)](_0x49e460=>{const _0x1a60a2=_0x47215e;this[_0x1a60a2(0x24e)](_0x472e82['toUpperCase'](),__privateGet3(this,_path),_0x49e460);});}return this;},this[_0x58bdfe(0x15b)]=(_0x5d7f98,..._0xbf1a8a)=>{const _0x57840d=_0x58bdfe;return typeof _0x5d7f98===_0x57840d(0x136)?__privateSet3(this,_path,_0x5d7f98):_0xbf1a8a[_0x57840d(0x23c)](_0x5d7f98),_0xbf1a8a['map'](_0xd47673=>{const _0x4851a0=_0x57840d;this[_0x4851a0(0x24e)](METHOD_NAME_ALL,__privateGet3(this,_path),_0xd47673);}),this;};const _0x221d4e=_0x385c20[_0x58bdfe(0x1b3)]??!![];delete _0x385c20[_0x58bdfe(0x1b3)],Object[_0x58bdfe(0x267)](this,_0x385c20),this['getPath']=_0x221d4e?_0x385c20['getPath']??getPath:getPathNoStrict;}['clone'](){const _0x5dae10=a0_0x52a09f,_0x379c2b=new _Hono({'router':this[_0x5dae10(0x1dd)],'getPath':this[_0x5dae10(0x195)]});return _0x379c2b[_0x5dae10(0x222)]=this[_0x5dae10(0x222)],_0x379c2b;}[a0_0x52a09f(0x28b)](_0x53f5f5,_0xb757d9){const _0x27a00b=a0_0x52a09f,_0x46acab=this['basePath'](_0x53f5f5);if(!_0xb757d9)return _0x46acab;return _0xb757d9[_0x27a00b(0x222)][_0x27a00b(0x16a)](_0x219b06=>{const _0x1f900e=_0x27a00b;let _0xc68675;_0xb757d9['errorHandler']===errorHandler?_0xc68675=_0x219b06[_0x1f900e(0x147)]:(_0xc68675=async(_0x249654,_0x3c2953)=>(await compose([],_0xb757d9[_0x1f900e(0x219)])(_0x249654,()=>_0x219b06[_0x1f900e(0x147)](_0x249654,_0x3c2953)))[_0x1f900e(0x135)],_0xc68675[COMPOSED_HANDLER]=_0x219b06['handler']),_0x46acab[_0x1f900e(0x24e)](_0x219b06[_0x1f900e(0x20e)],_0x219b06[_0x1f900e(0x16b)],_0xc68675);}),this;}[a0_0x52a09f(0x1f8)](_0x17bc49){const _0xade0ec=a0_0x52a09f,_0x2ed0c8=this[_0xade0ec(0x28e)]();return _0x2ed0c8[_0xade0ec(0x278)]=mergePath(this['_basePath'],_0x17bc49),_0x2ed0c8;}['showRoutes'](){const _0x5d2f10=a0_0x52a09f,_0x17466f=0x8;this[_0x5d2f10(0x222)][_0x5d2f10(0x16a)](_0x16a0eb=>{const _0x37b539=_0x5d2f10;console[_0x37b539(0x280)]('\x1b[32m'+_0x16a0eb[_0x37b539(0x20e)]+_0x37b539(0x1fc)+'\x20'[_0x37b539(0x1b9)](_0x17466f-_0x16a0eb[_0x37b539(0x20e)][_0x37b539(0x1bb)])+'\x20'+_0x16a0eb[_0x37b539(0x16b)]);});}[a0_0x52a09f(0x1be)](_0x71ba4c,_0x313936,_0x2c0973){const _0x15b3ac=a0_0x52a09f,_0x1072c7=mergePath(this[_0x15b3ac(0x278)],_0x71ba4c),_0x33fe3c=_0x1072c7==='/'?0x0:_0x1072c7['length'],_0x2c0366=async(_0x500757,_0x86af54)=>{const _0xadaa60=_0x15b3ac;let _0x59ae11=void 0x0;try{_0x59ae11=_0x500757[_0xadaa60(0x142)];}catch{}const _0x4b2ddf=_0x2c0973?_0x2c0973(_0x500757):[_0x500757['env'],_0x59ae11],_0x591049=Array[_0xadaa60(0x20c)](_0x4b2ddf)?_0x4b2ddf:[_0x4b2ddf],_0x4721b4=getQueryStrings(_0x500757['req'][_0xadaa60(0x236)]),_0x451db6=await _0x313936(new Request(new URL((_0x500757[_0xadaa60(0x24a)][_0xadaa60(0x16b)][_0xadaa60(0x1a8)](_0x33fe3c)||'/')+_0x4721b4,_0x500757[_0xadaa60(0x24a)]['url']),_0x500757[_0xadaa60(0x24a)]['raw']),..._0x591049);if(_0x451db6)return _0x451db6;await _0x86af54();};return this[_0x15b3ac(0x24e)](METHOD_NAME_ALL,mergePath(_0x71ba4c,'*'),_0x2c0366),this;}get[a0_0x52a09f(0x240)](){const _0x35eb5e=a0_0x52a09f;return this['matchRoute'](_0x35eb5e(0x25a),'/'),this[_0x35eb5e(0x1dd)][_0x35eb5e(0x1d3)];}[a0_0x52a09f(0x24e)](_0x56151f,_0x41f4ce,_0x448388){const _0x44ac30=a0_0x52a09f;_0x56151f=_0x56151f[_0x44ac30(0x263)](),_0x41f4ce=mergePath(this[_0x44ac30(0x278)],_0x41f4ce);const _0x86ba08={'path':_0x41f4ce,'method':_0x56151f,'handler':_0x448388};this['router'][_0x44ac30(0x29b)](_0x56151f,_0x41f4ce,[_0x448388,_0x86ba08]),this[_0x44ac30(0x222)]['push'](_0x86ba08);}[a0_0x52a09f(0x161)](_0x57bf66,_0x5abfc6){const _0x4f7c17=a0_0x52a09f;return this[_0x4f7c17(0x1dd)][_0x4f7c17(0x146)](_0x57bf66,_0x5abfc6);}[a0_0x52a09f(0x1ce)](_0xcc64d1,_0x19efc3){const _0x2dc1ef=a0_0x52a09f;if(_0xcc64d1 instanceof Error)return this[_0x2dc1ef(0x219)](_0xcc64d1,_0x19efc3);throw _0xcc64d1;}[a0_0x52a09f(0x275)](_0x3f2d4f,_0x1c8f78,_0x5c2093,_0x13e35b){const _0x525032=a0_0x52a09f;if(_0x13e35b===_0x525032(0x1b7))return((async()=>new Response(null,await this[_0x525032(0x275)](_0x3f2d4f,_0x1c8f78,_0x5c2093,_0x525032(0x25a))))());const _0x208a0c=this['getPath'](_0x3f2d4f,{'env':_0x5c2093}),_0x2bf149=this[_0x525032(0x161)](_0x13e35b,_0x208a0c),_0xf88062=new Context(new HonoRequest(_0x3f2d4f,_0x208a0c,_0x2bf149),{'env':_0x5c2093,'executionCtx':_0x1c8f78,'notFoundHandler':this[_0x525032(0x245)]});if(_0x2bf149[0x0][_0x525032(0x1bb)]===0x1){let _0x528f13;try{_0x528f13=_0x2bf149[0x0][0x0][0x0][0x0](_0xf88062,async()=>{const _0x288d20=_0x525032;_0xf88062[_0x288d20(0x135)]=await this['notFoundHandler'](_0xf88062);});}catch(_0x3c17ab){return this['handleError'](_0x3c17ab,_0xf88062);}return _0x528f13 instanceof Promise?_0x528f13[_0x525032(0x22d)](_0x2aed00=>_0x2aed00||(_0xf88062[_0x525032(0x21e)]?_0xf88062[_0x525032(0x135)]:this['notFoundHandler'](_0xf88062)))[_0x525032(0x153)](_0x4b68c9=>this[_0x525032(0x1ce)](_0x4b68c9,_0xf88062)):_0x528f13;}const _0x3a516b=compose(_0x2bf149[0x0],this[_0x525032(0x219)],this[_0x525032(0x245)]);return((async()=>{const _0x19bb28=_0x525032;try{const _0x53779a=await _0x3a516b(_0xf88062);if(!_0x53779a['finalized'])throw new Error(_0x19bb28(0x17b));return _0x53779a['res'];}catch(_0x127594){return this['handleError'](_0x127594,_0xf88062);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR=a0_0x52a09f(0x276),ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR='(?:|/.*)',PATH_ERROR=Symbol();function compareKey(_0x257ce2,_0x274b4b){const _0x184930=a0_0x52a09f;if(_0x257ce2[_0x184930(0x1bb)]===0x1)return _0x274b4b[_0x184930(0x1bb)]===0x1?_0x257ce2<_0x274b4b?-0x1:0x1:-0x1;if(_0x274b4b[_0x184930(0x1bb)]===0x1)return 0x1;if(_0x257ce2===ONLY_WILDCARD_REG_EXP_STR||_0x257ce2===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x274b4b===ONLY_WILDCARD_REG_EXP_STR||_0x274b4b===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x257ce2===LABEL_REG_EXP_STR)return 0x1;else{if(_0x274b4b===LABEL_REG_EXP_STR)return-0x1;}return _0x257ce2[_0x184930(0x1bb)]===_0x274b4b[_0x184930(0x1bb)]?_0x257ce2<_0x274b4b?-0x1:0x1:_0x274b4b[_0x184930(0x1bb)]-_0x257ce2[_0x184930(0x1bb)];}var Node=class{constructor(){const _0x4d237b=a0_0x52a09f;this[_0x4d237b(0x248)]={};}['insert'](_0x1bb8bc,_0x3d8743,_0x4b5504,_0x31407b,_0x5a2d01){const _0x4db063=a0_0x52a09f;if(_0x1bb8bc[_0x4db063(0x1bb)]===0x0){if(this[_0x4db063(0x221)]!==void 0x0)throw PATH_ERROR;if(_0x5a2d01)return;this[_0x4db063(0x221)]=_0x3d8743;return;}const [_0x4c7352,..._0x211506]=_0x1bb8bc,_0x1e18ed=_0x4c7352==='*'?_0x211506['length']===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x4c7352==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x4c7352[_0x4db063(0x146)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x4e554e;if(_0x1e18ed){const _0x55afa6=_0x1e18ed[0x1];let _0x2286e6=_0x1e18ed[0x2]||LABEL_REG_EXP_STR;if(_0x55afa6&&_0x1e18ed[0x2]){_0x2286e6=_0x2286e6[_0x4db063(0x1d6)](/^\((?!\?:)(?=[^)]+\)$)/,'(?:');if(/\((?!\?:)/[_0x4db063(0x22b)](_0x2286e6))throw PATH_ERROR;}_0x4e554e=this[_0x4db063(0x248)][_0x2286e6];if(!_0x4e554e){if(Object['keys'](this[_0x4db063(0x248)])['some'](_0x290735=>_0x290735!==ONLY_WILDCARD_REG_EXP_STR&&_0x290735!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x5a2d01)return;_0x4e554e=this[_0x4db063(0x248)][_0x2286e6]=new Node(),_0x55afa6!==''&&(_0x4e554e[_0x4db063(0x1b0)]=_0x31407b['varIndex']++);}!_0x5a2d01&&_0x55afa6!==''&&_0x4b5504[_0x4db063(0x205)]([_0x55afa6,_0x4e554e[_0x4db063(0x1b0)]]);}else{_0x4e554e=this['children'][_0x4c7352];if(!_0x4e554e){if(Object[_0x4db063(0x16c)](this[_0x4db063(0x248)])[_0x4db063(0x25c)](_0xdd163c=>_0xdd163c[_0x4db063(0x1bb)]>0x1&&_0xdd163c!==ONLY_WILDCARD_REG_EXP_STR&&_0xdd163c!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x5a2d01)return;_0x4e554e=this[_0x4db063(0x248)][_0x4c7352]=new Node();}}_0x4e554e[_0x4db063(0x1c9)](_0x211506,_0x3d8743,_0x4b5504,_0x31407b,_0x5a2d01);}[a0_0x52a09f(0x1f3)](){const _0x2dbf4e=a0_0x52a09f,_0x476967=Object[_0x2dbf4e(0x16c)](this[_0x2dbf4e(0x248)])[_0x2dbf4e(0x296)](compareKey),_0x5dd43d=_0x476967[_0x2dbf4e(0x16a)](_0x5a34a8=>{const _0x562db1=_0x2dbf4e,_0x2e2a41=this['children'][_0x5a34a8];return(typeof _0x2e2a41[_0x562db1(0x1b0)]===_0x562db1(0x279)?'('+_0x5a34a8+')@'+_0x2e2a41[_0x562db1(0x1b0)]:_0x5a34a8)+_0x2e2a41['buildRegExpStr']();});typeof this['index']==='number'&&_0x5dd43d[_0x2dbf4e(0x23c)]('#'+this[_0x2dbf4e(0x221)]);if(_0x5dd43d[_0x2dbf4e(0x1bb)]===0x0)return'';if(_0x5dd43d[_0x2dbf4e(0x1bb)]===0x1)return _0x5dd43d[0x0];return _0x2dbf4e(0x216)+_0x5dd43d[_0x2dbf4e(0x1f7)]('|')+')';}},Trie=class{constructor(){const _0x389cdf=a0_0x52a09f;this[_0x389cdf(0x230)]={'varIndex':0x0},this[_0x389cdf(0x23e)]=new Node();}[a0_0x52a09f(0x1c9)](_0x57c651,_0x13325c,_0x544c26){const _0xa55099=a0_0x52a09f,_0x27b249=[],_0x284b78=[];for(let _0x5a72be=0x0;;){let _0x3b3e22=![];_0x57c651=_0x57c651[_0xa55099(0x1d6)](/\{[^}]+\}/g,_0x2856bd=>{const _0x39f677='@\x5c'+_0x5a72be;return _0x284b78[_0x5a72be]=[_0x39f677,_0x2856bd],_0x5a72be++,_0x3b3e22=!![],_0x39f677;});if(!_0x3b3e22)break;}const _0x5e28f1=_0x57c651['match'](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x471899=_0x284b78[_0xa55099(0x1bb)]-0x1;_0x471899>=0x0;_0x471899--){const [_0x5a0cf8]=_0x284b78[_0x471899];for(let _0x49fa35=_0x5e28f1['length']-0x1;_0x49fa35>=0x0;_0x49fa35--){if(_0x5e28f1[_0x49fa35][_0xa55099(0x194)](_0x5a0cf8)!==-0x1){_0x5e28f1[_0x49fa35]=_0x5e28f1[_0x49fa35][_0xa55099(0x1d6)](_0x5a0cf8,_0x284b78[_0x471899][0x1]);break;}}}return this[_0xa55099(0x23e)][_0xa55099(0x1c9)](_0x5e28f1,_0x13325c,_0x27b249,this['context'],_0x544c26),_0x27b249;}[a0_0x52a09f(0x277)](){const _0x3d4ebb=a0_0x52a09f;let _0x60dbe8=this[_0x3d4ebb(0x23e)][_0x3d4ebb(0x1f3)]();if(_0x60dbe8==='')return[/^$/,[],[]];let _0x3f09a3=0x0;const _0x5095a9=[],_0x5696a8=[];return _0x60dbe8=_0x60dbe8[_0x3d4ebb(0x1d6)](/#(\d+)|@(\d+)|\.\*\$/g,(_0x3fa41c,_0x21b4bd,_0x10bdc5)=>{const _0x23efbc=_0x3d4ebb;if(typeof _0x21b4bd!==_0x23efbc(0x155))return _0x5095a9[++_0x3f09a3]=Number(_0x21b4bd),_0x23efbc(0x1ec);if(typeof _0x10bdc5!==_0x23efbc(0x155))return _0x5696a8[Number(_0x10bdc5)]=++_0x3f09a3,'';return'';}),[new RegExp('^'+_0x60dbe8),_0x5095a9,_0x5696a8];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x52a09f(0x16a)](_0x2fa6a4=>_0x2fa6a4[a0_0x52a09f(0x263)]()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0x29ba38){const _0xf07a47=a0_0x52a09f;return wildcardRegExpCache[_0x29ba38]??(wildcardRegExpCache[_0x29ba38]=new RegExp(_0x29ba38==='*'?'':'^'+_0x29ba38[_0xf07a47(0x1d6)](/\/\*/,_0xf07a47(0x176))+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function a0_0x4509(_0x30ae9d,_0x29ba15){const _0x474796=a0_0x4384();return a0_0x4509=function(_0x2a0aa6,_0x419604){_0x2a0aa6=_0x2a0aa6-0x12d;let _0x438427=_0x474796[_0x2a0aa6];return _0x438427;},a0_0x4509(_0x30ae9d,_0x29ba15);}function buildMatcherFromPreprocessedRoutes(_0x14e492){const _0xec4d52=a0_0x52a09f,_0x30dcab=new Trie(),_0x332c44=[];if(_0x14e492[_0xec4d52(0x1bb)]===0x0)return nullMatcher;const _0x1c2191=_0x14e492[_0xec4d52(0x16a)](_0x15635a=>[!/\*|\/:/[_0xec4d52(0x22b)](_0x15635a[0x0]),..._0x15635a])[_0xec4d52(0x296)](([_0x14589c,_0x5c104b],[_0x4b5719,_0x26ab5c])=>_0x14589c?0x1:_0x4b5719?-0x1:_0x5c104b[_0xec4d52(0x1bb)]-_0x26ab5c['length']),_0x7ba74d={};for(let _0x56a8b1=0x0,_0x1ae116=-0x1,_0x3d1077=_0x1c2191[_0xec4d52(0x1bb)];_0x56a8b1<_0x3d1077;_0x56a8b1++){const [_0x427f26,_0x41e603,_0x1c6a69]=_0x1c2191[_0x56a8b1];_0x427f26?_0x7ba74d[_0x41e603]=[_0x1c6a69[_0xec4d52(0x16a)](([_0x3558b4])=>[_0x3558b4,{}]),emptyParam]:_0x1ae116++;let _0x336e7c;try{_0x336e7c=_0x30dcab['insert'](_0x41e603,_0x1ae116,_0x427f26);}catch(_0x190c66){throw _0x190c66===PATH_ERROR?new UnsupportedPathError(_0x41e603):_0x190c66;}if(_0x427f26)continue;_0x332c44[_0x1ae116]=_0x1c6a69['map'](([_0x20187a,_0x155d9e])=>{const _0x2ef8bd={};_0x155d9e-=0x1;for(;_0x155d9e>=0x0;_0x155d9e--){const [_0x5c24db,_0x1ceeb9]=_0x336e7c[_0x155d9e];_0x2ef8bd[_0x5c24db]=_0x1ceeb9;}return[_0x20187a,_0x2ef8bd];});}const [_0x3e74a0,_0x53c001,_0x243a34]=_0x30dcab[_0xec4d52(0x277)]();for(let _0x2bf43a=0x0,_0xd63078=_0x332c44[_0xec4d52(0x1bb)];_0x2bf43a<_0xd63078;_0x2bf43a++){for(let _0xcf365c=0x0,_0x1e5897=_0x332c44[_0x2bf43a][_0xec4d52(0x1bb)];_0xcf365c<_0x1e5897;_0xcf365c++){const _0x3f302e=_0x332c44[_0x2bf43a][_0xcf365c]?.[0x1];if(!_0x3f302e)continue;const _0x2c7701=Object[_0xec4d52(0x16c)](_0x3f302e);for(let _0x4843da=0x0,_0x2badbd=_0x2c7701['length'];_0x4843da<_0x2badbd;_0x4843da++){_0x3f302e[_0x2c7701[_0x4843da]]=_0x243a34[_0x3f302e[_0x2c7701[_0x4843da]]];}}}const _0xb13493=[];for(const _0x859ce2 in _0x53c001){_0xb13493[_0x859ce2]=_0x332c44[_0x53c001[_0x859ce2]];}return[_0x3e74a0,_0xb13493,_0x7ba74d];}function findMiddleware(_0x185f12,_0x3306a0){const _0x122331=a0_0x52a09f;if(!_0x185f12)return void 0x0;for(const _0x24e3a4 of Object[_0x122331(0x16c)](_0x185f12)[_0x122331(0x296)]((_0x22b021,_0x454cd4)=>_0x454cd4[_0x122331(0x1bb)]-_0x22b021[_0x122331(0x1bb)])){if(buildWildcardRegExp(_0x24e3a4)['test'](_0x3306a0))return[..._0x185f12[_0x24e3a4]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x12f069=a0_0x52a09f;this[_0x12f069(0x1d3)]='RegExpRouter',this[_0x12f069(0x1e9)]={[METHOD_NAME_ALL]:{}},this[_0x12f069(0x222)]={[METHOD_NAME_ALL]:{}};}[a0_0x52a09f(0x29b)](_0x55bee2,_0x117b67,_0x50202f){const _0x589078=a0_0x52a09f;var _0x52911d;const {middleware:_0x3fcb97,routes:_0x5bdfeb}=this;if(!_0x3fcb97||!_0x5bdfeb)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0x589078(0x194)](_0x55bee2)===-0x1&&methodNames[_0x589078(0x205)](_0x55bee2);if(!_0x3fcb97[_0x55bee2]){;[_0x3fcb97,_0x5bdfeb]['forEach'](_0x457566=>{_0x457566[_0x55bee2]={},Object['keys'](_0x457566[METHOD_NAME_ALL])['forEach'](_0x36cefd=>{_0x457566[_0x55bee2][_0x36cefd]=[..._0x457566[METHOD_NAME_ALL][_0x36cefd]];});});}_0x117b67==='/*'&&(_0x117b67='*');const _0x4951b6=(_0x117b67[_0x589078(0x146)](/\/:/g)||[])[_0x589078(0x1bb)];if(/\*$/[_0x589078(0x22b)](_0x117b67)){const _0x1615bd=buildWildcardRegExp(_0x117b67);_0x55bee2===METHOD_NAME_ALL?Object['keys'](_0x3fcb97)[_0x589078(0x178)](_0x1a122f=>{var _0x1550e3;(_0x1550e3=_0x3fcb97[_0x1a122f])[_0x117b67]||(_0x1550e3[_0x117b67]=findMiddleware(_0x3fcb97[_0x1a122f],_0x117b67)||findMiddleware(_0x3fcb97[METHOD_NAME_ALL],_0x117b67)||[]);}):(_0x52911d=_0x3fcb97[_0x55bee2])[_0x117b67]||(_0x52911d[_0x117b67]=findMiddleware(_0x3fcb97[_0x55bee2],_0x117b67)||findMiddleware(_0x3fcb97[METHOD_NAME_ALL],_0x117b67)||[]);Object['keys'](_0x3fcb97)[_0x589078(0x178)](_0x1bb8ab=>{const _0x26b420=_0x589078;(_0x55bee2===METHOD_NAME_ALL||_0x55bee2===_0x1bb8ab)&&Object[_0x26b420(0x16c)](_0x3fcb97[_0x1bb8ab])['forEach'](_0xadcd89=>{const _0x189316=_0x26b420;_0x1615bd[_0x189316(0x22b)](_0xadcd89)&&_0x3fcb97[_0x1bb8ab][_0xadcd89][_0x189316(0x205)]([_0x50202f,_0x4951b6]);});}),Object[_0x589078(0x16c)](_0x5bdfeb)[_0x589078(0x178)](_0x5136a2=>{const _0x361a0d=_0x589078;(_0x55bee2===METHOD_NAME_ALL||_0x55bee2===_0x5136a2)&&Object[_0x361a0d(0x16c)](_0x5bdfeb[_0x5136a2])['forEach'](_0x38aaaf=>_0x1615bd[_0x361a0d(0x22b)](_0x38aaaf)&&_0x5bdfeb[_0x5136a2][_0x38aaaf][_0x361a0d(0x205)]([_0x50202f,_0x4951b6]));});return;}const _0x46a5f3=checkOptionalParameter(_0x117b67)||[_0x117b67];for(let _0x306a2d=0x0,_0x21a431=_0x46a5f3['length'];_0x306a2d<_0x21a431;_0x306a2d++){const _0x39f14d=_0x46a5f3[_0x306a2d];Object[_0x589078(0x16c)](_0x5bdfeb)[_0x589078(0x178)](_0x551591=>{const _0x285d14=_0x589078;var _0x2f2847;(_0x55bee2===METHOD_NAME_ALL||_0x55bee2===_0x551591)&&((_0x2f2847=_0x5bdfeb[_0x551591])[_0x39f14d]||(_0x2f2847[_0x39f14d]=[...findMiddleware(_0x3fcb97[_0x551591],_0x39f14d)||findMiddleware(_0x3fcb97[METHOD_NAME_ALL],_0x39f14d)||[]]),_0x5bdfeb[_0x551591][_0x39f14d][_0x285d14(0x205)]([_0x50202f,_0x4951b6-_0x21a431+_0x306a2d+0x1]));});}}['match'](_0x40e17a,_0x24c7b2){const _0x3c551d=a0_0x52a09f;clearWildcardRegExpCache();const _0x56f901=this[_0x3c551d(0x23f)]();return this['match']=(_0x32fcf6,_0xde65b3)=>{const _0x244619=_0x3c551d,_0x5bec94=_0x56f901[_0x32fcf6],_0x56541f=_0x5bec94[0x2][_0xde65b3];if(_0x56541f)return _0x56541f;const _0x41daf5=_0xde65b3[_0x244619(0x146)](_0x5bec94[0x0]);if(!_0x41daf5)return[[],emptyParam];const _0x9c7fda=_0x41daf5['indexOf']('',0x1);return[_0x5bec94[0x1][_0x9c7fda],_0x41daf5];},this[_0x3c551d(0x146)](_0x40e17a,_0x24c7b2);}[a0_0x52a09f(0x23f)](){const _0x33b5fe=a0_0x52a09f,_0x1f74d9={};return methodNames[_0x33b5fe(0x178)](_0x194027=>{_0x1f74d9[_0x194027]=this['buildMatcher'](_0x194027)||_0x1f74d9[METHOD_NAME_ALL];}),this[_0x33b5fe(0x1e9)]=this[_0x33b5fe(0x222)]=void 0x0,_0x1f74d9;}[a0_0x52a09f(0x166)](_0x554568){const _0x790713=a0_0x52a09f,_0x44c3c3=[];let _0x282411=_0x554568===METHOD_NAME_ALL;return[this[_0x790713(0x1e9)],this[_0x790713(0x222)]]['forEach'](_0x4a342f=>{const _0x75f5c=_0x790713,_0xb08ce9=_0x4a342f[_0x554568]?Object[_0x75f5c(0x16c)](_0x4a342f[_0x554568])['map'](_0x19b0ac=>[_0x19b0ac,_0x4a342f[_0x554568][_0x19b0ac]]):[];if(_0xb08ce9['length']!==0x0)_0x282411||(_0x282411=!![]),_0x44c3c3[_0x75f5c(0x205)](..._0xb08ce9);else _0x554568!==METHOD_NAME_ALL&&_0x44c3c3['push'](...Object[_0x75f5c(0x16c)](_0x4a342f[METHOD_NAME_ALL])[_0x75f5c(0x16a)](_0x3196c6=>[_0x3196c6,_0x4a342f[METHOD_NAME_ALL][_0x3196c6]]));}),!_0x282411?null:buildMatcherFromPreprocessedRoutes(_0x44c3c3);}},SmartRouter=class{constructor(_0x5bb5a5){const _0x353697=a0_0x52a09f;this[_0x353697(0x1d3)]=_0x353697(0x1cd),this[_0x353697(0x26b)]=[],this['routes']=[],Object[_0x353697(0x267)](this,_0x5bb5a5);}[a0_0x52a09f(0x29b)](_0x5e6a64,_0x266f82,_0xa6bf6e){const _0x3a36ca=a0_0x52a09f;if(!this[_0x3a36ca(0x222)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this[_0x3a36ca(0x222)][_0x3a36ca(0x205)]([_0x5e6a64,_0x266f82,_0xa6bf6e]);}[a0_0x52a09f(0x146)](_0x1252f8,_0x452925){const _0x381341=a0_0x52a09f;if(!this['routes'])throw new Error(_0x381341(0x14d));const {routers:_0x79bb02,routes:_0x582b98}=this,_0x54b70c=_0x79bb02[_0x381341(0x1bb)];let _0x205f17=0x0,_0x48fa80;for(;_0x205f17<_0x54b70c;_0x205f17++){const _0x1d9661=_0x79bb02[_0x205f17];try{_0x582b98[_0x381341(0x178)](_0x242949=>{const _0x596ba6=_0x381341;_0x1d9661[_0x596ba6(0x29b)](..._0x242949);}),_0x48fa80=_0x1d9661[_0x381341(0x146)](_0x1252f8,_0x452925);}catch(_0x483fcb){if(_0x483fcb instanceof UnsupportedPathError)continue;throw _0x483fcb;}this[_0x381341(0x146)]=_0x1d9661['match']['bind'](_0x1d9661),this[_0x381341(0x26b)]=[_0x1d9661],this[_0x381341(0x222)]=void 0x0;break;}if(_0x205f17===_0x54b70c)throw new Error(_0x381341(0x14d));return this[_0x381341(0x1d3)]=_0x381341(0x243)+this['activeRouter'][_0x381341(0x1d3)],_0x48fa80;}get[a0_0x52a09f(0x220)](){const _0x11f315=a0_0x52a09f;if(this[_0x11f315(0x222)]||this['routers'][_0x11f315(0x1bb)]!==0x1)throw new Error('No\x20active\x20router\x20has\x20been\x20determined\x20yet.');return this[_0x11f315(0x26b)][0x0];}},Node2=class{constructor(_0x48cc8f,_0x3de5de,_0x3c1df1){const _0x224fa3=a0_0x52a09f;this['order']=0x0,this[_0x224fa3(0x1e1)]={},this[_0x224fa3(0x248)]=_0x3c1df1||{},this[_0x224fa3(0x27b)]=[],this[_0x224fa3(0x1d3)]='';if(_0x48cc8f&&_0x3de5de){const _0x32c2c0={};_0x32c2c0[_0x48cc8f]={'handler':_0x3de5de,'possibleKeys':[],'score':0x0,'name':this['name']},this[_0x224fa3(0x27b)]=[_0x32c2c0];}this[_0x224fa3(0x173)]=[];}[a0_0x52a09f(0x1c9)](_0x2fb182,_0x5c0508,_0x109810){const _0x147cc2=a0_0x52a09f;this['name']=_0x2fb182+'\x20'+_0x5c0508,this[_0x147cc2(0x241)]=++this[_0x147cc2(0x241)];let _0x5ec64b=this;const _0xe19a34=splitRoutingPath(_0x5c0508),_0x260f14=[],_0x4b4e47=[];for(let _0x2b2f97=0x0,_0x30d992=_0xe19a34[_0x147cc2(0x1bb)];_0x2b2f97<_0x30d992;_0x2b2f97++){const _0x1560eb=_0xe19a34[_0x2b2f97];if(Object['keys'](_0x5ec64b[_0x147cc2(0x248)])[_0x147cc2(0x131)](_0x1560eb)){_0x4b4e47[_0x147cc2(0x205)](..._0x5ec64b[_0x147cc2(0x173)]),_0x5ec64b=_0x5ec64b['children'][_0x1560eb];const _0x4a2dbd=getPattern(_0x1560eb);_0x4a2dbd&&_0x260f14[_0x147cc2(0x205)](_0x4a2dbd[0x1]);continue;}_0x5ec64b[_0x147cc2(0x248)][_0x1560eb]=new Node2();const _0x4cf01f=getPattern(_0x1560eb);_0x4cf01f&&(_0x5ec64b[_0x147cc2(0x173)]['push'](_0x4cf01f),_0x4b4e47['push'](..._0x5ec64b[_0x147cc2(0x173)]),_0x260f14[_0x147cc2(0x205)](_0x4cf01f[0x1])),_0x4b4e47['push'](..._0x5ec64b[_0x147cc2(0x173)]),_0x5ec64b=_0x5ec64b[_0x147cc2(0x248)][_0x1560eb];}!_0x5ec64b['methods'][_0x147cc2(0x1bb)]&&(_0x5ec64b['methods']=[]);const _0x2f3208={},_0x2214e8={'handler':_0x109810,'possibleKeys':_0x260f14[_0x147cc2(0x180)]((_0x1568c2,_0x354eab,_0x3f63bc)=>_0x3f63bc['indexOf'](_0x1568c2)===_0x354eab),'name':this['name'],'score':this['order']};return _0x2f3208[_0x2fb182]=_0x2214e8,_0x5ec64b[_0x147cc2(0x27b)][_0x147cc2(0x205)](_0x2f3208),_0x5ec64b;}[a0_0x52a09f(0x272)](_0x5ed6ab,_0x5e5b7d,_0x3c3f52,_0x3025ad){const _0x56d5d7=a0_0x52a09f,_0x19f8c2=[];for(let _0x59ec9c=0x0,_0x13af62=_0x5ed6ab[_0x56d5d7(0x27b)]['length'];_0x59ec9c<_0x13af62;_0x59ec9c++){const _0x481ddb=_0x5ed6ab['methods'][_0x59ec9c],_0x3318e2=_0x481ddb[_0x5e5b7d]||_0x481ddb[METHOD_NAME_ALL],_0x2901d7={};_0x3318e2!==void 0x0&&(_0x3318e2[_0x56d5d7(0x1e1)]={},_0x3318e2[_0x56d5d7(0x1f6)][_0x56d5d7(0x178)](_0x258921=>{const _0x2d519f=_0x56d5d7,_0x3492dd=_0x2901d7[_0x3318e2[_0x2d519f(0x1d3)]];_0x3318e2[_0x2d519f(0x1e1)][_0x258921]=_0x3025ad[_0x258921]&&!_0x3492dd?_0x3025ad[_0x258921]:_0x3c3f52[_0x258921]??_0x3025ad[_0x258921],_0x2901d7[_0x3318e2[_0x2d519f(0x1d3)]]=!![];}),_0x19f8c2['push'](_0x3318e2));}return _0x19f8c2;}[a0_0x52a09f(0x24f)](_0x5bb3bf,_0x90418b){const _0x407601=a0_0x52a09f,_0x4eb35a=[];this[_0x407601(0x1e1)]={};const _0x22444b=this;let _0x30f313=[_0x22444b];const _0x189e8a=splitPath(_0x90418b);for(let _0x539dd6=0x0,_0x43c9dd=_0x189e8a['length'];_0x539dd6<_0x43c9dd;_0x539dd6++){const _0x52b19f=_0x189e8a[_0x539dd6],_0x57576a=_0x539dd6===_0x43c9dd-0x1,_0x506fd4=[];for(let _0x25f9bf=0x0,_0x3c2007=_0x30f313[_0x407601(0x1bb)];_0x25f9bf<_0x3c2007;_0x25f9bf++){const _0x5f57f3=_0x30f313[_0x25f9bf],_0x55546a=_0x5f57f3[_0x407601(0x248)][_0x52b19f];_0x55546a&&(_0x55546a[_0x407601(0x1e1)]=_0x5f57f3[_0x407601(0x1e1)],_0x57576a===!![]?(_0x55546a[_0x407601(0x248)]['*']&&_0x4eb35a['push'](...this[_0x407601(0x272)](_0x55546a['children']['*'],_0x5bb3bf,_0x5f57f3[_0x407601(0x1e1)],{})),_0x4eb35a[_0x407601(0x205)](...this['gHSets'](_0x55546a,_0x5bb3bf,_0x5f57f3[_0x407601(0x1e1)],{}))):_0x506fd4[_0x407601(0x205)](_0x55546a));for(let _0x1353c8=0x0,_0x5ca1ba=_0x5f57f3[_0x407601(0x173)][_0x407601(0x1bb)];_0x1353c8<_0x5ca1ba;_0x1353c8++){const _0x3d4f52=_0x5f57f3[_0x407601(0x173)][_0x1353c8],_0x31037c={..._0x5f57f3[_0x407601(0x1e1)]};if(_0x3d4f52==='*'){const _0x1d315b=_0x5f57f3[_0x407601(0x248)]['*'];_0x1d315b&&(_0x4eb35a[_0x407601(0x205)](...this[_0x407601(0x272)](_0x1d315b,_0x5bb3bf,_0x5f57f3[_0x407601(0x1e1)],{})),_0x506fd4[_0x407601(0x205)](_0x1d315b));continue;}if(_0x52b19f==='')continue;const [_0x30824e,_0x466132,_0x3dbed9]=_0x3d4f52,_0x3186e3=_0x5f57f3['children'][_0x30824e],_0x171c96=_0x189e8a['slice'](_0x539dd6)[_0x407601(0x1f7)]('/');if(_0x3dbed9 instanceof RegExp&&_0x3dbed9[_0x407601(0x22b)](_0x171c96)){_0x31037c[_0x466132]=_0x171c96,_0x4eb35a[_0x407601(0x205)](...this[_0x407601(0x272)](_0x3186e3,_0x5bb3bf,_0x5f57f3[_0x407601(0x1e1)],_0x31037c));continue;}(_0x3dbed9===!![]||_0x3dbed9 instanceof RegExp&&_0x3dbed9[_0x407601(0x22b)](_0x52b19f))&&(typeof _0x30824e===_0x407601(0x136)&&(_0x31037c[_0x466132]=_0x52b19f,_0x57576a===!![]?(_0x4eb35a[_0x407601(0x205)](...this[_0x407601(0x272)](_0x3186e3,_0x5bb3bf,_0x31037c,_0x5f57f3[_0x407601(0x1e1)])),_0x3186e3[_0x407601(0x248)]['*']&&_0x4eb35a[_0x407601(0x205)](...this[_0x407601(0x272)](_0x3186e3[_0x407601(0x248)]['*'],_0x5bb3bf,_0x31037c,_0x5f57f3['params']))):(_0x3186e3['params']=_0x31037c,_0x506fd4[_0x407601(0x205)](_0x3186e3))));}}_0x30f313=_0x506fd4;}const _0x5a7634=_0x4eb35a[_0x407601(0x296)]((_0x472fc0,_0x260930)=>{const _0x8dd6d2=_0x407601;return _0x472fc0[_0x8dd6d2(0x1b4)]-_0x260930[_0x8dd6d2(0x1b4)];});return[_0x5a7634[_0x407601(0x16a)](({handler:_0x1a3f3a,params:_0x16c39f})=>[_0x1a3f3a,_0x16c39f])];}},TrieRouter=class{constructor(){const _0x43dac4=a0_0x52a09f;this[_0x43dac4(0x1d3)]='TrieRouter',this[_0x43dac4(0x25f)]=new Node2();}[a0_0x52a09f(0x29b)](_0x20d5da,_0x345839,_0xc40e12){const _0x24cd1a=a0_0x52a09f,_0x581892=checkOptionalParameter(_0x345839);if(_0x581892){for(const _0x1772ff of _0x581892){this[_0x24cd1a(0x25f)][_0x24cd1a(0x1c9)](_0x20d5da,_0x1772ff,_0xc40e12);}return;}this[_0x24cd1a(0x25f)][_0x24cd1a(0x1c9)](_0x20d5da,_0x345839,_0xc40e12);}[a0_0x52a09f(0x146)](_0x56b6a1,_0x1e0732){const _0x3af5d9=a0_0x52a09f;return this[_0x3af5d9(0x25f)][_0x3af5d9(0x24f)](_0x56b6a1,_0x1e0732);}},Hono2=class extends Hono{constructor(_0x27e72e={}){const _0x3a16ff=a0_0x52a09f;super(_0x27e72e),this[_0x3a16ff(0x1dd)]=_0x27e72e[_0x3a16ff(0x1dd)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0x5ec95b){const _0x5d2db6=a0_0x52a09f;if(wasmReady)return wasmModule;try{const _0x4a4330=_0x5ec95b||_0x5d2db6(0x250),_0x5dba84=await import(_0x4a4330);return typeof _0x5dba84[_0x5d2db6(0x1f0)]===_0x5d2db6(0x1e6)&&await _0x5dba84[_0x5d2db6(0x1f0)](),wasmModule=_0x5dba84,wasmReady=!![],wasmModule;}catch(_0x4f8aa7){console[_0x5d2db6(0x160)](_0x5d2db6(0x1a2),_0x4f8aa7),wasmReady=![];throw _0x4f8aa7;}}async function parseVlessHeader(_0x1f7a6f){const _0x669d04=a0_0x52a09f;if(!wasmReady)throw new Error(_0x669d04(0x287));if(!wasmModule||typeof wasmModule[_0x669d04(0x1d7)]!==_0x669d04(0x1e6))throw new Error(_0x669d04(0x23b));return await wasmModule['parse_vless_header'](_0x1f7a6f);}function renderAdminLogin(_0x129367,_0x5e0a03){const _0x53c762=a0_0x52a09f;return'<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22'+_0x129367+_0x53c762(0x247)+(_0x5e0a03?_0x53c762(0x237)+escapeHtml(_0x5e0a03)+_0x53c762(0x134):'')+_0x53c762(0x281);}function renderAdminPanel(){const _0x826cff=a0_0x52a09f;return _0x826cff(0x19a);}function escapeHtml(_0x294948){const _0x381dd6=a0_0x52a09f;return _0x294948['replace'](/[&<>'"]/g,_0xa45062=>({'&':_0x381dd6(0x265),'<':_0x381dd6(0x1fd),'>':'&gt;','\x27':_0x381dd6(0x1d2),'\x22':'&quot;'}[_0xa45062]));}function expiryToISO(_0x181b68,_0x1f51d5){const _0x24d96e=a0_0x52a09f;if(!_0x181b68||!_0x1f51d5)return null;const _0x5a8b83=_0x1f51d5[_0x24d96e(0x26e)](':')[_0x24d96e(0x1bb)]===0x2?_0x1f51d5+':00':_0x1f51d5,_0x5b06a9=_0x181b68+'T'+_0x5a8b83+'Z',_0x3e6b7=new Date(_0x5b06a9);if(isNaN(_0x3e6b7[_0x24d96e(0x23a)]()))return null;return _0x3e6b7[_0x24d96e(0x1f2)]();}var appPromise=null;async function getApp(){if(appPromise)return appPromise;return appPromise=((async()=>{const _0x2678fd=new Hono2();return await registerRoutes(_0x2678fd),_0x2678fd;})()),appPromise;}async function registerRoutes(_0x3a53fd){const _0xe36a88=a0_0x52a09f;function _0x29d48e(_0x5c1b8c){const _0x59a75e=a0_0x4509;_0x5c1b8c[_0x59a75e(0x17c)]('X-Content-Type-Options',_0x59a75e(0x1c3)),_0x5c1b8c['set'](_0x59a75e(0x268),_0x59a75e(0x133)),_0x5c1b8c[_0x59a75e(0x17c)](_0x59a75e(0x169),_0x59a75e(0x1aa));}_0x3a53fd[_0xe36a88(0x1fe)]('/admin/login',async _0x190db6=>{const _0x4d944f=_0xe36a88,_0x3f403d=_0x190db6[_0x4d944f(0x1bf)],_0x14bb6f=await _0x190db6['req'][_0x4d944f(0x291)](),_0x154b9c=_0x14bb6f[_0x4d944f(0x202)](_0x4d944f(0x1c0))?.[_0x4d944f(0x158)]()||'';if(!_0x3f403d[_0x4d944f(0x1e2)])return _0x190db6['text']('Admin\x20not\x20configured',0x1f7);if(_0x154b9c!==_0x3f403d[_0x4d944f(0x1e2)])return _0x190db6[_0x4d944f(0x186)](_0x4d944f(0x15a),0x191);const _0x179d68=crypto[_0x4d944f(0x288)](),_0x3e9087=await crypto['subtle'][_0x4d944f(0x13d)]('SHA-256',new TextEncoder()[_0x4d944f(0x1b8)](_0x179d68)),_0x7015a5=Array[_0x4d944f(0x229)](new Uint8Array(_0x3e9087))[_0x4d944f(0x16a)](_0x2385a4=>_0x2385a4[_0x4d944f(0x158)](0x10)[_0x4d944f(0x1d5)](0x2,'0'))[_0x4d944f(0x1f7)]('');try{await _0x3f403d['DB'][_0x4d944f(0x223)](_0x4d944f(0x299))[_0x4d944f(0x144)](_0x4d944f(0x1f0),_0x7015a5,Math['floor'](Date['now']()/0x3e8)+0x15180)[_0x4d944f(0x18d)]();}catch(_0x3a0d93){console['error'](_0x4d944f(0x207),_0x3a0d93);}const _0x43a23f=new Headers();return _0x43a23f[_0x4d944f(0x282)](_0x4d944f(0x1e5),_0x4d944f(0x1dc)+_0x179d68+_0x4d944f(0x1d8)),_0x29d48e(_0x43a23f),_0x190db6[_0x4d944f(0x186)]('OK',0xc8,{'headers':_0x43a23f});});async function _0x5e27d2(_0x1a7915){const _0x1b6216=_0xe36a88,_0x1ebce4=new TextEncoder(),_0x568808=_0x1ebce4[_0x1b6216(0x1b8)](_0x1a7915),_0x2c772f=await crypto[_0x1b6216(0x159)]['digest'](_0x1b6216(0x193),_0x568808);return Array[_0x1b6216(0x229)](new Uint8Array(_0x2c772f))[_0x1b6216(0x16a)](_0x5c3370=>_0x5c3370['toString'](0x10)[_0x1b6216(0x1d5)](0x2,'0'))[_0x1b6216(0x1f7)]('');}async function _0xfef0bf(_0x1bbe0d){const _0xf35761=_0xe36a88,_0x38c810=_0x1bbe0d[_0xf35761(0x24a)][_0xf35761(0x254)][_0xf35761(0x202)](_0xf35761(0x177))||'',_0x3728c7=_0x38c810[_0xf35761(0x146)](/auth_token=([^;]+)/)?.[0x1];if(!_0x3728c7)return![];const _0x4af373=await _0x5e27d2(_0x3728c7);try{const _0x1b7394=await _0x1bbe0d[_0xf35761(0x1bf)]['DB']['prepare'](_0xf35761(0x1a5))[_0xf35761(0x144)](_0xf35761(0x1f0))['first']();if(!_0x1b7394?.['token_hash'])return![];return _0x4af373===_0x1b7394['token_hash'];}catch(_0x5ad76d){return console[_0xf35761(0x160)](_0xf35761(0x211),_0x5ad76d),![];}}async function _0x28472f(_0x13d502){const _0x2c0089=_0xe36a88;if(!_0x13d502['DB'])return;const _0x21684b=[_0x2c0089(0x18a),_0x2c0089(0x238),'CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)',_0x2c0089(0x13a)];try{const _0xda2128=_0x21684b[_0x2c0089(0x16a)](_0x402f11=>_0x13d502['DB'][_0x2c0089(0x223)](_0x402f11));await _0x13d502['DB'][_0x2c0089(0x28c)](_0xda2128);}catch(_0x8317b7){console[_0x2c0089(0x160)](_0x2c0089(0x140),_0x8317b7);}}_0x3a53fd[_0xe36a88(0x202)](_0xe36a88(0x1b6),async _0x6fc99b=>{const _0x59fb16=_0xe36a88;await _0x28472f(_0x6fc99b[_0x59fb16(0x1bf)]);const _0x543dcb=await _0xfef0bf(_0x6fc99b),_0x13efd2=_0x59fb16(0x1b6),_0x1b84c3=new Headers({'Content-Type':'text/html;charset=utf-8'});_0x29d48e(_0x1b84c3);if(!_0x543dcb)return new Response(renderAdminLogin(_0x13efd2+_0x59fb16(0x1fa)),{'headers':_0x1b84c3});return new Response(renderAdminPanel(),{'headers':_0x1b84c3});}),_0x3a53fd[_0xe36a88(0x202)]('/admin/api/stats',async _0x205131=>{const _0x30063a=_0xe36a88;if(!await _0xfef0bf(_0x205131))return _0x205131[_0x30063a(0x25b)]({'error':_0x30063a(0x214)},0x193);const _0x5c4654=_0x205131[_0x30063a(0x1bf)];await _0x28472f(_0x5c4654);try{const _0x253698=await _0x5c4654['DB'][_0x30063a(0x223)](_0x30063a(0x19d))['first'](_0x30063a(0x217)),_0x27b21e=await _0x5c4654['DB']['prepare'](_0x30063a(0x14e))[_0x30063a(0x27f)](_0x30063a(0x217)),_0x4b4351=await _0x5c4654['DB'][_0x30063a(0x223)](_0x30063a(0x286))[_0x30063a(0x27f)]('sum'),_0x30d44e=_0x27b21e||0x0,_0x2bf716=(_0x253698||0x0)-_0x30d44e;return _0x205131['json']({'total_users':_0x253698||0x0,'active_users':_0x2bf716,'expired_users':_0x30d44e,'total_traffic':_0x4b4351||0x0});}catch(_0x1786e6){const _0x5adecb=_0x1786e6 instanceof Error?_0x1786e6['message']:String(_0x1786e6);return _0x205131[_0x30063a(0x25b)]({'error':_0x5adecb},0x1f4);}}),_0x3a53fd[_0xe36a88(0x202)]('/admin/api/users',async _0x3093d0=>{const _0x57a203=_0xe36a88;if(!await _0xfef0bf(_0x3093d0))return _0x3093d0[_0x57a203(0x25b)]({'error':_0x57a203(0x214)},0x193);const _0xa87c98=await _0x3093d0[_0x57a203(0x1bf)]['DB'][_0x57a203(0x223)]('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')[_0x57a203(0x17f)]();return _0x3093d0[_0x57a203(0x25b)](_0xa87c98['results']||[]);}),_0x3a53fd['post'](_0xe36a88(0x168),async _0x270619=>{const _0x54db0f=_0xe36a88;if(!await _0xfef0bf(_0x270619))return _0x270619[_0x54db0f(0x25b)]({'error':_0x54db0f(0x214)},0x193);const _0x1a6e11=await _0x270619[_0x54db0f(0x24a)][_0x54db0f(0x25b)](),{uuid:_0x3becea,exp_date:_0x8b9438,exp_time:_0x15a05d,notes:_0x3bbde3,traffic_limit:_0x48254e,ip_limit:_0x53af0b}=_0x1a6e11;if(!_0x3becea||!_0x8b9438||!_0x15a05d)return _0x270619[_0x54db0f(0x25b)]({'error':_0x54db0f(0x143)},0x190);try{return await _0x270619[_0x54db0f(0x1bf)]['DB'][_0x54db0f(0x223)](_0x54db0f(0x226))[_0x54db0f(0x144)](_0x3becea,_0x8b9438,_0x15a05d,_0x3bbde3||null,_0x48254e||null,_0x53af0b||-0x1)[_0x54db0f(0x18d)](),_0x270619[_0x54db0f(0x25b)]({'success':!![],'uuid':_0x3becea},0xc9);}catch(_0x2ea05d){const _0x46c0de=_0x2ea05d instanceof Error?_0x2ea05d['message']:String(_0x2ea05d);return _0x270619[_0x54db0f(0x25b)]({'error':_0x46c0de},0x190);}}),_0x3a53fd[_0xe36a88(0x261)](_0xe36a88(0x165),async _0x172f12=>{const _0x322cb8=_0xe36a88;if(!await _0xfef0bf(_0x172f12))return _0x172f12[_0x322cb8(0x25b)]({'error':_0x322cb8(0x214)},0x193);const _0x120617=_0x172f12['req'][_0x322cb8(0x1f9)](_0x322cb8(0x21c)),_0x1cf819=await _0x172f12[_0x322cb8(0x24a)][_0x322cb8(0x25b)](),{exp_date:_0x5ed054,exp_time:_0x56e859,notes:_0x386e9c,traffic_limit:_0x3c0cbf,ip_limit:_0x21d257,reset_traffic:_0x3ad879}=_0x1cf819;if(!_0x5ed054||!_0x56e859)return _0x172f12['json']({'error':_0x322cb8(0x164)},0x190);try{let _0x38b99c=_0x322cb8(0x1a4);if(_0x3ad879)_0x38b99c+=',\x20traffic_used\x20=\x200';return _0x38b99c+=_0x322cb8(0x1b2),await _0x172f12['env']['DB'][_0x322cb8(0x223)](_0x38b99c)['bind'](_0x5ed054,_0x56e859,_0x386e9c||null,_0x3c0cbf||null,_0x21d257||-0x1,_0x120617)[_0x322cb8(0x18d)](),_0x172f12[_0x322cb8(0x25b)]({'success':!![],'uuid':_0x120617});}catch(_0xef1cbf){const _0x2741eb=_0xef1cbf instanceof Error?_0xef1cbf['message']:String(_0xef1cbf);return _0x172f12[_0x322cb8(0x25b)]({'error':_0x2741eb},0x190);}}),_0x3a53fd[_0xe36a88(0x14b)](_0xe36a88(0x165),async _0x325bff=>{const _0x7f97bf=_0xe36a88;if(!await _0xfef0bf(_0x325bff))return _0x325bff[_0x7f97bf(0x25b)]({'error':_0x7f97bf(0x214)},0x193);const _0x512d9e=_0x325bff[_0x7f97bf(0x24a)][_0x7f97bf(0x1f9)]('uuid');try{return await _0x325bff[_0x7f97bf(0x1bf)]['DB']['prepare'](_0x7f97bf(0x199))[_0x7f97bf(0x144)](_0x512d9e)['run'](),_0x325bff[_0x7f97bf(0x25b)]({'success':!![],'uuid':_0x512d9e});}catch(_0x4acc37){const _0xaea9c3=_0x4acc37 instanceof Error?_0x4acc37['message']:String(_0x4acc37);return _0x325bff[_0x7f97bf(0x25b)]({'error':_0xaea9c3},0x1f4);}}),_0x3a53fd[_0xe36a88(0x1fe)]('/admin/api/health-check',async _0x141431=>{const _0x2f5c6f=_0xe36a88;if(!await _0xfef0bf(_0x141431))return _0x141431[_0x2f5c6f(0x25b)]({'error':'Forbidden'},0x193);const _0x3bd116=_0x141431[_0x2f5c6f(0x1bf)],_0x381cdf=_0x3bd116[_0x2f5c6f(0x145)]?_0x3bd116[_0x2f5c6f(0x145)]['split'](',')[_0x2f5c6f(0x16a)](_0x1a98d7=>_0x1a98d7['trim']()):['speed.cloudflare.com:443'],_0x1f5a9e=[];for(const _0x52a188 of _0x381cdf){const [_0x30dad8,_0x193b7e=_0x2f5c6f(0x22e)]=_0x52a188[_0x2f5c6f(0x26e)](':');let _0x5595c=null,_0x1c98b5=0x0;const _0x239474=Date[_0x2f5c6f(0x137)]();try{const _0x451d5f=new AbortController(),_0x506951=setTimeout(()=>_0x451d5f['abort'](),0x1388),_0x342fcb=await fetch(_0x2f5c6f(0x188)+_0x30dad8+':'+_0x193b7e,{'signal':_0x451d5f[_0x2f5c6f(0x1ff)]});clearTimeout(_0x506951),_0x342fcb['ok']&&(_0x5595c=Date[_0x2f5c6f(0x137)]()-_0x239474,_0x1c98b5=0x1);}catch(_0x5d2c22){}_0x1f5a9e['push'](_0x3bd116['DB'][_0x2f5c6f(0x223)](_0x2f5c6f(0x1cc))[_0x2f5c6f(0x144)](_0x52a188,_0x1c98b5,_0x5595c,Math[_0x2f5c6f(0x1ef)](Date['now']()/0x3e8)));}try{return await _0x3bd116['DB'][_0x2f5c6f(0x28c)](_0x1f5a9e),_0x141431[_0x2f5c6f(0x25b)]({'success':!![]});}catch(_0x17b89e){return _0x141431[_0x2f5c6f(0x25b)]({'error':_0x17b89e?.['message']||String(_0x17b89e)},0x1f4);}}),_0x3a53fd[_0xe36a88(0x1fe)](_0xe36a88(0x1bd),async _0x41a521=>{const _0x1bb17f=_0xe36a88;try{await _0x41a521['env']['DB'][_0x1bb17f(0x223)](_0x1bb17f(0x27d))[_0x1bb17f(0x144)](_0x1bb17f(0x1f0))[_0x1bb17f(0x18d)]();}catch(_0x4c6202){}const _0x4bdda5=new Headers();return _0x4bdda5[_0x1bb17f(0x282)](_0x1bb17f(0x1e5),_0x1bb17f(0x210)),_0x29d48e(_0x4bdda5),new Response(JSON[_0x1bb17f(0x191)]({'success':!![]}),{'headers':_0x4bdda5});}),_0x3a53fd[_0xe36a88(0x202)](_0xe36a88(0x231),async _0x5e15c1=>{const _0x594d14=_0xe36a88,{uuid:_0x40ca22}=_0x5e15c1['req']['param'](),_0x2f5a3d=_0x5e15c1[_0x594d14(0x1bf)];if(!/^[0-9a-fA-F-]{36}$/[_0x594d14(0x22b)](_0x40ca22))return _0x5e15c1[_0x594d14(0x25b)]({'error':_0x594d14(0x283)},0x190);const _0x5dfff5=await _0x2f5a3d['DB'][_0x594d14(0x223)]('SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?')[_0x594d14(0x144)](_0x40ca22)[_0x594d14(0x27f)]();if(!_0x5dfff5)return _0x5e15c1['json']({'error':_0x594d14(0x21f)},0x194);const _0x3bd969=expiryToISO(_0x5dfff5[_0x594d14(0x213)],_0x5dfff5[_0x594d14(0x198)]);return _0x5e15c1[_0x594d14(0x25b)]({'traffic_used':_0x5dfff5[_0x594d14(0x25e)]||0x0,'traffic_limit':_0x5dfff5[_0x594d14(0x1ed)]||null,'expiration_iso':_0x3bd969});}),_0x3a53fd[_0xe36a88(0x202)]('/:uuid',async _0x31d7a1=>{const _0xe24e2b=_0xe36a88,_0x3e9190=_0x31d7a1[_0xe24e2b(0x24a)][_0xe24e2b(0x1f9)]('uuid'),_0x52947a=_0x31d7a1[_0xe24e2b(0x1bf)];if(!/^[0-9a-fA-F-]{36}$/[_0xe24e2b(0x22b)](_0x3e9190))return _0x31d7a1['text'](_0xe24e2b(0x264),0x190);const _0x251960=await _0x52947a['DB'][_0xe24e2b(0x223)](_0xe24e2b(0x285))[_0xe24e2b(0x144)](_0x3e9190)[_0xe24e2b(0x27f)]();if(!_0x251960)return _0x31d7a1[_0xe24e2b(0x186)]('Authentication\x20failed',0x193);let _0x2522f3=_0x52947a[_0xe24e2b(0x145)]?_0x52947a[_0xe24e2b(0x145)]['split'](',')[0x0]:_0xe24e2b(0x1f4);try{const _0x22a115=await _0x52947a['DB']['prepare'](_0xe24e2b(0x182))[_0xe24e2b(0x27f)]();if(_0x22a115?.['ip_port'])_0x2522f3=_0x22a115['ip_port'];}catch(_0x20512c){}const _0x344794=_0x31d7a1[_0xe24e2b(0x24a)][_0xe24e2b(0x254)]['get']('Host')||_0xe24e2b(0x17e),_0x26d691='https://'+_0x344794+_0xe24e2b(0x1ea)+_0x3e9190,_0x3e8302=_0xe24e2b(0x188)+_0x344794+_0xe24e2b(0x15d)+_0x3e9190,_0x2f2332=expiryToISO(_0x251960['expiration_date'],_0x251960['expiration_time']),_0x3f31b2=_0xe24e2b(0x294)+_0x3e9190+'</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20'+_0x2522f3+_0xe24e2b(0x1a3)+_0x26d691+'\x22>'+_0x26d691+_0xe24e2b(0x206)+_0x3e8302+'\x22>'+_0x3e8302+_0xe24e2b(0x239)+_0x3e9190+'/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20'+(_0x251960[_0xe24e2b(0x25e)]||0x0)+'\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20'+(_0x2f2332||_0xe24e2b(0x132))+_0xe24e2b(0x1eb),_0x1da631=new Headers({'Content-Type':'text/html;charset=utf-8'});return _0x29d48e(_0x1da631),new Response(_0x3f31b2,{'headers':_0x1da631});}),_0x3a53fd[_0xe36a88(0x202)]('/xray/:uuid',async _0x39b8d7=>{const _0xab0315=_0xe36a88,_0x30af77=_0x39b8d7[_0xab0315(0x24a)][_0xab0315(0x1f9)](_0xab0315(0x21c));if(!/^[0-9a-fA-F-]{36}$/[_0xab0315(0x22b)](_0x30af77))return _0x39b8d7['text']('Invalid\x20UUID',0x190);const _0x1e646d=_0x39b8d7['req'][_0xab0315(0x254)][_0xab0315(0x202)](_0xab0315(0x253))||_0xab0315(0x17e),_0x325eb6=['vless://'+_0x30af77+'@'+_0x1e646d+_0xab0315(0x1c6)+_0x1e646d+_0xab0315(0x157)],_0x219469=new Headers({'Content-Type':'text/plain;charset=utf-8'});return _0x29d48e(_0x219469),new Response(btoa(_0x325eb6[_0xab0315(0x1f7)]('\x0a')),{'headers':_0x219469});}),_0x3a53fd[_0xe36a88(0x202)](_0xe36a88(0x28f),async _0x41f78b=>{const _0x1d7084=_0xe36a88,_0x388b5d=_0x41f78b['req'][_0x1d7084(0x1f9)](_0x1d7084(0x21c));if(!/^[0-9a-fA-F-]{36}$/['test'](_0x388b5d))return _0x41f78b[_0x1d7084(0x186)](_0x1d7084(0x264),0x190);const _0xcdb4d7=_0x41f78b[_0x1d7084(0x24a)]['headers']['get'](_0x1d7084(0x253))||'example.com',_0x57c62b=['vless://'+_0x388b5d+'@'+_0xcdb4d7+_0x1d7084(0x1c6)+_0xcdb4d7+_0x1d7084(0x27c)],_0x4677b7=new Headers({'Content-Type':_0x1d7084(0x28a)});return _0x29d48e(_0x4677b7),new Response(btoa(_0x57c62b[_0x1d7084(0x1f7)]('\x0a')),{'headers':_0x4677b7});}),_0x3a53fd[_0xe36a88(0x17f)](_0xe36a88(0x139),async _0xd8339c=>{const _0x2135e6=_0xe36a88,_0xe58c25=_0xd8339c[_0x2135e6(0x24a)],_0x49cb42=_0xd8339c[_0x2135e6(0x1bf)];if(_0xe58c25['headers'][_0x2135e6(0x202)](_0x2135e6(0x262))?.[_0x2135e6(0x1cb)]()!==_0x2135e6(0x1b5))return _0xd8339c[_0x2135e6(0x186)](_0x2135e6(0x259),0x190);try{if(_0x49cb42[_0x2135e6(0x1db)])try{await initWasm();}catch(_0x32c1d7){console[_0x2135e6(0x160)](_0x2135e6(0x1a0),_0x32c1d7);}}catch(_0x47bf04){console[_0x2135e6(0x160)](_0x2135e6(0x1fb),_0x47bf04);}const _0x1c02da=new globalThis[(_0x2135e6(0x170))](),[_0x596f2a,_0x586642]=Object['values'](_0x1c02da);_0x586642['accept']();let _0x362e55=0x0,_0x1138bd='';const _0x47c3fc=async()=>{const _0x199bd9=_0x2135e6;try{if(!_0x1138bd||_0x362e55<=0x0)return;_0xd8339c[_0x199bd9(0x142)][_0x199bd9(0x162)](((async()=>{const _0x48a369=_0x199bd9;try{await _0x49cb42['DB'][_0x48a369(0x223)](_0x48a369(0x17d))[_0x48a369(0x144)](Math[_0x48a369(0x148)](_0x362e55),_0x1138bd)[_0x48a369(0x18d)]();}catch(_0x44296b){console[_0x48a369(0x298)](_0x48a369(0x26f),_0x44296b);}})())),_0x362e55=0x0;}catch(_0x422e71){console[_0x199bd9(0x298)](_0x199bd9(0x15c),_0x422e71);}},_0xe7f235=setInterval(()=>{_0x47c3fc();},0x2710);_0x586642['addEventListener'](_0x2135e6(0x218),async _0x2e740f=>{const _0x1439ad=_0x2135e6;try{const _0x2ff7db=_0x2e740f[_0x1439ad(0x171)];let _0xc28d79;if(typeof _0x2ff7db==='string')_0xc28d79=new TextEncoder()[_0x1439ad(0x1b8)](_0x2ff7db);else{if(_0x2ff7db instanceof ArrayBuffer)_0xc28d79=new Uint8Array(_0x2ff7db);else{if(_0x2ff7db instanceof Blob)_0xc28d79=new Uint8Array(await _0x2ff7db[_0x1439ad(0x1ab)]());else return;}}_0x362e55+=_0xc28d79[_0x1439ad(0x18f)];if(!_0x1138bd)try{if(_0xc28d79[_0x1439ad(0x18f)]<0x18){}let _0x33bb5c=null;try{_0x33bb5c=await parseVlessHeader(_0xc28d79);}catch(_0x390107){console['warn'](_0x1439ad(0x189),_0x390107);}if(!_0x33bb5c){const _0x48a8bb=new DataView(_0xc28d79[_0x1439ad(0x209)]),_0x20976c=new Uint8Array(_0xc28d79[_0x1439ad(0x209)][_0x1439ad(0x1a8)](0x1,0x11)),_0x235b89=Array['from'](_0x20976c)['map'](_0x5f2946=>_0x5f2946[_0x1439ad(0x158)](0x10)['padStart'](0x2,'0'))[_0x1439ad(0x1f7)](''),_0x45a367=_0x235b89[_0x1439ad(0x274)](0x0,0x8)+'-'+_0x235b89['substring'](0x8,0xc)+'-'+_0x235b89['substring'](0xc,0x10)+'-'+_0x235b89[_0x1439ad(0x274)](0x10,0x14)+'-'+_0x235b89[_0x1439ad(0x274)](0x14,0x20);_0x33bb5c={'uuid':_0x45a367,'command':_0x48a8bb['getUint8'](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x1138bd=_0x33bb5c[_0x1439ad(0x21c)];const _0x7e89d4=await _0x49cb42['DB'][_0x1439ad(0x223)](_0x1439ad(0x12f))[_0x1439ad(0x144)](_0x1138bd)['first']();if(!_0x7e89d4){_0x586642[_0x1439ad(0x266)](0x3f3,_0x1439ad(0x26d));return;}const _0x218e05=expiryToISO(_0x7e89d4[_0x1439ad(0x213)],_0x7e89d4['expiration_time']);if(_0x218e05&&new Date(_0x218e05)<=new Date()){_0x586642[_0x1439ad(0x266)](0x3f0,_0x1439ad(0x27a));return;}if(_0x7e89d4[_0x1439ad(0x1ed)]&&_0x7e89d4['traffic_limit']>0x0&&(_0x7e89d4[_0x1439ad(0x25e)]||0x0)>=_0x7e89d4[_0x1439ad(0x1ed)]){_0x586642[_0x1439ad(0x266)](0x3f0,_0x1439ad(0x174));return;}try{const _0x4a1fa6=_0xe58c25[_0x1439ad(0x254)]['get'](_0x1439ad(0x1d9))||_0xe58c25[_0x1439ad(0x254)][_0x1439ad(0x202)](_0x1439ad(0x149))||'';if(_0x7e89d4[_0x1439ad(0x23d)]&&_0x7e89d4[_0x1439ad(0x23d)]>-0x1){const _0x2c68a7=await _0x49cb42['DB'][_0x1439ad(0x223)](_0x1439ad(0x1c2))['bind'](_0x1138bd)['first'](),_0x460426=_0x2c68a7?.[_0x1439ad(0x217)]||0x0;if(_0x460426>=_0x7e89d4[_0x1439ad(0x23d)]){_0x586642[_0x1439ad(0x266)](0x3f0,_0x1439ad(0x1ba));return;}}_0xd8339c[_0x1439ad(0x142)][_0x1439ad(0x162)](((async()=>{const _0x4e1d13=_0x1439ad;try{await _0x49cb42['DB'][_0x4e1d13(0x223)](_0x4e1d13(0x293))[_0x4e1d13(0x144)](_0x1138bd,_0xe58c25[_0x4e1d13(0x254)][_0x4e1d13(0x202)](_0x4e1d13(0x1d9))||_0x4e1d13(0x14a))[_0x4e1d13(0x18d)]();}catch(_0x148e8a){console[_0x4e1d13(0x160)]('user_ip\x20upsert\x20failed',_0x148e8a);}})()));}catch(_0x36e8e6){console[_0x1439ad(0x160)](_0x1439ad(0x15e),_0x36e8e6);}}catch(_0x1fd30d){console[_0x1439ad(0x298)](_0x1439ad(0x20a),_0x1fd30d),_0x586642['close'](0x3f3,_0x1439ad(0x1e4));return;}try{_0x586642['readyState']===0x1&&_0x586642[_0x1439ad(0x270)](_0x1439ad(0x271));}catch(_0x2dd14e){console[_0x1439ad(0x160)]('send\x20ack\x20failed',_0x2dd14e);}}catch(_0x4a5514){console[_0x1439ad(0x298)](_0x1439ad(0x1a7),_0x4a5514);try{_0x586642[_0x1439ad(0x266)](0x3f3,'Internal\x20error');}catch(_0xa03c54){}}}),_0x586642[_0x2135e6(0x1c8)]('close',async()=>{clearInterval(_0xe7f235);try{await _0x47c3fc();}catch(_0x4a074d){console['warn']('flush\x20on\x20close\x20failed',_0x4a074d);}});const _0x2ad096=new Headers();_0x29d48e(_0x2ad096);const _0x2f0969={'status':0x65,'webSocket':_0x596f2a,'headers':_0x2ad096};return new Response(null,_0x2f0969);}),_0x3a53fd[_0xe36a88(0x202)](_0xe36a88(0x18c),async _0x2fa034=>{const _0x20e9bd=_0xe36a88;return _0x2fa034[_0x20e9bd(0x186)](_0x20e9bd(0x234));});}var src_default={'fetch':async(_0x3d4c89,_0x29b2a4,_0x481d9f)=>{const _0x20cf82=a0_0x52a09f,_0x111cd9=await getApp();return _0x111cd9[_0x20cf82(0x20b)](_0x3d4c89,_0x29b2a4,_0x481d9f);}};export{src_default as default,expiryToISO};