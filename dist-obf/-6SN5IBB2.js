function a0_0xc1a7(){const _0x2757da=['auth_token=;\x20Max-Age=0;\x20Path=/;\x20Secure;\x20HttpOnly;\x20SameSite=Strict','header','isArray','formData','chunked','blob','call','Internal\x20error','path','107824xLaqcg','round','res','\x20WHERE\x20uuid\x20=\x20?','index','password','3uaCYbx','message','Expired','dispatch','DELETE\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?','toString','112oEiJeP','trim','headers','event','score','bind','set-cookie','Invalid\x20UUID','from','slice','then','EdgeRuntime','/stats\x22\x20hx-trigger=\x22every\x205s\x22\x20hx-swap=\x22outerHTML\x22\x20id=\x22stats-area\x22>\x0a\x20\x20\x20\x20\x20\x20<p>Data\x20used:\x20','/admin','(?:','Authentication\x20failed','toUpperCase',';\x20Path=','routes','root','route','undefined','INSERT\x20OR\x20REPLACE\x20INTO\x20proxy_health\x20(ip_port,\x20is_healthy,\x20latency_ms,\x20last_check)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','routers','TrieRouter','http://localhost','wasm\x20init\x20skipped','query','test','parseBody','delete','SELECT\x20traffic_used,\x20traffic_limit,\x20expiration_date,\x20expiration_time\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','getPath','split','notFoundHandler','body','sort','send\x20ack\x20failed','render','match','1483992aDeZdy','Fatal\x20error','basePath','name','Context\x20is\x20not\x20finalized.\x20You\x20may\x20forget\x20returning\x20Response\x20object\x20or\x20`await\x20next()`','addValidatedData','/admin/api/stats','getUint8','INSERT\x20OR\x20REPLACE\x20INTO\x20user_ips\x20(uuid,\x20ip,\x20last_seen)\x20VALUES\x20(?,\x20?,\x20CURRENT_TIMESTAMP)','SHA-256','/ws','SELECT\x20COUNT(DISTINCT\x20ip)\x20as\x20count\x20FROM\x20user_ips\x20WHERE\x20uuid\x20=\x20?','RegExpRouter','integrity','assign','&amp;','Stringify','resolve','ip_port','json','routerName','digest','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20user_ips\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20ip\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20last_seen\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20PRIMARY\x20KEY\x20(uuid,\x20ip)\x0a\x20\x20\x20\x20)','edge-light','WASM\x20not\x20initialized.\x20Call\x20initWasm()\x20first.','/admin/api/users/:uuid','user_ip\x20upsert\x20failed','join','methods','finalized','entries','read\x20from\x20private\x20field','callbacks','nosniff','search','respondWith','toUTCString','req','onAbort','valid','WASM\x20parse\x20failed,\x20falling\x20back\x20to\x20JS\x20parser','77atqzGG','status','subtle','./rust/pkg/vless_parser.js','getReader','arrayBuffer','addRoute','getAllDecodedParams','first','example.com','addEventListener','routeIndex','other','No\x20active\x20router\x20has\x20been\x20determined\x20yet.','now','Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once','getSetCookie','httpOnly','padStart','/api/user/:uuid/stats','getTime','string','(?:|/.*)','streamText','run','initial\x20header\x20parse\x20error','ALL','middleware','randomUUID',';\x20Max-Age=','Invalid','CF-Connecting-IP','buffer','flush\x20usage\x20error','context','fastly','request','startsWith','invalid','pipeTo','auth_token=','buildRegExpStr','floor','$()','vless://','warn','varIndex','patch','results','</a></p>\x0a\x20\x20\x20\x20<div\x20hx-get=\x22/api/user/','ip_limit','function','get','possibleKeys','/admin/api/users','SELECT\x20uuid,\x20traffic_limit,\x20traffic_used,\x20expiration_date,\x20expiration_time,\x20ip_limit\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','lagon','number','SELECT\x20*\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','byteLength','add','params','newResponse','UPDATE\x20users\x20SET\x20expiration_date\x20=\x20?,\x20expiration_time\x20=\x20?,\x20notes\x20=\x20?,\x20traffic_limit\x20=\x20?,\x20ip_limit\x20=\x20?','repeat','sameSite','Content-Type','write','handleEvent','1700210oTrwFP','x-forwarded-for','text/plain;\x20charset=UTF-8','\x1b[32m','404\x20Not\x20Found','</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20</div>\x0a\x20\x20</body></html>','length','handleError','stream','\x20Bytes</p>\x0a\x20\x20\x20\x20\x20\x20<p>Expiry\x20(UTC):\x20','referrer','</p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Xray):\x20<a\x20href=\x22','executionCtx','ip_limit\x20check\x20err','put','signal','\x1b[0m\x20','sleep','Forbidden','children','map','message\x20handler\x20error','&gt;','node','Location','encoder','reduce','/login','clone','enqueue','next()\x20called\x20multiple\x20times','pipe','data','router',';\x20SameSite=','buildAllMatchers','`app.head()`\x20is\x20no\x20longer\x20used.\x20`app.get()`\x20implicitly\x20handles\x20the\x20HEAD\x20method.','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20admin_session\x20(\x0a\x20\x20\x20\x20\x20\x20id\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20token_hash\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expires_at\x20INTEGER\x0a\x20\x20\x20\x20)','x-content-type-options','options','This\x20context\x20has\x20no\x20ExecutionContext','buildRegExp','expiration_date','process','Missing\x20fields','setRenderer',':00','keepalive','Referrer-Policy','Set-Cookie','text','batch','matchRoute','multipart/form-data','WebSocketPair','</code></p>\x0a\x20\x20\x20\x20<p>Proxy:\x20','replace','fetch','websocket','writable','gHSets','_basePath','mount','toLocaleLowerCase','parsedBody','sum',';\x20Secure','apply','This\x20context\x20has\x20no\x20FetchEvent','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Panel</title></head><body>\x0a\x20\x20<h1>Admin\x20Dashboard</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>Manage\x20users\x20and\x20perform\x20health\x20checks\x20from\x20this\x20panel.</p>\x0a\x20\x20</div>\x0a</body></html>','__lagon__','Parse\x20error','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20proxy_health\x20(\x0a\x20\x20\x20\x20\x20\x20ip_port\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20is_healthy\x20INTEGER\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20latency_ms\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20last_check\x20INTEGER\x0a\x20\x20\x20\x20)','1414836nEmVSz','camera=(),\x20microphone=()','bun','onError','has','flush\x20on\x20close\x20failed','maxAge','&#39;','bodyUsed','PROXYIPS','upgrade','notFound','toISOString','application/json;\x20charset=UTF-8','SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users','Permissions-Policy','<p\x20style=\x22color:red\x22>','count','/sb/','/admin/login','url','filter','78684CiIQnb','unknown','79499GCPdAZ','prepare','/static/*','deno','cachedBody','accept','WASM\x20module\x20not\x20available\x20at\x20runtime:','object','flat','encode','GET','INSERT\x20OR\x20REPLACE\x20INTO\x20admin_session\x20(id,\x20token_hash,\x20expires_at)\x20VALUES\x20(?,\x20?,\x20?)','insert','abortSubscribers','Traffic\x20limit\x20exceeded','SmartRouter','[^/]+','endsWith','55dTvLpa','SELECT\x20SUM(traffic_used)\x20as\x20sum\x20FROM\x20users','includes','DELETE\x20FROM\x20users\x20WHERE\x20uuid\x20=\x20?','speed.cloudflare.com:443','text/html;charset=utf-8','<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>Admin\x20Login</title></head><body>\x0a\x20\x20<h1>Admin\x20Login</h1>\x0a\x20\x20<form\x20method=\x22POST\x22\x20action=\x22','push','append','/xray/:uuid','Cannot\x20','release','all','write\x20to\x20private\x20field','method','flushUsage\x20outer','text/html;\x20charset=UTF-8','</a></p>\x0a\x20\x20\x20\x20<p>Subscription\x20(Singbox):\x20<a\x20href=\x22','ACK','showRoutes','substring','workerd','toLowerCase','activeRouter','releaseLock','fire',';\x20HttpOnly;\x20Secure;\x20Path=/;\x20Max-Age=86400;\x20SameSite=Strict','expiration_time',':443?type=ws&host=','redirect',';\x20Expires=','application/x-www-form-urlencoded','traffic_used','responseReadable','parse_vless_header','getParamValue','Host','forEach','matchedRoutes','token_hash','patterns','Internal\x20Server\x20Error','runtime','indexOf','expires','raw','getDecodedParam','WASM\x20init\x20failed','uuid','bodyCache',';\x20Domain=','/xray/','cookie','secure',';\x20Partitioned','env','_var','not\x20found','default','close','html','traffic_limit','stringify','set','error','CREATE\x20TABLE\x20IF\x20NOT\x20EXISTS\x20users\x20(\x0a\x20\x20\x20\x20\x20\x20uuid\x20TEXT\x20PRIMARY\x20KEY,\x0a\x20\x20\x20\x20\x20\x20created_at\x20DATETIME\x20DEFAULT\x20CURRENT_TIMESTAMP,\x0a\x20\x20\x20\x20\x20\x20expiration_date\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20expiration_time\x20TEXT\x20NOT\x20NULL,\x0a\x20\x20\x20\x20\x20\x20notes\x20TEXT,\x0a\x20\x20\x20\x20\x20\x20traffic_limit\x20INTEGER,\x0a\x20\x20\x20\x20\x20\x20traffic_used\x20INTEGER\x20DEFAULT\x200,\x0a\x20\x20\x20\x20\x20\x20ip_limit\x20INTEGER\x20DEFAULT\x20-1\x0a\x20\x20\x20\x20)','getWriter','renderer','errorHandler','getResponse','handler','domain','content-type','order','https://','text/plain;charset=utf-8','unshift','&path=/ws#xray','post','writer','keys','ADMIN_KEY','strict',',\x20traffic_used\x20=\x200','shift','Cookie','Admin\x20not\x20configured','log','parse_vless_header\x20not\x20available\x20on\x20wasm\x20module','param','1253372TBQNMq','443','waitUntil','8zEOMEO','buildMatcher','composedHandler','(((.+)+)+)+$'];a0_0xc1a7=function(){return _0x2757da;};return a0_0xc1a7();}const a0_0x4744e4=a0_0x3162;(function(_0xb280f4,_0x248b8b){const _0x3bea3e=a0_0x3162,_0x4066a2=_0xb280f4();while(!![]){try{const _0x2b4ab5=-parseInt(_0x3bea3e(0xed))/0x1*(-parseInt(_0x3bea3e(0x15c))/0x2)+parseInt(_0x3bea3e(0x16f))/0x3*(parseInt(_0x3bea3e(0x159))/0x4)+-parseInt(_0x3bea3e(0xff))/0x5*(-parseInt(_0x3bea3e(0xeb))/0x6)+-parseInt(_0x3bea3e(0x175))/0x7*(-parseInt(_0x3bea3e(0x169))/0x8)+-parseInt(_0x3bea3e(0x19d))/0x9+parseInt(_0x3bea3e(0x20b))/0xa+-parseInt(_0x3bea3e(0x1c6))/0xb*(parseInt(_0x3bea3e(0xd5))/0xc);if(_0x2b4ab5===_0x248b8b)break;else _0x4066a2['push'](_0x4066a2['shift']());}catch(_0x3e1a25){_0x4066a2['push'](_0x4066a2['shift']());}}}(a0_0xc1a7,0x29c2d));const a0_0x40fc9a=(function(){let _0x590199=!![];return function(_0x1e0fa7,_0x753e4){const _0x56144b=_0x590199?function(){const _0x488dcf=a0_0x3162;if(_0x753e4){const _0x230744=_0x753e4[_0x488dcf(0xcf)](_0x1e0fa7,arguments);return _0x753e4=null,_0x230744;}}:function(){};return _0x590199=![],_0x56144b;};}()),a0_0x586fd8=a0_0x40fc9a(this,function(){const _0xa0183d=a0_0x3162;return a0_0x586fd8[_0xa0183d(0x174)]()[_0xa0183d(0x1bf)]('(((.+)+)+)+$')['toString']()['constructor'](a0_0x586fd8)[_0xa0183d(0x1bf)](_0xa0183d(0x15f));});a0_0x586fd8();var splitPath=_0x4116ad=>{const _0x74d37=a0_0x3162,_0x53d0c8=_0x4116ad['split']('/');return _0x53d0c8[0x0]===''&&_0x53d0c8[_0x74d37(0x153)](),_0x53d0c8;},splitRoutingPath=_0x34018c=>{const {groups:_0x2e8012,path:_0x25a9d0}=extractGroupsFromPath(_0x34018c),_0x56c8b4=splitPath(_0x25a9d0);return replaceGroupMarks(_0x56c8b4,_0x2e8012);},extractGroupsFromPath=_0x5f3ceb=>{const _0x5223e5=a0_0x3162,_0x35d5e5=[];return _0x5f3ceb=_0x5f3ceb[_0x5223e5(0xc4)](/\{[^}]+\}/g,(_0x1ca01f,_0x3e037b)=>{const _0x3b3b17=_0x5223e5,_0x1e2590='@'+_0x3e037b;return _0x35d5e5[_0x3b3b17(0x106)]([_0x1e2590,_0x1ca01f]),_0x1e2590;}),{'groups':_0x35d5e5,'path':_0x5f3ceb};},replaceGroupMarks=(_0x58cd8e,_0x4c6b55)=>{const _0x5d18b3=a0_0x3162;for(let _0x177dfb=_0x4c6b55[_0x5d18b3(0x211)]-0x1;_0x177dfb>=0x0;_0x177dfb--){const [_0x3a9ff0]=_0x4c6b55[_0x177dfb];for(let _0x399f28=_0x58cd8e[_0x5d18b3(0x211)]-0x1;_0x399f28>=0x0;_0x399f28--){if(_0x58cd8e[_0x399f28][_0x5d18b3(0x101)](_0x3a9ff0)){_0x58cd8e[_0x399f28]=_0x58cd8e[_0x399f28]['replace'](_0x3a9ff0,_0x4c6b55[_0x177dfb][0x1]);break;}}}return _0x58cd8e;},patternCache={},getPattern=_0x22d023=>{const _0x2bc6e3=a0_0x3162;if(_0x22d023==='*')return'*';const _0x76b3f6=_0x22d023[_0x2bc6e3(0x19c)](/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(_0x76b3f6)return!patternCache[_0x22d023]&&(_0x76b3f6[0x2]?patternCache[_0x22d023]=[_0x22d023,_0x76b3f6[0x1],new RegExp('^'+_0x76b3f6[0x2]+'$')]:patternCache[_0x22d023]=[_0x22d023,_0x76b3f6[0x1],!![]]),patternCache[_0x22d023];return null;},getPath=_0x30b486=>{const _0x4287cf=a0_0x3162,_0x5cdeee=_0x30b486[_0x4287cf(0xe9)]['match'](/^https?:\/\/[^/]+(\/[^?]*)/);return _0x5cdeee?_0x5cdeee[0x1]:'';},getQueryStrings=_0x4c81af=>{const _0x267416=a0_0x3162,_0x48672b=_0x4c81af[_0x267416(0x12a)]('?',0x8);return _0x48672b===-0x1?'':'?'+_0x4c81af[_0x267416(0x17e)](_0x48672b+0x1);},getPathNoStrict=_0x141da7=>{const _0x5ec188=a0_0x3162,_0x2cbc65=getPath(_0x141da7);return _0x2cbc65[_0x5ec188(0x211)]>0x1&&_0x2cbc65[_0x2cbc65[_0x5ec188(0x211)]-0x1]==='/'?_0x2cbc65[_0x5ec188(0x17e)](0x0,-0x1):_0x2cbc65;},mergePath=(..._0x5ef951)=>{const _0x4c0a03=a0_0x3162;let _0x466a30='',_0x16ecfd=![];for(let _0x3a272d of _0x5ef951){_0x466a30[_0x466a30['length']-0x1]==='/'&&(_0x466a30=_0x466a30[_0x4c0a03(0x17e)](0x0,-0x1),_0x16ecfd=!![]);_0x3a272d[0x0]!=='/'&&(_0x3a272d='/'+_0x3a272d);if(_0x3a272d==='/'&&_0x16ecfd)_0x466a30=_0x466a30+'/';else _0x3a272d!=='/'&&(_0x466a30=''+_0x466a30+_0x3a272d);_0x3a272d==='/'&&_0x466a30===''&&(_0x466a30='/');}return _0x466a30;},checkOptionalParameter=_0x13fca0=>{const _0x41d370=a0_0x3162;if(!_0x13fca0['match'](/\:.+\?$/))return null;const _0x1d1277=_0x13fca0[_0x41d370(0x196)]('/'),_0x5218fd=[];let _0x756005='';return _0x1d1277['forEach'](_0x1f27fa=>{const _0x35ec9d=_0x41d370;if(_0x1f27fa!==''&&!/\:/[_0x35ec9d(0x191)](_0x1f27fa))_0x756005+='/'+_0x1f27fa;else{if(/\:/['test'](_0x1f27fa)){if(/\?/['test'](_0x1f27fa)){_0x5218fd['length']===0x0&&_0x756005===''?_0x5218fd[_0x35ec9d(0x106)]('/'):_0x5218fd[_0x35ec9d(0x106)](_0x756005);const _0x32605a=_0x1f27fa[_0x35ec9d(0xc4)]('?','');_0x756005+='/'+_0x32605a,_0x5218fd[_0x35ec9d(0x106)](_0x756005);}else _0x756005+='/'+_0x1f27fa;}}}),_0x5218fd[_0x41d370(0xea)]((_0x3fb23e,_0x265470,_0x20526c)=>_0x20526c[_0x41d370(0x12a)](_0x3fb23e)===_0x265470);},_decodeURI=_0x342ad9=>{const _0x3f8e3c=a0_0x3162;if(!/[%+]/['test'](_0x342ad9))return _0x342ad9;return _0x342ad9[_0x3f8e3c(0x12a)]('+')!==-0x1&&(_0x342ad9=_0x342ad9[_0x3f8e3c(0xc4)](/\+/g,'\x20')),/%/['test'](_0x342ad9)?decodeURIComponent_(_0x342ad9):_0x342ad9;},_getQueryParam=(_0x321735,_0x5a3e25,_0x41015f)=>{const _0x19a85d=a0_0x3162;let _0x4544ce;if(!_0x41015f&&_0x5a3e25&&!/[%+]/[_0x19a85d(0x191)](_0x5a3e25)){let _0x224433=_0x321735['indexOf']('?'+_0x5a3e25,0x8);_0x224433===-0x1&&(_0x224433=_0x321735[_0x19a85d(0x12a)]('&'+_0x5a3e25,0x8));while(_0x224433!==-0x1){const _0x5a3b6e=_0x321735['charCodeAt'](_0x224433+_0x5a3e25[_0x19a85d(0x211)]+0x1);if(_0x5a3b6e===0x3d){const _0x2abb06=_0x224433+_0x5a3e25[_0x19a85d(0x211)]+0x2,_0x1de0d1=_0x321735['indexOf']('&',_0x2abb06);return _decodeURI(_0x321735['slice'](_0x2abb06,_0x1de0d1===-0x1?void 0x0:_0x1de0d1));}else{if(_0x5a3b6e==0x26||isNaN(_0x5a3b6e))return'';}_0x224433=_0x321735[_0x19a85d(0x12a)]('&'+_0x5a3e25,_0x224433+0x1);}_0x4544ce=/[%+]/['test'](_0x321735);if(!_0x4544ce)return void 0x0;}const _0x19190d={};_0x4544ce??(_0x4544ce=/[%+]/['test'](_0x321735));let _0x326bae=_0x321735[_0x19a85d(0x12a)]('?',0x8);while(_0x326bae!==-0x1){const _0x185882=_0x321735['indexOf']('&',_0x326bae+0x1);let _0x354bea=_0x321735[_0x19a85d(0x12a)]('=',_0x326bae);_0x354bea>_0x185882&&_0x185882!==-0x1&&(_0x354bea=-0x1);let _0x4041f6=_0x321735['slice'](_0x326bae+0x1,_0x354bea===-0x1?_0x185882===-0x1?void 0x0:_0x185882:_0x354bea);_0x4544ce&&(_0x4041f6=_decodeURI(_0x4041f6));_0x326bae=_0x185882;if(_0x4041f6==='')continue;let _0x1aa482;_0x354bea===-0x1?_0x1aa482='':(_0x1aa482=_0x321735[_0x19a85d(0x17e)](_0x354bea+0x1,_0x185882===-0x1?void 0x0:_0x185882),_0x4544ce&&(_0x1aa482=_decodeURI(_0x1aa482)));if(_0x41015f){!(_0x19190d[_0x4041f6]&&Array[_0x19a85d(0x162)](_0x19190d[_0x4041f6]))&&(_0x19190d[_0x4041f6]=[]);;_0x19190d[_0x4041f6]['push'](_0x1aa482);}else _0x19190d[_0x4041f6]??(_0x19190d[_0x4041f6]=_0x1aa482);}return _0x5a3e25?_0x19190d[_0x5a3e25]:_0x19190d;},getQueryParam=_getQueryParam,getQueryParams=(_0x458cda,_0x46e13f)=>{return _getQueryParam(_0x458cda,_0x46e13f,!![]);},decodeURIComponent_=decodeURIComponent,validCookieNameRegEx=/^[\w!#$%&'*.^`|~+-]+$/,validCookieValueRegEx=/^[ !#-:<-[\]-~]*$/,parse=(_0x43758e,_0x38a5c3)=>{const _0x47f075=a0_0x3162,_0x50418b=_0x43758e[_0x47f075(0x176)]()[_0x47f075(0x196)](';');return _0x50418b[_0x47f075(0x225)]((_0x267b7d,_0x18c12d)=>{const _0x3c8a67=_0x47f075;_0x18c12d=_0x18c12d[_0x3c8a67(0x176)]();const _0x2c7340=_0x18c12d[_0x3c8a67(0x12a)]('=');if(_0x2c7340===-0x1)return _0x267b7d;const _0x1134c8=_0x18c12d[_0x3c8a67(0x113)](0x0,_0x2c7340)[_0x3c8a67(0x176)]();if(_0x38a5c3&&_0x38a5c3!==_0x1134c8||!validCookieNameRegEx['test'](_0x1134c8))return _0x267b7d;let _0x440e6d=_0x18c12d[_0x3c8a67(0x113)](_0x2c7340+0x1)[_0x3c8a67(0x176)]();return _0x440e6d[_0x3c8a67(0x1eb)]('\x22')&&_0x440e6d[_0x3c8a67(0xfe)]('\x22')&&(_0x440e6d=_0x440e6d['slice'](0x1,-0x1)),validCookieValueRegEx['test'](_0x440e6d)&&(_0x267b7d[_0x1134c8]=decodeURIComponent_(_0x440e6d)),_0x267b7d;},{});},_serialize=(_0x1b8f16,_0x5471c6,_0x371f09={})=>{const _0x32c847=a0_0x3162;let _0x392ac1=_0x1b8f16+'='+_0x5471c6;return _0x371f09&&typeof _0x371f09[_0x32c847(0xdb)]===_0x32c847(0x1ff)&&_0x371f09[_0x32c847(0xdb)]>=0x0&&(_0x392ac1+=_0x32c847(0x1e3)+Math[_0x32c847(0x1f0)](_0x371f09[_0x32c847(0xdb)])),_0x371f09[_0x32c847(0x146)]&&(_0x392ac1+=_0x32c847(0x131)+_0x371f09[_0x32c847(0x146)]),_0x371f09[_0x32c847(0x168)]&&(_0x392ac1+=_0x32c847(0x186)+_0x371f09[_0x32c847(0x168)]),_0x371f09[_0x32c847(0x12b)]&&(_0x392ac1+=_0x32c847(0x11d)+_0x371f09[_0x32c847(0x12b)][_0x32c847(0x1c1)]()),_0x371f09[_0x32c847(0x1d7)]&&(_0x392ac1+=';\x20HttpOnly'),_0x371f09[_0x32c847(0x134)]&&(_0x392ac1+=_0x32c847(0xce)),_0x371f09['sameSite']&&(_0x392ac1+=_0x32c847(0x22d)+_0x371f09[_0x32c847(0x207)]),_0x371f09['partitioned']&&(_0x392ac1+=_0x32c847(0x135)),_0x392ac1;},serialize=(_0x405c89,_0x1eb620,_0x5cafe6={})=>{return _0x1eb620=encodeURIComponent(_0x1eb620),_serialize(_0x405c89,_0x1eb620,_0x5cafe6);},HtmlEscapedCallbackPhase={'Stringify':0x1,'BeforeStream':0x2,'Stream':0x3},raw=(_0x410b7c,_0xcdb547)=>{const _0x1c0af2=a0_0x3162,_0x52b770=new String(_0x410b7c);return _0x52b770['isEscaped']=!![],_0x52b770[_0x1c0af2(0x1bd)]=_0xcdb547,_0x52b770;},resolveCallback=async(_0x3458fa,_0x7b3f0c,_0x51126e,_0x5887b4,_0x1dde9a)=>{const _0x3a3d86=a0_0x3162,_0x48910a=_0x3458fa['callbacks'];if(!_0x48910a?.['length'])return Promise[_0x3a3d86(0x1ae)](_0x3458fa);_0x1dde9a?_0x1dde9a[0x0]+=_0x3458fa:_0x1dde9a=[_0x3458fa];const _0x3e9637=Promise['all'](_0x48910a[_0x3a3d86(0x21f)](_0x2da4c7=>_0x2da4c7({'phase':_0x7b3f0c,'buffer':_0x1dde9a,'context':_0x5887b4})))[_0x3a3d86(0x17f)](_0x52eb67=>Promise[_0x3a3d86(0x10b)](_0x52eb67[_0x3a3d86(0xea)](Boolean)[_0x3a3d86(0x21f)](_0x5b1216=>resolveCallback(_0x5b1216,_0x7b3f0c,![],_0x5887b4,_0x1dde9a)))[_0x3a3d86(0x17f)](()=>_0x1dde9a[0x0]));return _0x51126e?raw(await _0x3e9637,_0x48910a):_0x3e9637;},StreamingApi=class{constructor(_0xdcda7d,_0x55ea42){const _0x1bd632=a0_0x3162;this[_0x1bd632(0xfa)]=[],this[_0x1bd632(0xc7)]=_0xdcda7d,this[_0x1bd632(0x14e)]=_0xdcda7d[_0x1bd632(0x141)](),this[_0x1bd632(0x224)]=new TextEncoder();const _0x2e6194=_0x55ea42[_0x1bd632(0x1ca)]();this[_0x1bd632(0x120)]=new ReadableStream({async 'pull'(_0x34abb0){const _0x5cdea7=_0x1bd632,{done:_0x3bf4f2,value:_0x481fb5}=await _0x2e6194['read']();_0x3bf4f2?_0x34abb0[_0x5cdea7(0x13a)]():_0x34abb0[_0x5cdea7(0x228)](_0x481fb5);},'cancel':()=>{const _0x1d8b7f=_0x1bd632;this['abortSubscribers'][_0x1d8b7f(0x124)](_0x3061ec=>_0x3061ec());}});}async['write'](_0x35a3e1){const _0x4ca10b=a0_0x3162;try{typeof _0x35a3e1===_0x4ca10b(0x1db)&&(_0x35a3e1=this[_0x4ca10b(0x224)]['encode'](_0x35a3e1)),await this['writer'][_0x4ca10b(0x209)](_0x35a3e1);}catch(_0x52c040){}return this;}async['writeln'](_0x33815d){const _0x1bf112=a0_0x3162;return await this[_0x1bf112(0x209)](_0x33815d+'\x0a'),this;}[a0_0x4744e4(0x21c)](_0xc61184){return new Promise(_0x18cd0f=>setTimeout(_0x18cd0f,_0xc61184));}async[a0_0x4744e4(0x13a)](){const _0x2b741a=a0_0x4744e4;try{await this[_0x2b741a(0x14e)]['close']();}catch(_0x55540b){}}async[a0_0x4744e4(0x22a)](_0x1e56d2){const _0x4b5740=a0_0x4744e4;this['writer'][_0x4b5740(0x117)](),await _0x1e56d2[_0x4b5740(0x1ed)](this[_0x4b5740(0xc7)],{'preventClose':!![]}),this[_0x4b5740(0x14e)]=this[_0x4b5740(0xc7)][_0x4b5740(0x141)]();}async[a0_0x4744e4(0x1c3)](_0x3a14ee){const _0x15667a=a0_0x4744e4;this[_0x15667a(0xfa)][_0x15667a(0x106)](_0x3a14ee);}},__accessCheck=(_0x272ede,_0x38183d,_0x4b69aa)=>{const _0x29bee9=a0_0x4744e4;if(!_0x38183d['has'](_0x272ede))throw TypeError(_0x29bee9(0x109)+_0x4b69aa);},__privateGet=(_0x4f6adb,_0x429ada,_0x1f11be)=>{const _0x1866f3=a0_0x4744e4;return __accessCheck(_0x4f6adb,_0x429ada,_0x1866f3(0x1bc)),_0x1f11be?_0x1f11be[_0x1866f3(0x166)](_0x4f6adb):_0x429ada[_0x1866f3(0x1fa)](_0x4f6adb);},__privateAdd=(_0x44939b,_0x37f84c,_0x5eff71)=>{const _0x5133d8=a0_0x4744e4;if(_0x37f84c[_0x5133d8(0xd9)](_0x44939b))throw TypeError(_0x5133d8(0x1d5));_0x37f84c instanceof WeakSet?_0x37f84c['add'](_0x44939b):_0x37f84c['set'](_0x44939b,_0x5eff71);},__privateSet=(_0x1b02ff,_0x1bb95c,_0x174ed5,_0x439a24)=>{const _0x402e00=a0_0x4744e4;return __accessCheck(_0x1b02ff,_0x1bb95c,_0x402e00(0x10c)),_0x439a24?_0x439a24[_0x402e00(0x166)](_0x1b02ff,_0x174ed5):_0x1bb95c[_0x402e00(0x13e)](_0x1b02ff,_0x174ed5),_0x174ed5;},TEXT_PLAIN=a0_0x4744e4(0x20d),setHeaders=(_0x52ab5e,_0x2e6bc2={})=>{const _0x110480=a0_0x4744e4;return Object[_0x110480(0x1bb)](_0x2e6bc2)[_0x110480(0x124)](([_0x4d1ef4,_0xaed001])=>_0x52ab5e[_0x110480(0x13e)](_0x4d1ef4,_0xaed001)),_0x52ab5e;},_status,_executionCtx,_headers,_preparedHeaders,_res,_isFresh,Context=class{constructor(_0x14c472,_0x41e6e8){const _0x11d4b1=a0_0x4744e4;this[_0x11d4b1(0x136)]={},this[_0x11d4b1(0x137)]={},this[_0x11d4b1(0x1ba)]=![],this['error']=void 0x0,__privateAdd(this,_status,0xc8),__privateAdd(this,_executionCtx,void 0x0),__privateAdd(this,_headers,void 0x0),__privateAdd(this,_preparedHeaders,void 0x0),__privateAdd(this,_res,void 0x0),__privateAdd(this,_isFresh,!![]),this[_0x11d4b1(0x142)]=_0x356c22=>this[_0x11d4b1(0x13b)](_0x356c22),this[_0x11d4b1(0x197)]=()=>new Response(),this[_0x11d4b1(0x19b)]=(..._0x43625c)=>this[_0x11d4b1(0x142)](..._0x43625c),this[_0x11d4b1(0x238)]=_0x5d5cf6=>{const _0x5dc065=_0x11d4b1;this[_0x5dc065(0x142)]=_0x5d5cf6;},this[_0x11d4b1(0x161)]=(_0x29cd94,_0x16636b,_0xf4a122)=>{const _0x449f0c=_0x11d4b1;if(_0x16636b===void 0x0){if(__privateGet(this,_headers))__privateGet(this,_headers)['delete'](_0x29cd94);else __privateGet(this,_preparedHeaders)&&delete __privateGet(this,_preparedHeaders)[_0x29cd94[_0x449f0c(0xcb)]()];this[_0x449f0c(0x1ba)]&&this[_0x449f0c(0x16b)][_0x449f0c(0x177)][_0x449f0c(0x193)](_0x29cd94);return;}_0xf4a122?.[_0x449f0c(0x107)]?(!__privateGet(this,_headers)&&(__privateSet(this,_isFresh,![]),__privateSet(this,_headers,new Headers(__privateGet(this,_preparedHeaders))),__privateSet(this,_preparedHeaders,{})),__privateGet(this,_headers)['append'](_0x29cd94,_0x16636b)):__privateGet(this,_headers)?__privateGet(this,_headers)[_0x449f0c(0x13e)](_0x29cd94,_0x16636b):(__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x29cd94[_0x449f0c(0x115)]()]=_0x16636b),this[_0x449f0c(0x1ba)]&&(_0xf4a122?.[_0x449f0c(0x107)]?this[_0x449f0c(0x16b)][_0x449f0c(0x177)][_0x449f0c(0x107)](_0x29cd94,_0x16636b):this['res'][_0x449f0c(0x177)]['set'](_0x29cd94,_0x16636b));},this['status']=_0x5faab6=>{__privateSet(this,_isFresh,![]),__privateSet(this,_status,_0x5faab6);},this[_0x11d4b1(0x13e)]=(_0x408ed7,_0x4d3714)=>{const _0x40e178=_0x11d4b1;this[_0x40e178(0x137)]??(this[_0x40e178(0x137)]={}),this[_0x40e178(0x137)][_0x408ed7]=_0x4d3714;},this[_0x11d4b1(0x1fa)]=_0x5797ff=>{const _0x35a6f0=_0x11d4b1;return this[_0x35a6f0(0x137)]?this[_0x35a6f0(0x137)][_0x5797ff]:void 0x0;},this[_0x11d4b1(0x204)]=(_0x40cc0e,_0x2b1757,_0x3b1544)=>{const _0x2ae7ae=_0x11d4b1;if(__privateGet(this,_isFresh)&&!_0x3b1544&&!_0x2b1757&&__privateGet(this,_status)===0xc8)return new Response(_0x40cc0e,{'headers':__privateGet(this,_preparedHeaders)});if(_0x2b1757&&typeof _0x2b1757!=='number'){const _0x1216d1=setHeaders(new Headers(_0x2b1757[_0x2ae7ae(0x177)]),__privateGet(this,_preparedHeaders));return new Response(_0x40cc0e,{'headers':_0x1216d1,'status':_0x2b1757[_0x2ae7ae(0x1c7)]});}const _0x207752=typeof _0x2b1757===_0x2ae7ae(0x1ff)?_0x2b1757:__privateGet(this,_status);__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders));__privateGet(this,_res)&&(__privateGet(this,_res)[_0x2ae7ae(0x177)][_0x2ae7ae(0x124)]((_0x332f72,_0x46837c)=>{const _0x4f0b6b=_0x2ae7ae;__privateGet(this,_headers)?.[_0x4f0b6b(0x13e)](_0x46837c,_0x332f72);}),setHeaders(__privateGet(this,_headers),__privateGet(this,_preparedHeaders)));_0x3b1544??(_0x3b1544={});for(const [_0x73961b,_0x544f99]of Object[_0x2ae7ae(0x1bb)](_0x3b1544)){if(typeof _0x544f99===_0x2ae7ae(0x1db))__privateGet(this,_headers)[_0x2ae7ae(0x13e)](_0x73961b,_0x544f99);else{__privateGet(this,_headers)[_0x2ae7ae(0x193)](_0x73961b);for(const _0x300225 of _0x544f99){__privateGet(this,_headers)[_0x2ae7ae(0x107)](_0x73961b,_0x300225);}}}return new Response(_0x40cc0e,{'status':_0x207752,'headers':__privateGet(this,_headers)});},this[_0x11d4b1(0x198)]=(_0x1719e3,_0x167f27,_0x121827)=>{const _0x5bae59=_0x11d4b1;return typeof _0x167f27===_0x5bae59(0x1ff)?this[_0x5bae59(0x204)](_0x1719e3,_0x167f27,_0x121827):this[_0x5bae59(0x204)](_0x1719e3,_0x167f27);},this[_0x11d4b1(0xbe)]=(_0x503c91,_0x3fe950,_0x1007e5)=>{const _0x501f8a=_0x11d4b1;if(!__privateGet(this,_preparedHeaders)){if(__privateGet(this,_isFresh)&&!_0x1007e5&&!_0x3fe950)return new Response(_0x503c91);__privateSet(this,_preparedHeaders,{});}return __privateGet(this,_preparedHeaders)['content-type']=TEXT_PLAIN,typeof _0x3fe950===_0x501f8a(0x1ff)?this[_0x501f8a(0x204)](_0x503c91,_0x3fe950,_0x1007e5):this[_0x501f8a(0x204)](_0x503c91,_0x3fe950);},this[_0x11d4b1(0x1b0)]=(_0x131e1d,_0x892e0f,_0x3b6d25)=>{const _0x18e7b5=_0x11d4b1,_0x14b21d=JSON['stringify'](_0x131e1d);return __privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x18e7b5(0x147)]=_0x18e7b5(0xe2),typeof _0x892e0f===_0x18e7b5(0x1ff)?this['newResponse'](_0x14b21d,_0x892e0f,_0x3b6d25):this[_0x18e7b5(0x204)](_0x14b21d,_0x892e0f);},this['jsonT']=(_0x294220,_0x17a9ec,_0x246998)=>{const _0x345e4e=_0x11d4b1;return this[_0x345e4e(0x1b0)](_0x294220,_0x17a9ec,_0x246998);},this['html']=(_0x5692d8,_0x13d030,_0x45a8da)=>{const _0x467126=_0x11d4b1;__privateGet(this,_preparedHeaders)??__privateSet(this,_preparedHeaders,{}),__privateGet(this,_preparedHeaders)[_0x467126(0x147)]=_0x467126(0x10f);if(typeof _0x5692d8===_0x467126(0xf4)){!(_0x5692d8 instanceof Promise)&&(_0x5692d8=_0x5692d8['toString']());if(_0x5692d8 instanceof Promise)return _0x5692d8[_0x467126(0x17f)](_0x20c74c=>resolveCallback(_0x20c74c,HtmlEscapedCallbackPhase[_0x467126(0x1ad)],![],{}))[_0x467126(0x17f)](_0xf5fd23=>{const _0x563453=_0x467126;return typeof _0x13d030===_0x563453(0x1ff)?this[_0x563453(0x204)](_0xf5fd23,_0x13d030,_0x45a8da):this[_0x563453(0x204)](_0xf5fd23,_0x13d030);});}return typeof _0x13d030===_0x467126(0x1ff)?this[_0x467126(0x204)](_0x5692d8,_0x13d030,_0x45a8da):this[_0x467126(0x204)](_0x5692d8,_0x13d030);},this[_0x11d4b1(0x11c)]=(_0x44c92b,_0x1276ac=0x12e)=>{const _0xd33474=_0x11d4b1;return __privateGet(this,_headers)??__privateSet(this,_headers,new Headers()),__privateGet(this,_headers)[_0xd33474(0x13e)](_0xd33474(0x223),_0x44c92b),this[_0xd33474(0x204)](null,_0x1276ac);},this[_0x11d4b1(0x1dd)]=(_0x34eccf,_0x5aee8c,_0x45f949)=>{const _0x1a6f8f=_0x11d4b1;return _0x45f949??(_0x45f949={}),this[_0x1a6f8f(0x161)](_0x1a6f8f(0x147),TEXT_PLAIN),this[_0x1a6f8f(0x161)](_0x1a6f8f(0x231),_0x1a6f8f(0x1be)),this[_0x1a6f8f(0x161)]('transfer-encoding',_0x1a6f8f(0x164)),this[_0x1a6f8f(0x213)](_0x34eccf,_0x5aee8c,_0x45f949);},this[_0x11d4b1(0x213)]=(_0x50c12c,_0x2ffa7b,_0x160569)=>{const _0x376a9c=_0x11d4b1,{readable:_0x325b1c,writable:_0x2c3ad2}=new TransformStream(),_0x54ce68=new StreamingApi(_0x2c3ad2,_0x325b1c);return _0x50c12c(_0x54ce68)['finally'](()=>_0x54ce68[_0x376a9c(0x13a)]()),typeof _0x2ffa7b===_0x376a9c(0x1ff)?this[_0x376a9c(0x204)](_0x54ce68[_0x376a9c(0x120)],_0x2ffa7b,_0x160569):this[_0x376a9c(0x204)](_0x54ce68['responseReadable'],_0x2ffa7b);},this[_0x11d4b1(0x133)]=(_0x2d98c4,_0x2cbc87,_0x289763)=>{const _0x37202f=_0x11d4b1,_0x24b7cb=serialize(_0x2d98c4,_0x2cbc87,_0x289763);this[_0x37202f(0x161)](_0x37202f(0x17b),_0x24b7cb,{'append':!![]});},this[_0x11d4b1(0xe0)]=()=>{const _0xd67493=_0x11d4b1;return this[_0xd67493(0x197)](this);},this['req']=_0x14c472,_0x41e6e8&&(__privateSet(this,_executionCtx,_0x41e6e8[_0x11d4b1(0x217)]),this[_0x11d4b1(0x136)]=_0x41e6e8[_0x11d4b1(0x136)],_0x41e6e8[_0x11d4b1(0x197)]&&(this[_0x11d4b1(0x197)]=_0x41e6e8['notFoundHandler']));}get[a0_0x4744e4(0x178)](){const _0x4e21c6=a0_0x4744e4;if(__privateGet(this,_executionCtx)&&_0x4e21c6(0x1c0)in __privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x4e21c6(0xd0));}get[a0_0x4744e4(0x217)](){const _0x49f436=a0_0x4744e4;if(__privateGet(this,_executionCtx))return __privateGet(this,_executionCtx);else throw Error(_0x49f436(0x233));}get[a0_0x4744e4(0x16b)](){const _0x52ec5a=a0_0x4744e4;return __privateSet(this,_isFresh,![]),__privateGet(this,_res)||__privateSet(this,_res,new Response(_0x52ec5a(0x20f),{'status':0x194}));}set[a0_0x4744e4(0x16b)](_0x516fc8){const _0x17aec3=a0_0x4744e4;__privateSet(this,_isFresh,![]);if(__privateGet(this,_res)&&_0x516fc8){__privateGet(this,_res)[_0x17aec3(0x177)][_0x17aec3(0x193)](_0x17aec3(0x147));for(const [_0x1a89e5,_0x2e822b]of __privateGet(this,_res)[_0x17aec3(0x177)][_0x17aec3(0x1bb)]()){if(_0x1a89e5==='set-cookie'){const _0x3a3a0e=__privateGet(this,_res)['headers'][_0x17aec3(0x1d6)]();_0x516fc8[_0x17aec3(0x177)][_0x17aec3(0x193)](_0x17aec3(0x17b));for(const _0x3220be of _0x3a3a0e){_0x516fc8[_0x17aec3(0x177)][_0x17aec3(0x107)](_0x17aec3(0x17b),_0x3220be);}}else _0x516fc8[_0x17aec3(0x177)]['set'](_0x1a89e5,_0x2e822b);}}__privateSet(this,_res,_0x516fc8),this['finalized']=!![];}get['var'](){const _0x5e40b6=a0_0x4744e4;return{...this[_0x5e40b6(0x137)]};}get[a0_0x4744e4(0x129)](){const _0x485c93=a0_0x4744e4,_0x3ae533=globalThis;if(_0x3ae533?.['Deno']!==void 0x0)return _0x485c93(0xf0);if(_0x3ae533?.['Bun']!==void 0x0)return _0x485c93(0xd7);if(typeof _0x3ae533?.['WebSocketPair']==='function')return _0x485c93(0x114);if(typeof _0x3ae533?.[_0x485c93(0x180)]==='string')return _0x485c93(0x1b4);if(_0x3ae533?.[_0x485c93(0x1e9)]!==void 0x0)return _0x485c93(0x1e9);if(_0x3ae533?.[_0x485c93(0xd2)]!==void 0x0)return _0x485c93(0x1fe);if(_0x3ae533?.[_0x485c93(0x236)]?.[_0x485c93(0x10a)]?.[_0x485c93(0x1a0)]==='node')return _0x485c93(0x222);return _0x485c93(0x1d2);}};_status=new WeakMap(),_executionCtx=new WeakMap(),_headers=new WeakMap(),_preparedHeaders=new WeakMap(),_res=new WeakMap(),_isFresh=new WeakMap();var compose=(_0x5617df,_0x5e4c16,_0x441f02)=>{return(_0x57cf04,_0x102f4c)=>{let _0x2f70a5=-0x1;return _0x5b5df9(0x0);async function _0x5b5df9(_0x3274b1){const _0x531083=a0_0x3162;if(_0x3274b1<=_0x2f70a5)throw new Error(_0x531083(0x229));_0x2f70a5=_0x3274b1;let _0xffa314,_0x3952df=![],_0x37dec6;_0x5617df[_0x3274b1]?(_0x37dec6=_0x5617df[_0x3274b1][0x0][0x0],_0x57cf04 instanceof Context&&(_0x57cf04[_0x531083(0x1c2)]['routeIndex']=_0x3274b1)):_0x37dec6=_0x3274b1===_0x5617df[_0x531083(0x211)]&&_0x102f4c||void 0x0;if(!_0x37dec6)_0x57cf04 instanceof Context&&_0x57cf04[_0x531083(0x1ba)]===![]&&_0x441f02&&(_0xffa314=await _0x441f02(_0x57cf04));else try{_0xffa314=await _0x37dec6(_0x57cf04,()=>{return _0x5b5df9(_0x3274b1+0x1);});}catch(_0xe81ca4){if(_0xe81ca4 instanceof Error&&_0x57cf04 instanceof Context&&_0x5e4c16)_0x57cf04[_0x531083(0x13f)]=_0xe81ca4,_0xffa314=await _0x5e4c16(_0xe81ca4,_0x57cf04),_0x3952df=!![];else throw _0xe81ca4;}return _0xffa314&&(_0x57cf04[_0x531083(0x1ba)]===![]||_0x3952df)&&(_0x57cf04['res']=_0xffa314),_0x57cf04;}};},HTTPException=class extends Error{constructor(_0x4d1cc4=0x1f4,_0x51cd8e){const _0x25b89b=a0_0x4744e4;super(_0x51cd8e?.[_0x25b89b(0x170)]),this[_0x25b89b(0x16b)]=_0x51cd8e?.[_0x25b89b(0x16b)],this[_0x25b89b(0x1c7)]=_0x4d1cc4;}[a0_0x4744e4(0x144)](){const _0x5d5398=a0_0x4744e4;if(this['res'])return this[_0x5d5398(0x16b)];return new Response(this[_0x5d5398(0x170)],{'status':this[_0x5d5398(0x1c7)]});}},parseBody=async(_0x4c0a9d,_0x4801a0={'all':![]})=>{const _0x12daae=a0_0x4744e4,_0xd40f1=_0x4c0a9d[_0x12daae(0x177)][_0x12daae(0x1fa)](_0x12daae(0x208));if(isFormDataContent(_0xd40f1))return parseFormData(_0x4c0a9d,_0x4801a0);return{};};function isFormDataContent(_0x31c876){const _0x57706e=a0_0x4744e4;if(_0x31c876===null)return![];return _0x31c876[_0x57706e(0x1eb)](_0x57706e(0xc1))||_0x31c876['startsWith'](_0x57706e(0x11e));}async function parseFormData(_0x150de3,_0x3120ad){const _0x5ccac5=a0_0x4744e4,_0x3748d0=await _0x150de3[_0x5ccac5(0x163)]();if(_0x3748d0)return convertFormDataToBodyData(_0x3748d0,_0x3120ad);return{};}function convertFormDataToBodyData(_0xce7055,_0x15c25d){const _0x3afe40=a0_0x4744e4,_0xe392e={};return _0xce7055[_0x3afe40(0x124)]((_0x218c99,_0x3b7b67)=>{const _0x4e7cb6=_0x3afe40,_0x554cee=_0x15c25d[_0x4e7cb6(0x10b)]||_0x3b7b67[_0x4e7cb6(0xfe)]('[]');!_0x554cee?_0xe392e[_0x3b7b67]=_0x218c99:handleParsingAllValues(_0xe392e,_0x3b7b67,_0x218c99);}),_0xe392e;}var handleParsingAllValues=(_0x56f43f,_0x3f71a1,_0x25ab75)=>{if(_0x56f43f[_0x3f71a1]&&isArrayField(_0x56f43f[_0x3f71a1]))appendToExistingArray(_0x56f43f[_0x3f71a1],_0x25ab75);else _0x56f43f[_0x3f71a1]?convertToNewArray(_0x56f43f,_0x3f71a1,_0x25ab75):_0x56f43f[_0x3f71a1]=_0x25ab75;};function isArrayField(_0x3f18d9){const _0x3cf1f4=a0_0x4744e4;return Array[_0x3cf1f4(0x162)](_0x3f18d9);}function a0_0x3162(_0x5e453d,_0x215573){const _0x52a598=a0_0xc1a7();return a0_0x3162=function(_0x586fd8,_0x40fc9a){_0x586fd8=_0x586fd8-0xbb;let _0xc1a775=_0x52a598[_0x586fd8];return _0xc1a775;},a0_0x3162(_0x5e453d,_0x215573);}var appendToExistingArray=(_0x390392,_0x4ecd02)=>{const _0x1bb026=a0_0x4744e4;_0x390392[_0x1bb026(0x106)](_0x4ecd02);},convertToNewArray=(_0x7c4546,_0x3641f8,_0x4cb6cc)=>{_0x7c4546[_0x3641f8]=[_0x7c4546[_0x3641f8],_0x4cb6cc];},__accessCheck2=(_0x4ebe49,_0x216974,_0x10cd80)=>{const _0x2f84d7=a0_0x4744e4;if(!_0x216974[_0x2f84d7(0xd9)](_0x4ebe49))throw TypeError('Cannot\x20'+_0x10cd80);},__privateGet2=(_0x56be1a,_0x21c98d,_0x58a8ee)=>{const _0x2bb388=a0_0x4744e4;return __accessCheck2(_0x56be1a,_0x21c98d,'read\x20from\x20private\x20field'),_0x58a8ee?_0x58a8ee[_0x2bb388(0x166)](_0x56be1a):_0x21c98d[_0x2bb388(0x1fa)](_0x56be1a);},__privateAdd2=(_0x23cadb,_0x530609,_0x470e42)=>{const _0x580f5e=a0_0x4744e4;if(_0x530609[_0x580f5e(0xd9)](_0x23cadb))throw TypeError('Cannot\x20add\x20the\x20same\x20private\x20member\x20more\x20than\x20once');_0x530609 instanceof WeakSet?_0x530609[_0x580f5e(0x202)](_0x23cadb):_0x530609[_0x580f5e(0x13e)](_0x23cadb,_0x470e42);},__privateSet2=(_0x21d8fb,_0x5851f0,_0x1141a1,_0x5d197c)=>{const _0x41c820=a0_0x4744e4;return __accessCheck2(_0x21d8fb,_0x5851f0,_0x41c820(0x10c)),_0x5d197c?_0x5d197c[_0x41c820(0x166)](_0x21d8fb,_0x1141a1):_0x5851f0['set'](_0x21d8fb,_0x1141a1),_0x1141a1;},_validatedData,_matchResult,HonoRequest=class{constructor(_0x1180c9,_0x4c4a20='/',_0x3cc4e8=[[]]){const _0x1d7f02=a0_0x4744e4;__privateAdd2(this,_validatedData,void 0x0),__privateAdd2(this,_matchResult,void 0x0),this[_0x1d7f02(0x1d1)]=0x0,this['bodyCache']={},this[_0x1d7f02(0xf1)]=_0x447e89=>{const _0x975102=_0x1d7f02,{bodyCache:_0x11ed1b,raw:_0x9081be}=this,_0x5f46d3=_0x11ed1b[_0x447e89];if(_0x5f46d3)return _0x5f46d3;if(_0x11ed1b[_0x975102(0x1cb)])return((async()=>{const _0x5381eb=_0x975102;return await new Response(_0x11ed1b[_0x5381eb(0x1cb)])[_0x447e89]();})());return _0x11ed1b[_0x447e89]=_0x9081be[_0x447e89]();},this[_0x1d7f02(0x12c)]=_0x1180c9,this[_0x1d7f02(0x168)]=_0x4c4a20,__privateSet2(this,_matchResult,_0x3cc4e8),__privateSet2(this,_validatedData,{});}[a0_0x4744e4(0x158)](_0x10d033){const _0x4e0ad2=a0_0x4744e4;return _0x10d033?this[_0x4e0ad2(0x12d)](_0x10d033):this[_0x4e0ad2(0x1cd)]();}['getDecodedParam'](_0x35e7f6){const _0x200646=a0_0x4744e4,_0x3d89ec=__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1][_0x35e7f6],_0x4967f0=this[_0x200646(0x122)](_0x3d89ec);return _0x4967f0?/\%/[_0x200646(0x191)](_0x4967f0)?decodeURIComponent_(_0x4967f0):_0x4967f0:void 0x0;}[a0_0x4744e4(0x1cd)](){const _0xd8cd55=a0_0x4744e4,_0x35d2a3={},_0x78a9bb=Object[_0xd8cd55(0x14f)](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1]);for(const _0x3b504f of _0x78a9bb){const _0x592648=this[_0xd8cd55(0x122)](__privateGet2(this,_matchResult)[0x0][this['routeIndex']][0x1][_0x3b504f]);_0x592648&&typeof _0x592648===_0xd8cd55(0x1db)&&(_0x35d2a3[_0x3b504f]=/\%/[_0xd8cd55(0x191)](_0x592648)?decodeURIComponent_(_0x592648):_0x592648);}return _0x35d2a3;}[a0_0x4744e4(0x122)](_0x32b3be){return __privateGet2(this,_matchResult)[0x1]?__privateGet2(this,_matchResult)[0x1][_0x32b3be]:_0x32b3be;}[a0_0x4744e4(0x190)](_0x118b78){return getQueryParam(this['url'],_0x118b78);}['queries'](_0x154cc9){return getQueryParams(this['url'],_0x154cc9);}[a0_0x4744e4(0x161)](_0x4dfcd2){const _0x2df70f=a0_0x4744e4;if(_0x4dfcd2)return this['raw'][_0x2df70f(0x177)][_0x2df70f(0x1fa)](_0x4dfcd2[_0x2df70f(0x115)]())??void 0x0;const _0x87175d={};return this[_0x2df70f(0x12c)][_0x2df70f(0x177)][_0x2df70f(0x124)]((_0x1dba3b,_0x55947e)=>{_0x87175d[_0x55947e]=_0x1dba3b;}),_0x87175d;}[a0_0x4744e4(0x133)](_0x352f9d){const _0xb10ecf=a0_0x4744e4,_0x1d9656=this['raw']['headers'][_0xb10ecf(0x1fa)](_0xb10ecf(0x154));if(!_0x1d9656)return;const _0xf641f7=parse(_0x1d9656);if(_0x352f9d){const _0x338c3d=_0xf641f7[_0x352f9d];return _0x338c3d;}else return _0xf641f7;}async[a0_0x4744e4(0x192)](_0x5ed3e6){const _0x339268=a0_0x4744e4;if(this[_0x339268(0x130)][_0x339268(0xcc)])return this[_0x339268(0x130)][_0x339268(0xcc)];const _0x5b70bb=await parseBody(this,_0x5ed3e6);return this['bodyCache'][_0x339268(0xcc)]=_0x5b70bb,_0x5b70bb;}[a0_0x4744e4(0x1b0)](){const _0xb57c3a=a0_0x4744e4;return this[_0xb57c3a(0xf1)](_0xb57c3a(0x1b0));}['text'](){const _0x47bd77=a0_0x4744e4;return this[_0x47bd77(0xf1)](_0x47bd77(0xbe));}[a0_0x4744e4(0x1cb)](){const _0x3e4d60=a0_0x4744e4;return this[_0x3e4d60(0xf1)]('arrayBuffer');}[a0_0x4744e4(0x165)](){const _0xf9b555=a0_0x4744e4;return this['cachedBody'](_0xf9b555(0x165));}[a0_0x4744e4(0x163)](){const _0x1df67d=a0_0x4744e4;return this[_0x1df67d(0xf1)](_0x1df67d(0x163));}[a0_0x4744e4(0x1a2)](_0x3fd2bf,_0x3c7ea){__privateGet2(this,_validatedData)[_0x3fd2bf]=_0x3c7ea;}[a0_0x4744e4(0x1c4)](_0x23df8b){return __privateGet2(this,_validatedData)[_0x23df8b];}get['url'](){const _0x320017=a0_0x4744e4;return this['raw'][_0x320017(0xe9)];}get['method'](){const _0x45215f=a0_0x4744e4;return this[_0x45215f(0x12c)][_0x45215f(0x10d)];}get[a0_0x4744e4(0x125)](){return __privateGet2(this,_matchResult)[0x0]['map'](([[,_0xb380c3]])=>_0xb380c3);}get['routePath'](){const _0x43c477=a0_0x4744e4;return __privateGet2(this,_matchResult)[0x0][_0x43c477(0x21f)](([[,_0x5ab5d4]])=>_0x5ab5d4)[this[_0x43c477(0x1d1)]][_0x43c477(0x168)];}get[a0_0x4744e4(0x177)](){const _0x4d5fc9=a0_0x4744e4;return this[_0x4d5fc9(0x12c)][_0x4d5fc9(0x177)];}get[a0_0x4744e4(0x198)](){const _0x582166=a0_0x4744e4;return this[_0x582166(0x12c)][_0x582166(0x198)];}get[a0_0x4744e4(0xdd)](){const _0x49be92=a0_0x4744e4;return this[_0x49be92(0x12c)]['bodyUsed'];}get['integrity'](){const _0xeaf348=a0_0x4744e4;return this[_0xeaf348(0x12c)][_0xeaf348(0x1aa)];}get[a0_0x4744e4(0xbb)](){const _0x257d83=a0_0x4744e4;return this[_0x257d83(0x12c)][_0x257d83(0xbb)];}get[a0_0x4744e4(0x215)](){const _0x4d52cb=a0_0x4744e4;return this[_0x4d52cb(0x12c)][_0x4d52cb(0x215)];}get[a0_0x4744e4(0x21a)](){const _0x2f64a9=a0_0x4744e4;return this[_0x2f64a9(0x12c)][_0x2f64a9(0x21a)];}};_validatedData=new WeakMap(),_matchResult=new WeakMap();var METHOD_NAME_ALL=a0_0x4744e4(0x1e0),METHOD_NAME_ALL_LOWERCASE=a0_0x4744e4(0x10b),METHODS=[a0_0x4744e4(0x1fa),a0_0x4744e4(0x14d),a0_0x4744e4(0x219),a0_0x4744e4(0x193),a0_0x4744e4(0x232),a0_0x4744e4(0x1f5)],MESSAGE_MATCHER_IS_ALREADY_BUILT='Can\x20not\x20add\x20a\x20route\x20since\x20the\x20matcher\x20is\x20already\x20built.',UnsupportedPathError=class extends Error{},__accessCheck3=(_0x13a79d,_0x78697b,_0x4baa48)=>{const _0x5e529b=a0_0x4744e4;if(!_0x78697b[_0x5e529b(0xd9)](_0x13a79d))throw TypeError(_0x5e529b(0x109)+_0x4baa48);},__privateGet3=(_0x45b545,_0xaf0c85,_0x4aafac)=>{const _0x4e08b7=a0_0x4744e4;return __accessCheck3(_0x45b545,_0xaf0c85,_0x4e08b7(0x1bc)),_0x4aafac?_0x4aafac[_0x4e08b7(0x166)](_0x45b545):_0xaf0c85[_0x4e08b7(0x1fa)](_0x45b545);},__privateAdd3=(_0x2dbb2b,_0x21be47,_0x3e42e3)=>{const _0x148baf=a0_0x4744e4;if(_0x21be47[_0x148baf(0xd9)](_0x2dbb2b))throw TypeError(_0x148baf(0x1d5));_0x21be47 instanceof WeakSet?_0x21be47[_0x148baf(0x202)](_0x2dbb2b):_0x21be47[_0x148baf(0x13e)](_0x2dbb2b,_0x3e42e3);},__privateSet3=(_0x140509,_0x5790ac,_0x3f455b,_0x29c869)=>{const _0x35bb2f=a0_0x4744e4;return __accessCheck3(_0x140509,_0x5790ac,_0x35bb2f(0x10c)),_0x29c869?_0x29c869[_0x35bb2f(0x166)](_0x140509,_0x3f455b):_0x5790ac[_0x35bb2f(0x13e)](_0x140509,_0x3f455b),_0x3f455b;},COMPOSED_HANDLER=Symbol(a0_0x4744e4(0x15e));function defineDynamicClass(){return class{};}var notFoundHandler=_0x1c5eae=>{const _0x193bbe=a0_0x4744e4;return _0x1c5eae[_0x193bbe(0xbe)]('404\x20Not\x20Found',0x194);},errorHandler=(_0x43f7f8,_0x2a453a)=>{const _0x1a8f18=a0_0x4744e4;if(_0x43f7f8 instanceof HTTPException)return _0x43f7f8['getResponse']();console['error'](_0x43f7f8);const _0x1d40e1=_0x1a8f18(0x128);return _0x2a453a[_0x1a8f18(0xbe)](_0x1d40e1,0x1f4);},_path,_Hono=class extends defineDynamicClass(){constructor(_0x33ca99={}){const _0x1a851b=a0_0x4744e4;super(),this[_0x1a851b(0xc9)]='/',__privateAdd3(this,_path,'/'),this[_0x1a851b(0x187)]=[],this['notFoundHandler']=notFoundHandler,this[_0x1a851b(0x143)]=errorHandler,this[_0x1a851b(0xd8)]=_0x317b43=>{const _0x5941cd=_0x1a851b;return this[_0x5941cd(0x143)]=_0x317b43,this;},this[_0x1a851b(0xe0)]=_0x45687=>{const _0x373145=_0x1a851b;return this[_0x373145(0x197)]=_0x45687,this;},this['head']=()=>{const _0x3f4dc7=_0x1a851b;return console[_0x3f4dc7(0x1f3)](_0x3f4dc7(0x22f)),this;},this[_0x1a851b(0x20a)]=_0x14556d=>{const _0x4b4b5a=_0x1a851b;return this[_0x4b4b5a(0x172)](_0x14556d[_0x4b4b5a(0x1ea)],_0x14556d,void 0x0,_0x14556d[_0x4b4b5a(0x1ea)][_0x4b4b5a(0x10d)]);},this['fetch']=(_0x1c2981,_0xdea939,_0x4eb6a1)=>{return this['dispatch'](_0x1c2981,_0x4eb6a1,_0xdea939,_0x1c2981['method']);},this[_0x1a851b(0x1ea)]=(_0x232c60,_0x403c69,_0x19c71,_0x373393)=>{const _0x40e74b=_0x1a851b;if(_0x232c60 instanceof Request)return _0x403c69!==void 0x0&&(_0x232c60=new Request(_0x232c60,_0x403c69)),this[_0x40e74b(0xc5)](_0x232c60,_0x19c71,_0x373393);_0x232c60=_0x232c60[_0x40e74b(0x174)]();const _0x5b8adb=/^https?:\/\//[_0x40e74b(0x191)](_0x232c60)?_0x232c60:_0x40e74b(0x18e)+mergePath('/',_0x232c60),_0x288068=new Request(_0x5b8adb,_0x403c69);return this[_0x40e74b(0xc5)](_0x288068,_0x19c71,_0x373393);},this[_0x1a851b(0x118)]=()=>{const _0x30c3e3=_0x1a851b;addEventListener(_0x30c3e3(0xc5),_0xeaee85=>{const _0x51238b=_0x30c3e3;_0xeaee85[_0x51238b(0x1c0)](this[_0x51238b(0x172)](_0xeaee85[_0x51238b(0x1ea)],_0xeaee85,void 0x0,_0xeaee85['request']['method']));});};const _0x195ad9=[...METHODS,METHOD_NAME_ALL_LOWERCASE];_0x195ad9[_0x1a851b(0x21f)](_0x1cb58e=>{this[_0x1cb58e]=(_0x22f8af,..._0x325e6f)=>{const _0x4fca9e=a0_0x3162;return typeof _0x22f8af==='string'?__privateSet3(this,_path,_0x22f8af):this[_0x4fca9e(0x1cc)](_0x1cb58e,__privateGet3(this,_path),_0x22f8af),_0x325e6f[_0x4fca9e(0x21f)](_0x3ba783=>{const _0x47b1a6=_0x4fca9e;typeof _0x3ba783!=='string'&&this[_0x47b1a6(0x1cc)](_0x1cb58e,__privateGet3(this,_path),_0x3ba783);}),this;};}),this['on']=(_0x4128a5,_0x33fe99,..._0xbbf4e0)=>{const _0x3d7cfb=_0x1a851b;if(!_0x4128a5)return this;__privateSet3(this,_path,_0x33fe99);for(const _0x4cd190 of[_0x4128a5][_0x3d7cfb(0xf5)]()){_0xbbf4e0[_0x3d7cfb(0x21f)](_0xf73920=>{const _0x39e01c=_0x3d7cfb;this[_0x39e01c(0x1cc)](_0x4cd190[_0x39e01c(0x185)](),__privateGet3(this,_path),_0xf73920);});}return this;},this['use']=(_0x16a655,..._0x2e2b7f)=>{const _0x14aaf4=_0x1a851b;return typeof _0x16a655===_0x14aaf4(0x1db)?__privateSet3(this,_path,_0x16a655):_0x2e2b7f[_0x14aaf4(0x14b)](_0x16a655),_0x2e2b7f[_0x14aaf4(0x21f)](_0x1dab1e=>{this['addRoute'](METHOD_NAME_ALL,__privateGet3(this,_path),_0x1dab1e);}),this;};const _0x3cef52=_0x33ca99[_0x1a851b(0x151)]??!![];delete _0x33ca99[_0x1a851b(0x151)],Object[_0x1a851b(0x1ab)](this,_0x33ca99),this[_0x1a851b(0x195)]=_0x3cef52?_0x33ca99[_0x1a851b(0x195)]??getPath:getPathNoStrict;}[a0_0x4744e4(0x227)](){const _0x311b4b=a0_0x4744e4,_0x72c95a=new _Hono({'router':this[_0x311b4b(0x22c)],'getPath':this[_0x311b4b(0x195)]});return _0x72c95a[_0x311b4b(0x187)]=this[_0x311b4b(0x187)],_0x72c95a;}[a0_0x4744e4(0x189)](_0x4f78db,_0x230131){const _0xc73749=a0_0x4744e4,_0x388751=this['basePath'](_0x4f78db);if(!_0x230131)return _0x388751;return _0x230131[_0xc73749(0x187)][_0xc73749(0x21f)](_0x3f6248=>{const _0x5c24fa=_0xc73749;let _0x1d5252;_0x230131[_0x5c24fa(0x143)]===errorHandler?_0x1d5252=_0x3f6248[_0x5c24fa(0x145)]:(_0x1d5252=async(_0x25d0dd,_0xaf2dbf)=>(await compose([],_0x230131['errorHandler'])(_0x25d0dd,()=>_0x3f6248[_0x5c24fa(0x145)](_0x25d0dd,_0xaf2dbf)))['res'],_0x1d5252[COMPOSED_HANDLER]=_0x3f6248[_0x5c24fa(0x145)]),_0x388751['addRoute'](_0x3f6248[_0x5c24fa(0x10d)],_0x3f6248[_0x5c24fa(0x168)],_0x1d5252);}),this;}[a0_0x4744e4(0x19f)](_0x45bb38){const _0x6e9f41=a0_0x4744e4,_0x4ff672=this[_0x6e9f41(0x227)]();return _0x4ff672[_0x6e9f41(0xc9)]=mergePath(this[_0x6e9f41(0xc9)],_0x45bb38),_0x4ff672;}[a0_0x4744e4(0x112)](){const _0x6c9d13=a0_0x4744e4,_0x419213=0x8;this[_0x6c9d13(0x187)][_0x6c9d13(0x21f)](_0x4e75c5=>{const _0x2dfe36=_0x6c9d13;console[_0x2dfe36(0x156)](_0x2dfe36(0x20e)+_0x4e75c5[_0x2dfe36(0x10d)]+_0x2dfe36(0x21b)+'\x20'[_0x2dfe36(0x206)](_0x419213-_0x4e75c5[_0x2dfe36(0x10d)][_0x2dfe36(0x211)])+'\x20'+_0x4e75c5[_0x2dfe36(0x168)]);});}[a0_0x4744e4(0xca)](_0xe2d0af,_0x3ff527,_0x47f0ae){const _0x26115f=a0_0x4744e4,_0xf4b58e=mergePath(this[_0x26115f(0xc9)],_0xe2d0af),_0x402422=_0xf4b58e==='/'?0x0:_0xf4b58e[_0x26115f(0x211)],_0x2d2719=async(_0x13b59d,_0x2aafee)=>{const _0x5d87e7=_0x26115f;let _0xedcadc=void 0x0;try{_0xedcadc=_0x13b59d[_0x5d87e7(0x217)];}catch{}const _0x1f8fe2=_0x47f0ae?_0x47f0ae(_0x13b59d):[_0x13b59d[_0x5d87e7(0x136)],_0xedcadc],_0x50bd20=Array[_0x5d87e7(0x162)](_0x1f8fe2)?_0x1f8fe2:[_0x1f8fe2],_0x4eb83a=getQueryStrings(_0x13b59d[_0x5d87e7(0x1c2)][_0x5d87e7(0xe9)]),_0x1cb63f=await _0x3ff527(new Request(new URL((_0x13b59d[_0x5d87e7(0x1c2)][_0x5d87e7(0x168)][_0x5d87e7(0x17e)](_0x402422)||'/')+_0x4eb83a,_0x13b59d[_0x5d87e7(0x1c2)][_0x5d87e7(0xe9)]),_0x13b59d[_0x5d87e7(0x1c2)]['raw']),..._0x50bd20);if(_0x1cb63f)return _0x1cb63f;await _0x2aafee();};return this[_0x26115f(0x1cc)](METHOD_NAME_ALL,mergePath(_0xe2d0af,'*'),_0x2d2719),this;}get[a0_0x4744e4(0x1b1)](){const _0x16c57c=a0_0x4744e4;return this['matchRoute']('GET','/'),this[_0x16c57c(0x22c)][_0x16c57c(0x1a0)];}[a0_0x4744e4(0x1cc)](_0x2c0675,_0x315262,_0x5c1ae7){const _0x1c1616=a0_0x4744e4;_0x2c0675=_0x2c0675[_0x1c1616(0x185)](),_0x315262=mergePath(this[_0x1c1616(0xc9)],_0x315262);const _0x1b301e={'path':_0x315262,'method':_0x2c0675,'handler':_0x5c1ae7};this[_0x1c1616(0x22c)][_0x1c1616(0x202)](_0x2c0675,_0x315262,[_0x5c1ae7,_0x1b301e]),this[_0x1c1616(0x187)][_0x1c1616(0x106)](_0x1b301e);}[a0_0x4744e4(0xc0)](_0xac5831,_0x43c38e){const _0x4a3f15=a0_0x4744e4;return this['router'][_0x4a3f15(0x19c)](_0xac5831,_0x43c38e);}[a0_0x4744e4(0x212)](_0x2f1712,_0x3809a1){const _0x29e59f=a0_0x4744e4;if(_0x2f1712 instanceof Error)return this[_0x29e59f(0x143)](_0x2f1712,_0x3809a1);throw _0x2f1712;}[a0_0x4744e4(0x172)](_0x35e83b,_0x10ecf5,_0x12212a,_0x4d6b24){const _0x298adf=a0_0x4744e4;if(_0x4d6b24==='HEAD')return((async()=>new Response(null,await this[_0x298adf(0x172)](_0x35e83b,_0x10ecf5,_0x12212a,_0x298adf(0xf7))))());const _0x23c62c=this[_0x298adf(0x195)](_0x35e83b,{'env':_0x12212a}),_0x56a193=this['matchRoute'](_0x4d6b24,_0x23c62c),_0x425745=new Context(new HonoRequest(_0x35e83b,_0x23c62c,_0x56a193),{'env':_0x12212a,'executionCtx':_0x10ecf5,'notFoundHandler':this['notFoundHandler']});if(_0x56a193[0x0][_0x298adf(0x211)]===0x1){let _0x4953dc;try{_0x4953dc=_0x56a193[0x0][0x0][0x0][0x0](_0x425745,async()=>{const _0x43aaac=_0x298adf;_0x425745[_0x43aaac(0x16b)]=await this[_0x43aaac(0x197)](_0x425745);});}catch(_0xdb3606){return this[_0x298adf(0x212)](_0xdb3606,_0x425745);}return _0x4953dc instanceof Promise?_0x4953dc[_0x298adf(0x17f)](_0x3e9e8d=>_0x3e9e8d||(_0x425745[_0x298adf(0x1ba)]?_0x425745['res']:this['notFoundHandler'](_0x425745)))['catch'](_0x56ccf8=>this[_0x298adf(0x212)](_0x56ccf8,_0x425745)):_0x4953dc;}const _0x4d8d70=compose(_0x56a193[0x0],this[_0x298adf(0x143)],this[_0x298adf(0x197)]);return((async()=>{const _0x5d18f4=_0x298adf;try{const _0x4a9b69=await _0x4d8d70(_0x425745);if(!_0x4a9b69[_0x5d18f4(0x1ba)])throw new Error(_0x5d18f4(0x1a1));return _0x4a9b69['res'];}catch(_0x2d64fc){return this['handleError'](_0x2d64fc,_0x425745);}})());}},Hono=_Hono;_path=new WeakMap();var LABEL_REG_EXP_STR=a0_0x4744e4(0xfd),ONLY_WILDCARD_REG_EXP_STR='.*',TAIL_WILDCARD_REG_EXP_STR=a0_0x4744e4(0x1dc),PATH_ERROR=Symbol();function compareKey(_0x2d085a,_0x5f2763){const _0xd45ef=a0_0x4744e4;if(_0x2d085a['length']===0x1)return _0x5f2763[_0xd45ef(0x211)]===0x1?_0x2d085a<_0x5f2763?-0x1:0x1:-0x1;if(_0x5f2763['length']===0x1)return 0x1;if(_0x2d085a===ONLY_WILDCARD_REG_EXP_STR||_0x2d085a===TAIL_WILDCARD_REG_EXP_STR)return 0x1;else{if(_0x5f2763===ONLY_WILDCARD_REG_EXP_STR||_0x5f2763===TAIL_WILDCARD_REG_EXP_STR)return-0x1;}if(_0x2d085a===LABEL_REG_EXP_STR)return 0x1;else{if(_0x5f2763===LABEL_REG_EXP_STR)return-0x1;}return _0x2d085a[_0xd45ef(0x211)]===_0x5f2763[_0xd45ef(0x211)]?_0x2d085a<_0x5f2763?-0x1:0x1:_0x5f2763[_0xd45ef(0x211)]-_0x2d085a[_0xd45ef(0x211)];}var Node=class{constructor(){const _0x54b182=a0_0x4744e4;this[_0x54b182(0x21e)]={};}[a0_0x4744e4(0xf9)](_0x502929,_0x4c790a,_0x22abf7,_0x87f610,_0x145306){const _0x421f6e=a0_0x4744e4;if(_0x502929[_0x421f6e(0x211)]===0x0){if(this[_0x421f6e(0x16d)]!==void 0x0)throw PATH_ERROR;if(_0x145306)return;this[_0x421f6e(0x16d)]=_0x4c790a;return;}const [_0x57134c,..._0xb55013]=_0x502929,_0x435b65=_0x57134c==='*'?_0xb55013[_0x421f6e(0x211)]===0x0?['','',ONLY_WILDCARD_REG_EXP_STR]:['','',LABEL_REG_EXP_STR]:_0x57134c==='/*'?['','',TAIL_WILDCARD_REG_EXP_STR]:_0x57134c['match'](/^\:([^\{\}]+)(?:\{(.+)\})?$/);let _0x96fa68;if(_0x435b65){const _0x378085=_0x435b65[0x1];let _0x3b492c=_0x435b65[0x2]||LABEL_REG_EXP_STR;if(_0x378085&&_0x435b65[0x2]){_0x3b492c=_0x3b492c[_0x421f6e(0xc4)](/^\((?!\?:)(?=[^)]+\)$)/,_0x421f6e(0x183));if(/\((?!\?:)/[_0x421f6e(0x191)](_0x3b492c))throw PATH_ERROR;}_0x96fa68=this['children'][_0x3b492c];if(!_0x96fa68){if(Object[_0x421f6e(0x14f)](this[_0x421f6e(0x21e)])['some'](_0x70069e=>_0x70069e!==ONLY_WILDCARD_REG_EXP_STR&&_0x70069e!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x145306)return;_0x96fa68=this[_0x421f6e(0x21e)][_0x3b492c]=new Node(),_0x378085!==''&&(_0x96fa68[_0x421f6e(0x1f4)]=_0x87f610[_0x421f6e(0x1f4)]++);}!_0x145306&&_0x378085!==''&&_0x22abf7[_0x421f6e(0x106)]([_0x378085,_0x96fa68[_0x421f6e(0x1f4)]]);}else{_0x96fa68=this[_0x421f6e(0x21e)][_0x57134c];if(!_0x96fa68){if(Object[_0x421f6e(0x14f)](this[_0x421f6e(0x21e)])['some'](_0x4a721e=>_0x4a721e[_0x421f6e(0x211)]>0x1&&_0x4a721e!==ONLY_WILDCARD_REG_EXP_STR&&_0x4a721e!==TAIL_WILDCARD_REG_EXP_STR))throw PATH_ERROR;if(_0x145306)return;_0x96fa68=this[_0x421f6e(0x21e)][_0x57134c]=new Node();}}_0x96fa68[_0x421f6e(0xf9)](_0xb55013,_0x4c790a,_0x22abf7,_0x87f610,_0x145306);}['buildRegExpStr'](){const _0x4a08bb=a0_0x4744e4,_0x447245=Object['keys'](this[_0x4a08bb(0x21e)])[_0x4a08bb(0x199)](compareKey),_0x3c752c=_0x447245[_0x4a08bb(0x21f)](_0x4f8bdc=>{const _0x35720f=_0x4a08bb,_0x2f35da=this[_0x35720f(0x21e)][_0x4f8bdc];return(typeof _0x2f35da[_0x35720f(0x1f4)]===_0x35720f(0x1ff)?'('+_0x4f8bdc+')@'+_0x2f35da[_0x35720f(0x1f4)]:_0x4f8bdc)+_0x2f35da[_0x35720f(0x1ef)]();});typeof this[_0x4a08bb(0x16d)]===_0x4a08bb(0x1ff)&&_0x3c752c[_0x4a08bb(0x14b)]('#'+this[_0x4a08bb(0x16d)]);if(_0x3c752c[_0x4a08bb(0x211)]===0x0)return'';if(_0x3c752c['length']===0x1)return _0x3c752c[0x0];return'(?:'+_0x3c752c[_0x4a08bb(0x1b8)]('|')+')';}},Trie=class{constructor(){const _0x56ce31=a0_0x4744e4;this[_0x56ce31(0x1e8)]={'varIndex':0x0},this[_0x56ce31(0x188)]=new Node();}[a0_0x4744e4(0xf9)](_0x5c8a45,_0x488c50,_0x556472){const _0x340a37=a0_0x4744e4,_0x2524e0=[],_0x38af9b=[];for(let _0x2807e9=0x0;;){let _0x1e128c=![];_0x5c8a45=_0x5c8a45['replace'](/\{[^}]+\}/g,_0x45e6e2=>{const _0x391cfc='@\x5c'+_0x2807e9;return _0x38af9b[_0x2807e9]=[_0x391cfc,_0x45e6e2],_0x2807e9++,_0x1e128c=!![],_0x391cfc;});if(!_0x1e128c)break;}const _0x4cd67a=_0x5c8a45[_0x340a37(0x19c)](/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let _0x86ddb3=_0x38af9b[_0x340a37(0x211)]-0x1;_0x86ddb3>=0x0;_0x86ddb3--){const [_0x18c977]=_0x38af9b[_0x86ddb3];for(let _0x155256=_0x4cd67a[_0x340a37(0x211)]-0x1;_0x155256>=0x0;_0x155256--){if(_0x4cd67a[_0x155256][_0x340a37(0x12a)](_0x18c977)!==-0x1){_0x4cd67a[_0x155256]=_0x4cd67a[_0x155256][_0x340a37(0xc4)](_0x18c977,_0x38af9b[_0x86ddb3][0x1]);break;}}}return this[_0x340a37(0x188)][_0x340a37(0xf9)](_0x4cd67a,_0x488c50,_0x2524e0,this[_0x340a37(0x1e8)],_0x556472),_0x2524e0;}[a0_0x4744e4(0x234)](){const _0x3b5acd=a0_0x4744e4;let _0x2a5f20=this[_0x3b5acd(0x188)][_0x3b5acd(0x1ef)]();if(_0x2a5f20==='')return[/^$/,[],[]];let _0x19eab4=0x0;const _0x1e8433=[],_0x563554=[];return _0x2a5f20=_0x2a5f20[_0x3b5acd(0xc4)](/#(\d+)|@(\d+)|\.\*\$/g,(_0xe8949c,_0x49e7e9,_0x21f86f)=>{const _0x2211e2=_0x3b5acd;if(typeof _0x49e7e9!==_0x2211e2(0x18a))return _0x1e8433[++_0x19eab4]=Number(_0x49e7e9),_0x2211e2(0x1f1);if(typeof _0x21f86f!==_0x2211e2(0x18a))return _0x563554[Number(_0x21f86f)]=++_0x19eab4,'';return'';}),[new RegExp('^'+_0x2a5f20),_0x1e8433,_0x563554];}},methodNames=[METHOD_NAME_ALL,...METHODS][a0_0x4744e4(0x21f)](_0x23acc9=>_0x23acc9[a0_0x4744e4(0x185)]()),emptyParam=[],nullMatcher=[/^$/,[],{}],wildcardRegExpCache={};function buildWildcardRegExp(_0x719628){const _0x5e6058=a0_0x4744e4;return wildcardRegExpCache[_0x719628]??(wildcardRegExpCache[_0x719628]=new RegExp(_0x719628==='*'?'':'^'+_0x719628[_0x5e6058(0xc4)](/\/\*/,_0x5e6058(0x1dc))+'$'));}function clearWildcardRegExpCache(){wildcardRegExpCache={};}function buildMatcherFromPreprocessedRoutes(_0x3df68e){const _0x736d69=a0_0x4744e4,_0x15edcd=new Trie(),_0xdfd6b2=[];if(_0x3df68e['length']===0x0)return nullMatcher;const _0x54a72e=_0x3df68e[_0x736d69(0x21f)](_0xd8a8dc=>[!/\*|\/:/['test'](_0xd8a8dc[0x0]),..._0xd8a8dc])['sort'](([_0x2a2f57,_0x5e040d],[_0x2d665f,_0x21f3f7])=>_0x2a2f57?0x1:_0x2d665f?-0x1:_0x5e040d[_0x736d69(0x211)]-_0x21f3f7[_0x736d69(0x211)]),_0x7d9f7a={};for(let _0xb58cb8=0x0,_0x11e99a=-0x1,_0x5c165b=_0x54a72e['length'];_0xb58cb8<_0x5c165b;_0xb58cb8++){const [_0x55ea0c,_0x28ae37,_0x3ce953]=_0x54a72e[_0xb58cb8];_0x55ea0c?_0x7d9f7a[_0x28ae37]=[_0x3ce953[_0x736d69(0x21f)](([_0x48e4bb])=>[_0x48e4bb,{}]),emptyParam]:_0x11e99a++;let _0x1d1eba;try{_0x1d1eba=_0x15edcd[_0x736d69(0xf9)](_0x28ae37,_0x11e99a,_0x55ea0c);}catch(_0x1be21f){throw _0x1be21f===PATH_ERROR?new UnsupportedPathError(_0x28ae37):_0x1be21f;}if(_0x55ea0c)continue;_0xdfd6b2[_0x11e99a]=_0x3ce953[_0x736d69(0x21f)](([_0x3be347,_0x48d840])=>{const _0x114469={};_0x48d840-=0x1;for(;_0x48d840>=0x0;_0x48d840--){const [_0x49b97f,_0x1a94dc]=_0x1d1eba[_0x48d840];_0x114469[_0x49b97f]=_0x1a94dc;}return[_0x3be347,_0x114469];});}const [_0x3b3381,_0x2238ca,_0x15ab02]=_0x15edcd[_0x736d69(0x234)]();for(let _0x54e38f=0x0,_0x5232aa=_0xdfd6b2[_0x736d69(0x211)];_0x54e38f<_0x5232aa;_0x54e38f++){for(let _0x2a42e3=0x0,_0x429fd5=_0xdfd6b2[_0x54e38f][_0x736d69(0x211)];_0x2a42e3<_0x429fd5;_0x2a42e3++){const _0x1daee7=_0xdfd6b2[_0x54e38f][_0x2a42e3]?.[0x1];if(!_0x1daee7)continue;const _0x5a306d=Object['keys'](_0x1daee7);for(let _0x6a7713=0x0,_0x2f88e2=_0x5a306d[_0x736d69(0x211)];_0x6a7713<_0x2f88e2;_0x6a7713++){_0x1daee7[_0x5a306d[_0x6a7713]]=_0x15ab02[_0x1daee7[_0x5a306d[_0x6a7713]]];}}}const _0xcc88ec=[];for(const _0x55b127 in _0x2238ca){_0xcc88ec[_0x55b127]=_0xdfd6b2[_0x2238ca[_0x55b127]];}return[_0x3b3381,_0xcc88ec,_0x7d9f7a];}function findMiddleware(_0x33e6e9,_0x3402a3){const _0x1691e6=a0_0x4744e4;if(!_0x33e6e9)return void 0x0;for(const _0x18ce80 of Object['keys'](_0x33e6e9)[_0x1691e6(0x199)]((_0x40739e,_0x112a2b)=>_0x112a2b[_0x1691e6(0x211)]-_0x40739e[_0x1691e6(0x211)])){if(buildWildcardRegExp(_0x18ce80)['test'](_0x3402a3))return[..._0x33e6e9[_0x18ce80]];}return void 0x0;}var RegExpRouter=class{constructor(){const _0x56d3b9=a0_0x4744e4;this['name']=_0x56d3b9(0x1a9),this[_0x56d3b9(0x1e1)]={[METHOD_NAME_ALL]:{}},this[_0x56d3b9(0x187)]={[METHOD_NAME_ALL]:{}};}[a0_0x4744e4(0x202)](_0x217517,_0x4e85df,_0xd18c68){const _0x126cc7=a0_0x4744e4;var _0x73fa4e;const {middleware:_0xa4182,routes:_0x5c80a7}=this;if(!_0xa4182||!_0x5c80a7)throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);methodNames[_0x126cc7(0x12a)](_0x217517)===-0x1&&methodNames[_0x126cc7(0x106)](_0x217517);if(!_0xa4182[_0x217517]){;[_0xa4182,_0x5c80a7][_0x126cc7(0x124)](_0x59f0d2=>{const _0x376563=_0x126cc7;_0x59f0d2[_0x217517]={},Object[_0x376563(0x14f)](_0x59f0d2[METHOD_NAME_ALL])[_0x376563(0x124)](_0x1daa2f=>{_0x59f0d2[_0x217517][_0x1daa2f]=[..._0x59f0d2[METHOD_NAME_ALL][_0x1daa2f]];});});}_0x4e85df==='/*'&&(_0x4e85df='*');const _0x1f88ae=(_0x4e85df[_0x126cc7(0x19c)](/\/:/g)||[])[_0x126cc7(0x211)];if(/\*$/[_0x126cc7(0x191)](_0x4e85df)){const _0x370b5e=buildWildcardRegExp(_0x4e85df);_0x217517===METHOD_NAME_ALL?Object['keys'](_0xa4182)[_0x126cc7(0x124)](_0xd3499e=>{var _0x56ab24;(_0x56ab24=_0xa4182[_0xd3499e])[_0x4e85df]||(_0x56ab24[_0x4e85df]=findMiddleware(_0xa4182[_0xd3499e],_0x4e85df)||findMiddleware(_0xa4182[METHOD_NAME_ALL],_0x4e85df)||[]);}):(_0x73fa4e=_0xa4182[_0x217517])[_0x4e85df]||(_0x73fa4e[_0x4e85df]=findMiddleware(_0xa4182[_0x217517],_0x4e85df)||findMiddleware(_0xa4182[METHOD_NAME_ALL],_0x4e85df)||[]);Object[_0x126cc7(0x14f)](_0xa4182)['forEach'](_0x3380b6=>{const _0x51a2d0=_0x126cc7;(_0x217517===METHOD_NAME_ALL||_0x217517===_0x3380b6)&&Object[_0x51a2d0(0x14f)](_0xa4182[_0x3380b6])[_0x51a2d0(0x124)](_0x54c800=>{const _0x271e8a=_0x51a2d0;_0x370b5e[_0x271e8a(0x191)](_0x54c800)&&_0xa4182[_0x3380b6][_0x54c800]['push']([_0xd18c68,_0x1f88ae]);});}),Object['keys'](_0x5c80a7)['forEach'](_0x1a55c1=>{const _0x4e151e=_0x126cc7;(_0x217517===METHOD_NAME_ALL||_0x217517===_0x1a55c1)&&Object[_0x4e151e(0x14f)](_0x5c80a7[_0x1a55c1])[_0x4e151e(0x124)](_0x1c698b=>_0x370b5e[_0x4e151e(0x191)](_0x1c698b)&&_0x5c80a7[_0x1a55c1][_0x1c698b][_0x4e151e(0x106)]([_0xd18c68,_0x1f88ae]));});return;}const _0x28254d=checkOptionalParameter(_0x4e85df)||[_0x4e85df];for(let _0x460b07=0x0,_0x1bc065=_0x28254d[_0x126cc7(0x211)];_0x460b07<_0x1bc065;_0x460b07++){const _0x45c9b9=_0x28254d[_0x460b07];Object['keys'](_0x5c80a7)[_0x126cc7(0x124)](_0x6f1b0f=>{const _0x1092e4=_0x126cc7;var _0x24202f;(_0x217517===METHOD_NAME_ALL||_0x217517===_0x6f1b0f)&&((_0x24202f=_0x5c80a7[_0x6f1b0f])[_0x45c9b9]||(_0x24202f[_0x45c9b9]=[...findMiddleware(_0xa4182[_0x6f1b0f],_0x45c9b9)||findMiddleware(_0xa4182[METHOD_NAME_ALL],_0x45c9b9)||[]]),_0x5c80a7[_0x6f1b0f][_0x45c9b9][_0x1092e4(0x106)]([_0xd18c68,_0x1f88ae-_0x1bc065+_0x460b07+0x1]));});}}[a0_0x4744e4(0x19c)](_0x75a69b,_0x83c4a5){const _0x461aa1=a0_0x4744e4;clearWildcardRegExpCache();const _0x5aae04=this[_0x461aa1(0x22e)]();return this['match']=(_0x5ed082,_0x53c0f5)=>{const _0x2e599d=_0x461aa1,_0x5c598f=_0x5aae04[_0x5ed082],_0x31f87c=_0x5c598f[0x2][_0x53c0f5];if(_0x31f87c)return _0x31f87c;const _0x13880a=_0x53c0f5[_0x2e599d(0x19c)](_0x5c598f[0x0]);if(!_0x13880a)return[[],emptyParam];const _0x565ddf=_0x13880a[_0x2e599d(0x12a)]('',0x1);return[_0x5c598f[0x1][_0x565ddf],_0x13880a];},this[_0x461aa1(0x19c)](_0x75a69b,_0x83c4a5);}['buildAllMatchers'](){const _0x56e381=a0_0x4744e4,_0x342d66={};return methodNames[_0x56e381(0x124)](_0x45d38=>{const _0x577491=_0x56e381;_0x342d66[_0x45d38]=this[_0x577491(0x15d)](_0x45d38)||_0x342d66[METHOD_NAME_ALL];}),this[_0x56e381(0x1e1)]=this[_0x56e381(0x187)]=void 0x0,_0x342d66;}[a0_0x4744e4(0x15d)](_0x4b3552){const _0x2e47d6=a0_0x4744e4,_0x45b312=[];let _0x405c30=_0x4b3552===METHOD_NAME_ALL;return[this[_0x2e47d6(0x1e1)],this[_0x2e47d6(0x187)]][_0x2e47d6(0x124)](_0x32b39d=>{const _0x1ca545=_0x2e47d6,_0x8b0b2=_0x32b39d[_0x4b3552]?Object['keys'](_0x32b39d[_0x4b3552])[_0x1ca545(0x21f)](_0x33fd29=>[_0x33fd29,_0x32b39d[_0x4b3552][_0x33fd29]]):[];if(_0x8b0b2['length']!==0x0)_0x405c30||(_0x405c30=!![]),_0x45b312[_0x1ca545(0x106)](..._0x8b0b2);else _0x4b3552!==METHOD_NAME_ALL&&_0x45b312[_0x1ca545(0x106)](...Object[_0x1ca545(0x14f)](_0x32b39d[METHOD_NAME_ALL])['map'](_0xfee5ac=>[_0xfee5ac,_0x32b39d[METHOD_NAME_ALL][_0xfee5ac]]));}),!_0x405c30?null:buildMatcherFromPreprocessedRoutes(_0x45b312);}},SmartRouter=class{constructor(_0x13fed0){const _0x15062a=a0_0x4744e4;this[_0x15062a(0x1a0)]=_0x15062a(0xfc),this[_0x15062a(0x18c)]=[],this[_0x15062a(0x187)]=[],Object[_0x15062a(0x1ab)](this,_0x13fed0);}[a0_0x4744e4(0x202)](_0x279eec,_0x20bcf1,_0x585ccf){const _0x5aa613=a0_0x4744e4;if(!this[_0x5aa613(0x187)])throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);this[_0x5aa613(0x187)]['push']([_0x279eec,_0x20bcf1,_0x585ccf]);}[a0_0x4744e4(0x19c)](_0x151c5d,_0x2f8d02){const _0x3f59f9=a0_0x4744e4;if(!this[_0x3f59f9(0x187)])throw new Error(_0x3f59f9(0x19e));const {routers:_0x3b578b,routes:_0x1fc9ac}=this,_0x31181c=_0x3b578b['length'];let _0x17c825=0x0,_0x5e5138;for(;_0x17c825<_0x31181c;_0x17c825++){const _0x41371c=_0x3b578b[_0x17c825];try{_0x1fc9ac[_0x3f59f9(0x124)](_0x58e705=>{const _0x4b37dc=_0x3f59f9;_0x41371c[_0x4b37dc(0x202)](..._0x58e705);}),_0x5e5138=_0x41371c[_0x3f59f9(0x19c)](_0x151c5d,_0x2f8d02);}catch(_0x48f593){if(_0x48f593 instanceof UnsupportedPathError)continue;throw _0x48f593;}this['match']=_0x41371c[_0x3f59f9(0x19c)][_0x3f59f9(0x17a)](_0x41371c),this[_0x3f59f9(0x18c)]=[_0x41371c],this['routes']=void 0x0;break;}if(_0x17c825===_0x31181c)throw new Error(_0x3f59f9(0x19e));return this['name']='SmartRouter\x20+\x20'+this[_0x3f59f9(0x116)]['name'],_0x5e5138;}get[a0_0x4744e4(0x116)](){const _0x36380=a0_0x4744e4;if(this[_0x36380(0x187)]||this[_0x36380(0x18c)][_0x36380(0x211)]!==0x1)throw new Error(_0x36380(0x1d3));return this[_0x36380(0x18c)][0x0];}},Node2=class{constructor(_0x3a65a3,_0x2c7c2d,_0x1849fc){const _0x258139=a0_0x4744e4;this['order']=0x0,this['params']={},this[_0x258139(0x21e)]=_0x1849fc||{},this[_0x258139(0x1b9)]=[],this[_0x258139(0x1a0)]='';if(_0x3a65a3&&_0x2c7c2d){const _0x330dbb={};_0x330dbb[_0x3a65a3]={'handler':_0x2c7c2d,'possibleKeys':[],'score':0x0,'name':this['name']},this['methods']=[_0x330dbb];}this[_0x258139(0x127)]=[];}[a0_0x4744e4(0xf9)](_0x1cce03,_0x5edb09,_0x509ae0){const _0x51d67a=a0_0x4744e4;this['name']=_0x1cce03+'\x20'+_0x5edb09,this[_0x51d67a(0x148)]=++this[_0x51d67a(0x148)];let _0x1d45d4=this;const _0xed319f=splitRoutingPath(_0x5edb09),_0x39bc7a=[],_0x32bcd1=[];for(let _0x3051a6=0x0,_0x1f7348=_0xed319f['length'];_0x3051a6<_0x1f7348;_0x3051a6++){const _0x212d47=_0xed319f[_0x3051a6];if(Object[_0x51d67a(0x14f)](_0x1d45d4['children'])['includes'](_0x212d47)){_0x32bcd1['push'](..._0x1d45d4['patterns']),_0x1d45d4=_0x1d45d4[_0x51d67a(0x21e)][_0x212d47];const _0x3c0cba=getPattern(_0x212d47);_0x3c0cba&&_0x39bc7a[_0x51d67a(0x106)](_0x3c0cba[0x1]);continue;}_0x1d45d4['children'][_0x212d47]=new Node2();const _0x2bb055=getPattern(_0x212d47);_0x2bb055&&(_0x1d45d4['patterns'][_0x51d67a(0x106)](_0x2bb055),_0x32bcd1['push'](..._0x1d45d4[_0x51d67a(0x127)]),_0x39bc7a['push'](_0x2bb055[0x1])),_0x32bcd1[_0x51d67a(0x106)](..._0x1d45d4[_0x51d67a(0x127)]),_0x1d45d4=_0x1d45d4['children'][_0x212d47];}!_0x1d45d4['methods'][_0x51d67a(0x211)]&&(_0x1d45d4['methods']=[]);const _0x5aa532={},_0x1d43ab={'handler':_0x509ae0,'possibleKeys':_0x39bc7a[_0x51d67a(0xea)]((_0x41cf40,_0x2e3044,_0x3b0e78)=>_0x3b0e78['indexOf'](_0x41cf40)===_0x2e3044),'name':this['name'],'score':this[_0x51d67a(0x148)]};return _0x5aa532[_0x1cce03]=_0x1d43ab,_0x1d45d4[_0x51d67a(0x1b9)][_0x51d67a(0x106)](_0x5aa532),_0x1d45d4;}[a0_0x4744e4(0xc8)](_0x10ae33,_0x318525,_0xc0e5de,_0x4d4f7b){const _0x16c916=a0_0x4744e4,_0x230697=[];for(let _0x3a1537=0x0,_0x14fc41=_0x10ae33[_0x16c916(0x1b9)]['length'];_0x3a1537<_0x14fc41;_0x3a1537++){const _0x5077da=_0x10ae33[_0x16c916(0x1b9)][_0x3a1537],_0x3d8c66=_0x5077da[_0x318525]||_0x5077da[METHOD_NAME_ALL],_0x18d708={};_0x3d8c66!==void 0x0&&(_0x3d8c66[_0x16c916(0x203)]={},_0x3d8c66[_0x16c916(0x1fb)][_0x16c916(0x124)](_0x2e6e02=>{const _0x3a9712=_0x16c916,_0x159fff=_0x18d708[_0x3d8c66[_0x3a9712(0x1a0)]];_0x3d8c66[_0x3a9712(0x203)][_0x2e6e02]=_0x4d4f7b[_0x2e6e02]&&!_0x159fff?_0x4d4f7b[_0x2e6e02]:_0xc0e5de[_0x2e6e02]??_0x4d4f7b[_0x2e6e02],_0x18d708[_0x3d8c66['name']]=!![];}),_0x230697[_0x16c916(0x106)](_0x3d8c66));}return _0x230697;}['search'](_0x346cc6,_0x5f149c){const _0x4e45f8=a0_0x4744e4,_0x779e27=[];this[_0x4e45f8(0x203)]={};const _0x3d7219=this;let _0x4544f0=[_0x3d7219];const _0x3b4c8a=splitPath(_0x5f149c);for(let _0x4872a2=0x0,_0x14accd=_0x3b4c8a[_0x4e45f8(0x211)];_0x4872a2<_0x14accd;_0x4872a2++){const _0xfb63ca=_0x3b4c8a[_0x4872a2],_0x4c08d0=_0x4872a2===_0x14accd-0x1,_0x1f8b10=[];for(let _0xd26047=0x0,_0x2fe3ea=_0x4544f0[_0x4e45f8(0x211)];_0xd26047<_0x2fe3ea;_0xd26047++){const _0x420e9c=_0x4544f0[_0xd26047],_0x2726eb=_0x420e9c[_0x4e45f8(0x21e)][_0xfb63ca];_0x2726eb&&(_0x2726eb[_0x4e45f8(0x203)]=_0x420e9c['params'],_0x4c08d0===!![]?(_0x2726eb['children']['*']&&_0x779e27[_0x4e45f8(0x106)](...this[_0x4e45f8(0xc8)](_0x2726eb[_0x4e45f8(0x21e)]['*'],_0x346cc6,_0x420e9c[_0x4e45f8(0x203)],{})),_0x779e27[_0x4e45f8(0x106)](...this[_0x4e45f8(0xc8)](_0x2726eb,_0x346cc6,_0x420e9c[_0x4e45f8(0x203)],{}))):_0x1f8b10[_0x4e45f8(0x106)](_0x2726eb));for(let _0x5b5202=0x0,_0x4e87ae=_0x420e9c[_0x4e45f8(0x127)][_0x4e45f8(0x211)];_0x5b5202<_0x4e87ae;_0x5b5202++){const _0x476b8b=_0x420e9c[_0x4e45f8(0x127)][_0x5b5202],_0x44cf86={..._0x420e9c['params']};if(_0x476b8b==='*'){const _0x3ec302=_0x420e9c[_0x4e45f8(0x21e)]['*'];_0x3ec302&&(_0x779e27[_0x4e45f8(0x106)](...this['gHSets'](_0x3ec302,_0x346cc6,_0x420e9c[_0x4e45f8(0x203)],{})),_0x1f8b10['push'](_0x3ec302));continue;}if(_0xfb63ca==='')continue;const [_0x406da5,_0x56bf58,_0x5a05a8]=_0x476b8b,_0x184f39=_0x420e9c[_0x4e45f8(0x21e)][_0x406da5],_0x2db59d=_0x3b4c8a[_0x4e45f8(0x17e)](_0x4872a2)[_0x4e45f8(0x1b8)]('/');if(_0x5a05a8 instanceof RegExp&&_0x5a05a8[_0x4e45f8(0x191)](_0x2db59d)){_0x44cf86[_0x56bf58]=_0x2db59d,_0x779e27[_0x4e45f8(0x106)](...this['gHSets'](_0x184f39,_0x346cc6,_0x420e9c[_0x4e45f8(0x203)],_0x44cf86));continue;}(_0x5a05a8===!![]||_0x5a05a8 instanceof RegExp&&_0x5a05a8[_0x4e45f8(0x191)](_0xfb63ca))&&(typeof _0x406da5===_0x4e45f8(0x1db)&&(_0x44cf86[_0x56bf58]=_0xfb63ca,_0x4c08d0===!![]?(_0x779e27['push'](...this[_0x4e45f8(0xc8)](_0x184f39,_0x346cc6,_0x44cf86,_0x420e9c[_0x4e45f8(0x203)])),_0x184f39['children']['*']&&_0x779e27[_0x4e45f8(0x106)](...this[_0x4e45f8(0xc8)](_0x184f39[_0x4e45f8(0x21e)]['*'],_0x346cc6,_0x44cf86,_0x420e9c['params']))):(_0x184f39['params']=_0x44cf86,_0x1f8b10[_0x4e45f8(0x106)](_0x184f39))));}}_0x4544f0=_0x1f8b10;}const _0x309d94=_0x779e27[_0x4e45f8(0x199)]((_0x450ddf,_0xe5d44)=>{const _0xa5d093=_0x4e45f8;return _0x450ddf[_0xa5d093(0x179)]-_0xe5d44[_0xa5d093(0x179)];});return[_0x309d94[_0x4e45f8(0x21f)](({handler:_0x130f87,params:_0x49bc0d})=>[_0x130f87,_0x49bc0d])];}},TrieRouter=class{constructor(){const _0x26f624=a0_0x4744e4;this[_0x26f624(0x1a0)]=_0x26f624(0x18d),this[_0x26f624(0x222)]=new Node2();}[a0_0x4744e4(0x202)](_0x3c5a83,_0x628443,_0x1e92e0){const _0x39bde5=a0_0x4744e4,_0x3c0a6c=checkOptionalParameter(_0x628443);if(_0x3c0a6c){for(const _0x5bbb22 of _0x3c0a6c){this['node'][_0x39bde5(0xf9)](_0x3c5a83,_0x5bbb22,_0x1e92e0);}return;}this[_0x39bde5(0x222)]['insert'](_0x3c5a83,_0x628443,_0x1e92e0);}[a0_0x4744e4(0x19c)](_0x5893f0,_0xb83602){const _0x2830c0=a0_0x4744e4;return this[_0x2830c0(0x222)][_0x2830c0(0x1bf)](_0x5893f0,_0xb83602);}},Hono2=class extends Hono{constructor(_0xf9ea7e={}){const _0x4b8b44=a0_0x4744e4;super(_0xf9ea7e),this[_0x4b8b44(0x22c)]=_0xf9ea7e[_0x4b8b44(0x22c)]??new SmartRouter({'routers':[new RegExpRouter(),new TrieRouter()]});}},wasmReady=![],wasmModule=null;async function initWasm(_0x5eb50e){const _0x513157=a0_0x4744e4;if(wasmReady)return wasmModule;try{const _0x3ddae9=_0x5eb50e||_0x513157(0x1c9),_0x43a437=await import(_0x3ddae9);return typeof _0x43a437[_0x513157(0x139)]==='function'&&await _0x43a437[_0x513157(0x139)](),wasmModule=_0x43a437,wasmReady=!![],wasmModule;}catch(_0x197c39){console['warn'](_0x513157(0xf3),_0x197c39),wasmReady=![];throw _0x197c39;}}async function parseVlessHeader(_0x59e3ea){const _0x1a6a6e=a0_0x4744e4;if(!wasmReady)throw new Error(_0x1a6a6e(0x1b5));if(!wasmModule||typeof wasmModule['parse_vless_header']!==_0x1a6a6e(0x1f9))throw new Error(_0x1a6a6e(0x157));return await wasmModule[_0x1a6a6e(0x121)](_0x59e3ea);}function renderAdminLogin(_0x376975,_0x2e8c07){const _0xd324f8=a0_0x4744e4;return _0xd324f8(0x105)+_0x376975+'\x22>\x0a\x20\x20\x20\x20<input\x20name=\x22password\x22\x20type=\x22password\x22\x20placeholder=\x22password\x22\x20required\x20/>\x0a\x20\x20\x20\x20<button\x20type=\x22submit\x22>Login</button>\x0a\x20\x20</form>\x0a\x20\x20'+(_0x2e8c07?_0xd324f8(0xe5)+escapeHtml(_0x2e8c07)+'</p>':'')+'\x0a</body></html>';}function renderAdminPanel(){const _0x59dc9d=a0_0x4744e4;return _0x59dc9d(0xd1);}function escapeHtml(_0x1854ff){const _0x272df4=a0_0x4744e4;return _0x1854ff[_0x272df4(0xc4)](/[&<>'"]/g,_0x15da19=>({'&':_0x272df4(0x1ac),'<':'&lt;','>':_0x272df4(0x221),'\x27':_0x272df4(0xdc),'\x22':'&quot;'}[_0x15da19]));}function expiryToISO(_0x16f9cf,_0x2f6e9f){const _0xd60b1a=a0_0x4744e4;if(!_0x16f9cf||!_0x2f6e9f)return null;const _0x1cdc16=_0x2f6e9f['split'](':')['length']===0x2?_0x2f6e9f+_0xd60b1a(0x239):_0x2f6e9f,_0x374758=_0x16f9cf+'T'+_0x1cdc16+'Z',_0x37196d=new Date(_0x374758);if(isNaN(_0x37196d[_0xd60b1a(0x1da)]()))return null;return _0x37196d[_0xd60b1a(0xe1)]();}var appPromise=null;async function getApp(){if(appPromise)return appPromise;return appPromise=((async()=>{const _0x5f3410=new Hono2();return await registerRoutes(_0x5f3410),_0x5f3410;})()),appPromise;}async function registerRoutes(_0x227b7b){const _0xb1dff8=a0_0x4744e4;function _0x1fa700(_0x2c63f9){const _0x286798=a0_0x3162;_0x2c63f9['set']('X-Content-Type-Options',_0x286798(0x1be)),_0x2c63f9[_0x286798(0x13e)](_0x286798(0xbc),'strict-origin-when-cross-origin'),_0x2c63f9[_0x286798(0x13e)](_0x286798(0xe4),_0x286798(0xd6));}_0x227b7b['post'](_0xb1dff8(0xe8),async _0xe7000f=>{const _0xec1a75=_0xb1dff8,_0x46a365=_0xe7000f['env'],_0x4fd27f=await _0xe7000f['req'][_0xec1a75(0x163)](),_0x328c6c=_0x4fd27f[_0xec1a75(0x1fa)](_0xec1a75(0x16e))?.[_0xec1a75(0x174)]()||'';if(!_0x46a365['ADMIN_KEY'])return _0xe7000f['text'](_0xec1a75(0x155),0x1f7);if(_0x328c6c!==_0x46a365[_0xec1a75(0x150)])return _0xe7000f[_0xec1a75(0xbe)](_0xec1a75(0x1e4),0x191);const _0x270b1f=crypto[_0xec1a75(0x1e2)](),_0x321de0=await crypto[_0xec1a75(0x1c8)][_0xec1a75(0x1b2)](_0xec1a75(0x1a6),new TextEncoder()[_0xec1a75(0xf6)](_0x270b1f)),_0x145ff9=Array['from'](new Uint8Array(_0x321de0))['map'](_0x4a0068=>_0x4a0068[_0xec1a75(0x174)](0x10)[_0xec1a75(0x1d8)](0x2,'0'))['join']('');try{await _0x46a365['DB'][_0xec1a75(0xee)](_0xec1a75(0xf8))[_0xec1a75(0x17a)](_0xec1a75(0x139),_0x145ff9,Math['floor'](Date[_0xec1a75(0x1d4)]()/0x3e8)+0x15180)['run']();}catch(_0x4ddb8e){console[_0xec1a75(0x13f)]('admin\x20session\x20store\x20failed',_0x4ddb8e);}const _0x3bc263=new Headers();return _0x3bc263['append'](_0xec1a75(0xbd),_0xec1a75(0x1ee)+_0x270b1f+_0xec1a75(0x119)),_0x1fa700(_0x3bc263),_0xe7000f[_0xec1a75(0xbe)]('OK',0xc8,{'headers':_0x3bc263});});async function _0x483f86(_0x2cee57){const _0x4a3733=_0xb1dff8,_0x48ccfd=new TextEncoder(),_0x5bec29=_0x48ccfd[_0x4a3733(0xf6)](_0x2cee57),_0x974573=await crypto[_0x4a3733(0x1c8)][_0x4a3733(0x1b2)](_0x4a3733(0x1a6),_0x5bec29);return Array[_0x4a3733(0x17d)](new Uint8Array(_0x974573))[_0x4a3733(0x21f)](_0x43422c=>_0x43422c[_0x4a3733(0x174)](0x10)[_0x4a3733(0x1d8)](0x2,'0'))[_0x4a3733(0x1b8)]('');}async function _0x117d23(_0x3f9a7f){const _0x8982c5=_0xb1dff8,_0x1fb745=_0x3f9a7f['req'][_0x8982c5(0x177)][_0x8982c5(0x1fa)](_0x8982c5(0x133))||'',_0x5918b2=_0x1fb745[_0x8982c5(0x19c)](/auth_token=([^;]+)/)?.[0x1];if(!_0x5918b2)return![];const _0x2f1312=await _0x483f86(_0x5918b2);try{const _0x3bee6a=await _0x3f9a7f[_0x8982c5(0x136)]['DB'][_0x8982c5(0xee)]('SELECT\x20token_hash\x20FROM\x20admin_session\x20WHERE\x20id\x20=\x20?')[_0x8982c5(0x17a)](_0x8982c5(0x139))[_0x8982c5(0x1ce)]();if(!_0x3bee6a?.[_0x8982c5(0x126)])return![];return _0x2f1312===_0x3bee6a[_0x8982c5(0x126)];}catch(_0x2f12fa){return console['warn']('isAdminRequest\x20error',_0x2f12fa),![];}}async function _0x7c9153(_0x20f72f){const _0xb96aa7=_0xb1dff8;if(!_0x20f72f['DB'])return;const _0x7bd77d=[_0xb96aa7(0x140),_0xb96aa7(0x1b3),_0xb96aa7(0xd4),_0xb96aa7(0x230)];try{const _0x224a74=_0x7bd77d[_0xb96aa7(0x21f)](_0xa4cf1c=>_0x20f72f['DB'][_0xb96aa7(0xee)](_0xa4cf1c));await _0x20f72f['DB']['batch'](_0x224a74);}catch(_0x40813a){console['warn']('ensureTablesExist\x20failed',_0x40813a);}}_0x227b7b['get'](_0xb1dff8(0x182),async _0x28d305=>{const _0x2873e2=_0xb1dff8;await _0x7c9153(_0x28d305[_0x2873e2(0x136)]);const _0x507f18=await _0x117d23(_0x28d305),_0x18365b=_0x2873e2(0x182),_0x686fb5=new Headers({'Content-Type':_0x2873e2(0x104)});_0x1fa700(_0x686fb5);if(!_0x507f18)return new Response(renderAdminLogin(_0x18365b+_0x2873e2(0x226)),{'headers':_0x686fb5});return new Response(renderAdminPanel(),{'headers':_0x686fb5});}),_0x227b7b[_0xb1dff8(0x1fa)](_0xb1dff8(0x1a3),async _0x4b6c64=>{const _0x210971=_0xb1dff8;if(!await _0x117d23(_0x4b6c64))return _0x4b6c64[_0x210971(0x1b0)]({'error':_0x210971(0x21d)},0x193);const _0x50b774=_0x4b6c64[_0x210971(0x136)];await _0x7c9153(_0x50b774);try{const _0x163013=await _0x50b774['DB']['prepare'](_0x210971(0xe3))[_0x210971(0x1ce)](_0x210971(0xe6)),_0x3e8bb5=await _0x50b774['DB'][_0x210971(0xee)]('SELECT\x20COUNT(*)\x20as\x20count\x20FROM\x20users\x20WHERE\x20datetime(expiration_date\x20||\x20\x27T\x27\x20||\x20expiration_time\x20||\x20\x27Z\x27)\x20<\x20datetime(\x27now\x27)')[_0x210971(0x1ce)](_0x210971(0xe6)),_0x3036ad=await _0x50b774['DB']['prepare'](_0x210971(0x100))[_0x210971(0x1ce)](_0x210971(0xcd)),_0x1ac8d4=_0x3e8bb5||0x0,_0x238623=(_0x163013||0x0)-_0x1ac8d4;return _0x4b6c64['json']({'total_users':_0x163013||0x0,'active_users':_0x238623,'expired_users':_0x1ac8d4,'total_traffic':_0x3036ad||0x0});}catch(_0x136b2a){const _0xe62d8b=_0x136b2a instanceof Error?_0x136b2a[_0x210971(0x170)]:String(_0x136b2a);return _0x4b6c64['json']({'error':_0xe62d8b},0x1f4);}}),_0x227b7b['get'](_0xb1dff8(0x1fc),async _0x4e1c11=>{const _0x2b9da2=_0xb1dff8;if(!await _0x117d23(_0x4e1c11))return _0x4e1c11[_0x2b9da2(0x1b0)]({'error':_0x2b9da2(0x21d)},0x193);const _0x3834fd=await _0x4e1c11['env']['DB'][_0x2b9da2(0xee)]('SELECT\x20uuid,\x20created_at,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20traffic_used,\x20ip_limit\x20FROM\x20users\x20ORDER\x20BY\x20created_at\x20DESC')[_0x2b9da2(0x10b)]();return _0x4e1c11[_0x2b9da2(0x1b0)](_0x3834fd[_0x2b9da2(0x1f6)]||[]);}),_0x227b7b['post'](_0xb1dff8(0x1fc),async _0x312db2=>{const _0x3bb292=_0xb1dff8;if(!await _0x117d23(_0x312db2))return _0x312db2[_0x3bb292(0x1b0)]({'error':_0x3bb292(0x21d)},0x193);const _0x154d73=await _0x312db2['req']['json'](),{uuid:_0x5b5734,exp_date:_0x139046,exp_time:_0x153611,notes:_0x272a52,traffic_limit:_0x3b8feb,ip_limit:_0x377c8c}=_0x154d73;if(!_0x5b5734||!_0x139046||!_0x153611)return _0x312db2['json']({'error':_0x3bb292(0x237)},0x190);try{return await _0x312db2['env']['DB'][_0x3bb292(0xee)]('INSERT\x20INTO\x20users\x20(uuid,\x20expiration_date,\x20expiration_time,\x20notes,\x20traffic_limit,\x20ip_limit,\x20traffic_used)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x200)')[_0x3bb292(0x17a)](_0x5b5734,_0x139046,_0x153611,_0x272a52||null,_0x3b8feb||null,_0x377c8c||-0x1)[_0x3bb292(0x1de)](),_0x312db2[_0x3bb292(0x1b0)]({'success':!![],'uuid':_0x5b5734},0xc9);}catch(_0x1cfac3){const _0x263f58=_0x1cfac3 instanceof Error?_0x1cfac3['message']:String(_0x1cfac3);return _0x312db2[_0x3bb292(0x1b0)]({'error':_0x263f58},0x190);}}),_0x227b7b[_0xb1dff8(0x219)](_0xb1dff8(0x1b6),async _0x200632=>{const _0x5c775e=_0xb1dff8;if(!await _0x117d23(_0x200632))return _0x200632['json']({'error':_0x5c775e(0x21d)},0x193);const _0xa886ba=_0x200632[_0x5c775e(0x1c2)][_0x5c775e(0x158)]('uuid'),_0x20b967=await _0x200632[_0x5c775e(0x1c2)]['json'](),{exp_date:_0x591246,exp_time:_0x29e7f0,notes:_0x5e9e5d,traffic_limit:_0x26351a,ip_limit:_0x3b4528,reset_traffic:_0x148e8e}=_0x20b967;if(!_0x591246||!_0x29e7f0)return _0x200632['json']({'error':'Missing\x20date/time'},0x190);try{let _0x522ab7=_0x5c775e(0x205);if(_0x148e8e)_0x522ab7+=_0x5c775e(0x152);return _0x522ab7+=_0x5c775e(0x16c),await _0x200632['env']['DB'][_0x5c775e(0xee)](_0x522ab7)[_0x5c775e(0x17a)](_0x591246,_0x29e7f0,_0x5e9e5d||null,_0x26351a||null,_0x3b4528||-0x1,_0xa886ba)[_0x5c775e(0x1de)](),_0x200632[_0x5c775e(0x1b0)]({'success':!![],'uuid':_0xa886ba});}catch(_0x14fa53){const _0xc2b355=_0x14fa53 instanceof Error?_0x14fa53[_0x5c775e(0x170)]:String(_0x14fa53);return _0x200632['json']({'error':_0xc2b355},0x190);}}),_0x227b7b[_0xb1dff8(0x193)](_0xb1dff8(0x1b6),async _0x198478=>{const _0x584cfb=_0xb1dff8;if(!await _0x117d23(_0x198478))return _0x198478[_0x584cfb(0x1b0)]({'error':_0x584cfb(0x21d)},0x193);const _0x3e4844=_0x198478[_0x584cfb(0x1c2)]['param']('uuid');try{return await _0x198478['env']['DB']['prepare'](_0x584cfb(0x102))[_0x584cfb(0x17a)](_0x3e4844)[_0x584cfb(0x1de)](),_0x198478[_0x584cfb(0x1b0)]({'success':!![],'uuid':_0x3e4844});}catch(_0x3d13ea){const _0x1a4c72=_0x3d13ea instanceof Error?_0x3d13ea[_0x584cfb(0x170)]:String(_0x3d13ea);return _0x198478[_0x584cfb(0x1b0)]({'error':_0x1a4c72},0x1f4);}}),_0x227b7b['post']('/admin/api/health-check',async _0xc28301=>{const _0x1959c6=_0xb1dff8;if(!await _0x117d23(_0xc28301))return _0xc28301[_0x1959c6(0x1b0)]({'error':_0x1959c6(0x21d)},0x193);const _0x2c6f2a=_0xc28301[_0x1959c6(0x136)],_0x4325be=_0x2c6f2a['PROXYIPS']?_0x2c6f2a[_0x1959c6(0xde)][_0x1959c6(0x196)](',')[_0x1959c6(0x21f)](_0x39bc82=>_0x39bc82[_0x1959c6(0x176)]()):[_0x1959c6(0x103)],_0x246589=[];for(const _0x189995 of _0x4325be){const [_0x573d67,_0x184501=_0x1959c6(0x15a)]=_0x189995['split'](':');let _0x336e0c=null,_0x822072=0x0;const _0x5166f8=Date[_0x1959c6(0x1d4)]();try{const _0x22bcdf=new AbortController(),_0x12cce8=setTimeout(()=>_0x22bcdf['abort'](),0x1388),_0x32873f=await fetch(_0x1959c6(0x149)+_0x573d67+':'+_0x184501,{'signal':_0x22bcdf[_0x1959c6(0x21a)]});clearTimeout(_0x12cce8),_0x32873f['ok']&&(_0x336e0c=Date[_0x1959c6(0x1d4)]()-_0x5166f8,_0x822072=0x1);}catch(_0x39dc3a){}_0x246589[_0x1959c6(0x106)](_0x2c6f2a['DB'][_0x1959c6(0xee)](_0x1959c6(0x18b))['bind'](_0x189995,_0x822072,_0x336e0c,Math[_0x1959c6(0x1f0)](Date[_0x1959c6(0x1d4)]()/0x3e8)));}try{return await _0x2c6f2a['DB'][_0x1959c6(0xbf)](_0x246589),_0xc28301[_0x1959c6(0x1b0)]({'success':!![]});}catch(_0x1aebd9){return _0xc28301[_0x1959c6(0x1b0)]({'error':_0x1aebd9?.[_0x1959c6(0x170)]||String(_0x1aebd9)},0x1f4);}}),_0x227b7b[_0xb1dff8(0x14d)]('/admin/logout',async _0x48867d=>{const _0x4b9d8c=_0xb1dff8;try{await _0x48867d[_0x4b9d8c(0x136)]['DB'][_0x4b9d8c(0xee)](_0x4b9d8c(0x173))['bind'](_0x4b9d8c(0x139))[_0x4b9d8c(0x1de)]();}catch(_0x21b7f0){}const _0x286db1=new Headers();return _0x286db1[_0x4b9d8c(0x107)](_0x4b9d8c(0xbd),_0x4b9d8c(0x160)),_0x1fa700(_0x286db1),new Response(JSON[_0x4b9d8c(0x13d)]({'success':!![]}),{'headers':_0x286db1});}),_0x227b7b[_0xb1dff8(0x1fa)](_0xb1dff8(0x1d9),async _0x546949=>{const _0x3eed7f=_0xb1dff8,{uuid:_0x5b808d}=_0x546949[_0x3eed7f(0x1c2)][_0x3eed7f(0x158)](),_0x1b6c3f=_0x546949['env'];if(!/^[0-9a-fA-F-]{36}$/[_0x3eed7f(0x191)](_0x5b808d))return _0x546949[_0x3eed7f(0x1b0)]({'error':_0x3eed7f(0x1ec)},0x190);const _0x3c21a1=await _0x1b6c3f['DB'][_0x3eed7f(0xee)](_0x3eed7f(0x194))[_0x3eed7f(0x17a)](_0x5b808d)[_0x3eed7f(0x1ce)]();if(!_0x3c21a1)return _0x546949['json']({'error':_0x3eed7f(0x138)},0x194);const _0xde90b6=expiryToISO(_0x3c21a1[_0x3eed7f(0x235)],_0x3c21a1[_0x3eed7f(0x11a)]);return _0x546949[_0x3eed7f(0x1b0)]({'traffic_used':_0x3c21a1['traffic_used']||0x0,'traffic_limit':_0x3c21a1[_0x3eed7f(0x13c)]||null,'expiration_iso':_0xde90b6});}),_0x227b7b[_0xb1dff8(0x1fa)]('/:uuid',async _0x6cf107=>{const _0x3883e2=_0xb1dff8,_0x22afd1=_0x6cf107['req'][_0x3883e2(0x158)](_0x3883e2(0x12f)),_0x4137c9=_0x6cf107[_0x3883e2(0x136)];if(!/^[0-9a-fA-F-]{36}$/[_0x3883e2(0x191)](_0x22afd1))return _0x6cf107['text']('Invalid\x20UUID',0x190);const _0x1fb5a5=await _0x4137c9['DB']['prepare'](_0x3883e2(0x200))['bind'](_0x22afd1)['first']();if(!_0x1fb5a5)return _0x6cf107[_0x3883e2(0xbe)]('Authentication\x20failed',0x193);let _0x47627d=_0x4137c9['PROXYIPS']?_0x4137c9['PROXYIPS'][_0x3883e2(0x196)](',')[0x0]:_0x3883e2(0x103);try{const _0x363beb=await _0x4137c9['DB']['prepare']('SELECT\x20ip_port\x20FROM\x20proxy_health\x20WHERE\x20is_healthy\x20=\x201\x20ORDER\x20BY\x20latency_ms\x20ASC\x20LIMIT\x201')[_0x3883e2(0x1ce)]();if(_0x363beb?.[_0x3883e2(0x1af)])_0x47627d=_0x363beb[_0x3883e2(0x1af)];}catch(_0x531e86){}const _0x120e12=_0x6cf107[_0x3883e2(0x1c2)][_0x3883e2(0x177)]['get'](_0x3883e2(0x123))||'example.com',_0x37e15b=_0x3883e2(0x149)+_0x120e12+_0x3883e2(0x132)+_0x22afd1,_0x19563e=_0x3883e2(0x149)+_0x120e12+_0x3883e2(0xe7)+_0x22afd1,_0x24ac63=expiryToISO(_0x1fb5a5[_0x3883e2(0x235)],_0x1fb5a5[_0x3883e2(0x11a)]),_0xff565f='<!doctype\x20html><html><head><meta\x20charset=\x22utf-8\x22><meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22><title>User\x20Panel</title><script\x20src=\x22https://unpkg.com/htmx.org@1.9.2\x22></script><script\x20src=\x22https://unpkg.com/alpinejs@3.x.x\x22\x20defer></script></head><body>\x0a\x20\x20<h1>User\x20Panel</h1>\x0a\x20\x20<div>\x0a\x20\x20\x20\x20<p>UUID:\x20<code>'+_0x22afd1+_0x3883e2(0xc3)+_0x47627d+_0x3883e2(0x216)+_0x37e15b+'\x22>'+_0x37e15b+_0x3883e2(0x110)+_0x19563e+'\x22>'+_0x19563e+_0x3883e2(0x1f7)+_0x22afd1+_0x3883e2(0x181)+(_0x1fb5a5['traffic_used']||0x0)+_0x3883e2(0x214)+(_0x24ac63||'Unlimited')+_0x3883e2(0x210),_0x42956d=new Headers({'Content-Type':'text/html;charset=utf-8'});return _0x1fa700(_0x42956d),new Response(_0xff565f,{'headers':_0x42956d});}),_0x227b7b['get'](_0xb1dff8(0x108),async _0x11fef3=>{const _0x57242b=_0xb1dff8,_0x552aef=_0x11fef3[_0x57242b(0x1c2)][_0x57242b(0x158)]('uuid');if(!/^[0-9a-fA-F-]{36}$/[_0x57242b(0x191)](_0x552aef))return _0x11fef3[_0x57242b(0xbe)]('Invalid\x20UUID',0x190);const _0x478f42=_0x11fef3[_0x57242b(0x1c2)]['headers'][_0x57242b(0x1fa)](_0x57242b(0x123))||_0x57242b(0x1cf),_0x11604b=['vless://'+_0x552aef+'@'+_0x478f42+':443?type=ws&host='+_0x478f42+_0x57242b(0x14c)],_0x1528eb=new Headers({'Content-Type':_0x57242b(0x14a)});return _0x1fa700(_0x1528eb),new Response(btoa(_0x11604b[_0x57242b(0x1b8)]('\x0a')),{'headers':_0x1528eb});}),_0x227b7b[_0xb1dff8(0x1fa)]('/sb/:uuid',async _0x5a0a14=>{const _0xf87b78=_0xb1dff8,_0x479006=_0x5a0a14['req'][_0xf87b78(0x158)](_0xf87b78(0x12f));if(!/^[0-9a-fA-F-]{36}$/[_0xf87b78(0x191)](_0x479006))return _0x5a0a14[_0xf87b78(0xbe)](_0xf87b78(0x17c),0x190);const _0x7fc75f=_0x5a0a14[_0xf87b78(0x1c2)][_0xf87b78(0x177)][_0xf87b78(0x1fa)](_0xf87b78(0x123))||_0xf87b78(0x1cf),_0x266ee8=[_0xf87b78(0x1f2)+_0x479006+'@'+_0x7fc75f+_0xf87b78(0x11b)+_0x7fc75f+'&path=/ws#singbox'],_0x4f5907=new Headers({'Content-Type':_0xf87b78(0x14a)});return _0x1fa700(_0x4f5907),new Response(btoa(_0x266ee8[_0xf87b78(0x1b8)]('\x0a')),{'headers':_0x4f5907});}),_0x227b7b['all'](_0xb1dff8(0x1a7),async _0x3a0d47=>{const _0x4d4c1a=_0xb1dff8,_0x1dcf56=_0x3a0d47['req'],_0x4e6fc9=_0x3a0d47['env'];if(_0x1dcf56[_0x4d4c1a(0x177)]['get'](_0x4d4c1a(0xdf))?.[_0x4d4c1a(0x115)]()!==_0x4d4c1a(0xc6))return _0x3a0d47['text']('Must\x20upgrade\x20to\x20WebSocket',0x190);try{if(_0x4e6fc9['VLESS_WASM'])try{await initWasm();}catch(_0x204ed7){console['warn'](_0x4d4c1a(0x12e),_0x204ed7);}}catch(_0x284581){console[_0x4d4c1a(0x1f3)](_0x4d4c1a(0x18f),_0x284581);}const _0x14cd61=new globalThis[(_0x4d4c1a(0xc2))](),[_0xb97b26,_0x5111ba]=Object['values'](_0x14cd61);_0x5111ba[_0x4d4c1a(0xf2)]();let _0x9dabc4=0x0,_0x4c5e99='';const _0x4a1ae6=async()=>{const _0x3c6fae=_0x4d4c1a;try{if(!_0x4c5e99||_0x9dabc4<=0x0)return;_0x3a0d47[_0x3c6fae(0x217)][_0x3c6fae(0x15b)](((async()=>{const _0xa0e58=_0x3c6fae;try{await _0x4e6fc9['DB'][_0xa0e58(0xee)]('UPDATE\x20users\x20SET\x20traffic_used\x20=\x20traffic_used\x20+\x20?\x20WHERE\x20uuid\x20=\x20?')[_0xa0e58(0x17a)](Math[_0xa0e58(0x16a)](_0x9dabc4),_0x4c5e99)[_0xa0e58(0x1de)]();}catch(_0x2a43be){console[_0xa0e58(0x13f)](_0xa0e58(0x1e7),_0x2a43be);}})())),_0x9dabc4=0x0;}catch(_0x18c6aa){console['error'](_0x3c6fae(0x10e),_0x18c6aa);}},_0xbd2f6b=setInterval(()=>{_0x4a1ae6();},0x2710);_0x5111ba[_0x4d4c1a(0x1d0)](_0x4d4c1a(0x170),async _0x41d562=>{const _0x36fea6=_0x4d4c1a;try{const _0x42f6da=_0x41d562[_0x36fea6(0x22b)];let _0x5e0d8b;if(typeof _0x42f6da===_0x36fea6(0x1db))_0x5e0d8b=new TextEncoder()[_0x36fea6(0xf6)](_0x42f6da);else{if(_0x42f6da instanceof ArrayBuffer)_0x5e0d8b=new Uint8Array(_0x42f6da);else{if(_0x42f6da instanceof Blob)_0x5e0d8b=new Uint8Array(await _0x42f6da['arrayBuffer']());else return;}}_0x9dabc4+=_0x5e0d8b[_0x36fea6(0x201)];if(!_0x4c5e99)try{if(_0x5e0d8b[_0x36fea6(0x201)]<0x18){}let _0x149f00=null;try{_0x149f00=await parseVlessHeader(_0x5e0d8b);}catch(_0x169d03){console[_0x36fea6(0x1f3)](_0x36fea6(0x1c5),_0x169d03);}if(!_0x149f00){const _0x3c56eb=new DataView(_0x5e0d8b[_0x36fea6(0x1e6)]),_0x465362=new Uint8Array(_0x5e0d8b[_0x36fea6(0x1e6)][_0x36fea6(0x17e)](0x1,0x11)),_0x2ba24a=Array[_0x36fea6(0x17d)](_0x465362)[_0x36fea6(0x21f)](_0x377ee4=>_0x377ee4['toString'](0x10)[_0x36fea6(0x1d8)](0x2,'0'))[_0x36fea6(0x1b8)](''),_0x50b8c9=_0x2ba24a[_0x36fea6(0x113)](0x0,0x8)+'-'+_0x2ba24a['substring'](0x8,0xc)+'-'+_0x2ba24a[_0x36fea6(0x113)](0xc,0x10)+'-'+_0x2ba24a[_0x36fea6(0x113)](0x10,0x14)+'-'+_0x2ba24a['substring'](0x14,0x20);_0x149f00={'uuid':_0x50b8c9,'command':_0x3c56eb[_0x36fea6(0x1a4)](0x12),'address':'','address_type':0x1,'port':0x1bb};}_0x4c5e99=_0x149f00[_0x36fea6(0x12f)];const _0xbb9075=await _0x4e6fc9['DB']['prepare'](_0x36fea6(0x1fd))[_0x36fea6(0x17a)](_0x4c5e99)[_0x36fea6(0x1ce)]();if(!_0xbb9075){_0x5111ba['close'](0x3f3,_0x36fea6(0x184));return;}const _0x535972=expiryToISO(_0xbb9075['expiration_date'],_0xbb9075[_0x36fea6(0x11a)]);if(_0x535972&&new Date(_0x535972)<=new Date()){_0x5111ba['close'](0x3f0,_0x36fea6(0x171));return;}if(_0xbb9075['traffic_limit']&&_0xbb9075[_0x36fea6(0x13c)]>0x0&&(_0xbb9075[_0x36fea6(0x11f)]||0x0)>=_0xbb9075[_0x36fea6(0x13c)]){_0x5111ba[_0x36fea6(0x13a)](0x3f0,_0x36fea6(0xfb));return;}try{const _0x2e394b=_0x1dcf56[_0x36fea6(0x177)][_0x36fea6(0x1fa)](_0x36fea6(0x1e5))||_0x1dcf56[_0x36fea6(0x177)][_0x36fea6(0x1fa)](_0x36fea6(0x20c))||'';if(_0xbb9075[_0x36fea6(0x1f8)]&&_0xbb9075[_0x36fea6(0x1f8)]>-0x1){const _0x5e90ec=await _0x4e6fc9['DB']['prepare'](_0x36fea6(0x1a8))['bind'](_0x4c5e99)[_0x36fea6(0x1ce)](),_0x3a5c76=_0x5e90ec?.[_0x36fea6(0xe6)]||0x0;if(_0x3a5c76>=_0xbb9075[_0x36fea6(0x1f8)]){_0x5111ba[_0x36fea6(0x13a)](0x3f0,'IP\x20limit\x20exceeded');return;}}_0x3a0d47[_0x36fea6(0x217)][_0x36fea6(0x15b)](((async()=>{const _0x1b3363=_0x36fea6;try{await _0x4e6fc9['DB']['prepare'](_0x1b3363(0x1a5))[_0x1b3363(0x17a)](_0x4c5e99,_0x1dcf56[_0x1b3363(0x177)][_0x1b3363(0x1fa)](_0x1b3363(0x1e5))||_0x1b3363(0xec))[_0x1b3363(0x1de)]();}catch(_0x45ae6c){console['warn'](_0x1b3363(0x1b7),_0x45ae6c);}})()));}catch(_0x5c0544){console[_0x36fea6(0x1f3)](_0x36fea6(0x218),_0x5c0544);}}catch(_0x1e42f7){console['error'](_0x36fea6(0x1df),_0x1e42f7),_0x5111ba[_0x36fea6(0x13a)](0x3f3,_0x36fea6(0xd3));return;}try{_0x5111ba['readyState']===0x1&&_0x5111ba['send'](_0x36fea6(0x111));}catch(_0x4d2a75){console[_0x36fea6(0x1f3)](_0x36fea6(0x19a),_0x4d2a75);}}catch(_0x2b8604){console[_0x36fea6(0x13f)](_0x36fea6(0x220),_0x2b8604);try{_0x5111ba['close'](0x3f3,_0x36fea6(0x167));}catch(_0x1fccea){}}}),_0x5111ba[_0x4d4c1a(0x1d0)](_0x4d4c1a(0x13a),async()=>{const _0x22c86f=_0x4d4c1a;clearInterval(_0xbd2f6b);try{await _0x4a1ae6();}catch(_0x248265){console[_0x22c86f(0x1f3)](_0x22c86f(0xda),_0x248265);}});const _0x3cb5a0=new Headers();_0x1fa700(_0x3cb5a0);const _0x53a8d0={'status':0x65,'webSocket':_0xb97b26,'headers':_0x3cb5a0};return new Response(null,_0x53a8d0);}),_0x227b7b['get'](_0xb1dff8(0xef),async _0x132b0a=>{const _0x54f9ac=_0xb1dff8;return _0x132b0a[_0x54f9ac(0xbe)]('Static\x20assets\x20are\x20not\x20served\x20from\x20this\x20build.');});}var src_default={'fetch':async(_0x413b63,_0x4ab3a4,_0x430943)=>{const _0xf686e0=await getApp();return _0xf686e0['fetch'](_0x413b63,_0x4ab3a4,_0x430943);}};export{src_default as default,expiryToISO};